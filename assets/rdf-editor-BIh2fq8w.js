const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C743JiYk.js","assets/index-BOvYCoiN.js","assets/index-BfYWPPsp.js","assets/readable-BmS1kvD9.js","assets/index-Bk9Nd8TQ.js","assets/index-BOhJIny9.js","assets/canonicalize-53SzByLi.js","assets/index-DCCMpbC-.js","assets/N3StreamParser-CDHlkQOq.js","assets/CustomRdfXmlParser-JJHC2klp.js","assets/index-D7dloCif.js","assets/CustomJsonLdSerializer-sifTnp_h.js","assets/main-DGfkjKXm.js","assets/main-CyiNgfWu.js","assets/main-ui0Z22y3.js","assets/main-DBRiXsma.js","assets/browser-2j7IlWdf.js","assets/main-Bi8QFT97.js","assets/main-PRofpsYC.js","assets/main-C0hyOWTh.js","assets/main-Dg9TJPAy.js","assets/index-BrFGhsjY.js","assets/index-mlMXqOVQ.js","assets/stream-DfaxZOSM.js"])))=>i.map(i=>d[i]);
import{a7 as ir,a6 as $n,ad as Cr,a1 as Ga,ae as qa,_ as lt,af as Zf,a3 as mn,ac as Qf,a2 as sn,a5 as Lt,ag as ed,ah as Xl,V as td,ai as rd,W as id}from"./index-BfYWPPsp.js";function nd(e,t){return class extends e{constructor(){super(),this.$rdf=t}}}const ld=(e,t,r,i)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const n=Object.getOwnPropertyDescriptor(e,r),l=Object.getOwnPropertyDescriptor(t,r);!od(n,l)&&i||Object.defineProperty(e,r,l)},od=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},sd=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},ad=(e,t)=>`/* Wrapped ${e}*/
${t}`,ud=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),fd=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),dd=(e,t,r)=>{const i=r===""?"":`with ${r.trim()}() `,n=ad.bind(null,i,t.toString());Object.defineProperty(n,"name",fd),Object.defineProperty(e,"toString",{...ud,value:n})};function cd(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:i}=e;for(const n of Reflect.ownKeys(t))ld(e,t,n,r);return sd(e,t),dd(e,t,i),e}const En=new WeakMap,Ka=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,i=0;const n=e.displayName||e.name||"<anonymous>",l=function(...o){if(En.set(l,++i),i===1)r=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return r};return cd(l,e),En.set(l,i),l};Ka.callCount=e=>{if(!En.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return En.get(e)};var dl={exports:{}},cl={exports:{}},hl,ps;function Pe(){if(ps)return hl;ps=1;class e extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let i="";for(let n=0;n<r.length;n++)i+=`    ${r[n].stack}
`;super(i),this.name="AggregateError",this.errors=r}}return hl={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,i){return t.slice(r,i)},Error,FunctionPrototypeCall(t,r,...i){return t.call(r,...i)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,i){return Object.defineProperty(t,r,i)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,i){return t.then(r,i)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,i){return t.slice(r,i)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,i){return t.set(r,i)},Boolean,Uint8Array},hl}var pl={exports:{}},gl,gs;function Xa(){return gs||(gs=1,gl={format(e,...t){return e.replace(/%([sdifj])/g,function(...[r,i]){const n=t.shift();return i==="f"?n.toFixed(6):i==="j"?JSON.stringify(n):i==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),gl}var bl,bs;function tt(){if(bs)return bl;bs=1;const{format:e,inspect:t}=Xa(),{AggregateError:r}=Pe(),i=globalThis.AggregateError||r,n=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",a={};function u(w,y){if(!w)throw new a.ERR_INTERNAL_ASSERTION(y)}function d(w){let y="",m=w.length;const C=w[0]==="-"?1:0;for(;m>=C+4;m-=3)y=`_${w.slice(m-3,m)}${y}`;return`${w.slice(0,m)}${y}`}function c(w,y,m){if(typeof y=="function")return u(y.length<=m.length,`Code: ${w}; The provided arguments length (${m.length}) does not match the required ones (${y.length}).`),y(...m);const C=(y.match(/%[dfijoOs]/g)||[]).length;return u(C===m.length,`Code: ${w}; The provided arguments length (${m.length}) does not match the required ones (${C}).`),m.length===0?y:e(y,...m)}function g(w,y,m){m||(m=Error);class C extends m{constructor(...$){super(c(w,y,$))}toString(){return`${this.name} [${w}]: ${this.message}`}}Object.defineProperties(C.prototype,{name:{value:m.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${w}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),C.prototype.code=w,C.prototype[n]=!0,a[w]=C}function b(w){const y=s+w.name;return Object.defineProperty(w,"name",{value:y}),w}function x(w,y){if(w&&y&&w!==y){if(Array.isArray(y.errors))return y.errors.push(w),y;const m=new i([y,w],y.message);return m.code=y.code,m}return w||y}class A extends Error{constructor(y="The operation was aborted",m=void 0){if(m!==void 0&&typeof m!="object")throw new a.ERR_INVALID_ARG_TYPE("options","Object",m);super(y,m),this.code="ABORT_ERR",this.name="AbortError"}}return g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(w,y,m)=>{u(typeof w=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let C="The ";w.endsWith(" argument")?C+=`${w} `:C+=`"${w}" ${w.includes(".")?"property":"argument"} `,C+="must be ";const P=[],$=[],ne=[];for(const Z of y)u(typeof Z=="string","All expected entries have to be of type string"),l.includes(Z)?P.push(Z.toLowerCase()):o.test(Z)?$.push(Z):(u(Z!=="object",'The value "object" should be written as "Object"'),ne.push(Z));if($.length>0){const Z=P.indexOf("object");Z!==-1&&(P.splice(P,Z,1),$.push("Object"))}if(P.length>0){switch(P.length){case 1:C+=`of type ${P[0]}`;break;case 2:C+=`one of type ${P[0]} or ${P[1]}`;break;default:{const Z=P.pop();C+=`one of type ${P.join(", ")}, or ${Z}`}}($.length>0||ne.length>0)&&(C+=" or ")}if($.length>0){switch($.length){case 1:C+=`an instance of ${$[0]}`;break;case 2:C+=`an instance of ${$[0]} or ${$[1]}`;break;default:{const Z=$.pop();C+=`an instance of ${$.join(", ")}, or ${Z}`}}ne.length>0&&(C+=" or ")}switch(ne.length){case 0:break;case 1:ne[0].toLowerCase()!==ne[0]&&(C+="an "),C+=`${ne[0]}`;break;case 2:C+=`one of ${ne[0]} or ${ne[1]}`;break;default:{const Z=ne.pop();C+=`one of ${ne.join(", ")}, or ${Z}`}}if(m==null)C+=`. Received ${m}`;else if(typeof m=="function"&&m.name)C+=`. Received function ${m.name}`;else if(typeof m=="object"){var ae;if((ae=m.constructor)!==null&&ae!==void 0&&ae.name)C+=`. Received an instance of ${m.constructor.name}`;else{const Z=t(m,{depth:-1});C+=`. Received ${Z}`}}else{let Z=t(m,{colors:!1});Z.length>25&&(Z=`${Z.slice(0,25)}...`),C+=`. Received type ${typeof m} (${Z})`}return C},TypeError),g("ERR_INVALID_ARG_VALUE",(w,y,m="is invalid")=>{let C=t(y);return C.length>128&&(C=C.slice(0,128)+"..."),`The ${w.includes(".")?"property":"argument"} '${w}' ${m}. Received ${C}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(w,y,m)=>{var C;const P=m!=null&&(C=m.constructor)!==null&&C!==void 0&&C.name?`instance of ${m.constructor.name}`:`type ${typeof m}`;return`Expected ${w} to be returned from the "${y}" function but got ${P}.`},TypeError),g("ERR_MISSING_ARGS",(...w)=>{u(w.length>0,"At least one arg needs to be specified");let y;const m=w.length;switch(w=(Array.isArray(w)?w:[w]).map(C=>`"${C}"`).join(" or "),m){case 1:y+=`The ${w[0]} argument`;break;case 2:y+=`The ${w[0]} and ${w[1]} arguments`;break;default:{const C=w.pop();y+=`The ${w.join(", ")}, and ${C} arguments`}break}return`${y} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(w,y,m)=>{u(y,'Missing "range" argument');let C;if(Number.isInteger(m)&&Math.abs(m)>2**32)C=d(String(m));else if(typeof m=="bigint"){C=String(m);const P=BigInt(2)**BigInt(32);(m>P||m<-P)&&(C=d(C)),C+="n"}else C=t(m);return`The value of "${w}" is out of range. It must be ${y}. Received ${C}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),bl={AbortError:A,aggregateTwoErrors:b(x),hideStackFrames:b,codes:a},bl}var di={exports:{}},ys;function Ri(){if(ys)return di.exports;ys=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return di.exports=e,di.exports.AbortSignal=t,di.exports.default=e,di.exports}var ms;function it(){return ms||(ms=1,function(e){const t=ir(),{format:r,inspect:i}=Xa(),{codes:{ERR_INVALID_ARG_TYPE:n}}=tt(),{kResistStopPropagation:l,AggregateError:o,SymbolDispose:s}=Pe(),a=globalThis.AbortSignal||Ri().AbortSignal,u=globalThis.AbortController||Ri().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,c=globalThis.Blob||t.Blob,g=typeof c<"u"?function(w){return w instanceof c}:function(w){return!1},b=(A,w)=>{if(A!==void 0&&(A===null||typeof A!="object"||!("aborted"in A)))throw new n(w,"AbortSignal",A)},x=(A,w)=>{if(typeof A!="function")throw new n(w,"Function",A)};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(A){let w=!1;return function(...y){w||(w=!0,A.apply(this,y))}},createDeferredPromise:function(){let A,w;return{promise:new Promise((m,C)=>{A=m,w=C}),resolve:A,reject:w}},promisify(A){return new Promise((w,y)=>{A((m,...C)=>m?y(m):w(...C))})},debuglog(){return function(){}},format:r,inspect:i,types:{isAsyncFunction(A){return A instanceof d},isArrayBufferView(A){return ArrayBuffer.isView(A)}},isBlob:g,deprecate(A,w){return A},addAbortListener:$n().addAbortListener||function(w,y){if(w===void 0)throw new n("signal","AbortSignal",w);b(w,"signal"),x(y,"listener");let m;return w.aborted?queueMicrotask(()=>y()):(w.addEventListener("abort",y,{__proto__:null,once:!0,[l]:!0}),m=()=>{w.removeEventListener("abort",y)}),{__proto__:null,[s](){var C;(C=m)===null||C===void 0||C()}}},AbortSignalAny:a.any||function(w){if(w.length===1)return w[0];const y=new u,m=()=>y.abort();return w.forEach(C=>{b(C,"signals"),C.addEventListener("abort",m,{once:!0})}),y.signal.addEventListener("abort",()=>{w.forEach(C=>C.removeEventListener("abort",m))},{once:!0}),y.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(pl)),pl.exports}var an={},yl,ws;function Ji(){if(ws)return yl;ws=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:r,ArrayPrototypeMap:i,NumberIsInteger:n,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:a,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:d,String:c,StringPrototypeToUpperCase:g,StringPrototypeTrim:b}=Pe(),{hideStackFrames:x,codes:{ERR_SOCKET_BAD_PORT:A,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:m,ERR_UNKNOWN_SIGNAL:C}}=tt(),{normalizeEncoding:P}=it(),{isAsyncFunction:$,isArrayBufferView:ne}=it().types,ae={};function Z(f){return f===(f|0)}function _(f){return f===f>>>0}const T=/^[0-7]+$/,h="must be a 32-bit unsigned integer or an octal string";function W(f,v,R){if(typeof f>"u"&&(f=R),typeof f=="string"){if(d(T,f)===null)throw new y(v,f,h);f=a(f,8)}return le(f,v),f}const M=x((f,v,R=s,O=o)=>{if(typeof f!="number")throw new w(v,"number",f);if(!n(f))throw new m(v,"an integer",f);if(f<R||f>O)throw new m(v,`>= ${R} && <= ${O}`,f)}),X=x((f,v,R=-2147483648,O=2147483647)=>{if(typeof f!="number")throw new w(v,"number",f);if(!n(f))throw new m(v,"an integer",f);if(f<R||f>O)throw new m(v,`>= ${R} && <= ${O}`,f)}),le=x((f,v,R=!1)=>{if(typeof f!="number")throw new w(v,"number",f);if(!n(f))throw new m(v,"an integer",f);const O=R?1:0,oe=4294967295;if(f<O||f>oe)throw new m(v,`>= ${O} && <= ${oe}`,f)});function fe(f,v){if(typeof f!="string")throw new w(v,"string",f)}function ye(f,v,R=void 0,O){if(typeof f!="number")throw new w(v,"number",f);if(R!=null&&f<R||O!=null&&f>O||(R!=null||O!=null)&&l(f))throw new m(v,`${R!=null?`>= ${R}`:""}${R!=null&&O!=null?" && ":""}${O!=null?`<= ${O}`:""}`,f)}const U=x((f,v,R)=>{if(!t(R,f)){const oe="must be one of: "+r(i(R,Ce=>typeof Ce=="string"?`'${Ce}'`:c(Ce)),", ");throw new y(v,f,oe)}});function ie(f,v){if(typeof f!="boolean")throw new w(v,"boolean",f)}function L(f,v,R){return f==null||!u(f,v)?R:f[v]}const B=x((f,v,R=null)=>{const O=L(R,"allowArray",!1),oe=L(R,"allowFunction",!1);if(!L(R,"nullable",!1)&&f===null||!O&&e(f)||typeof f!="object"&&(!oe||typeof f!="function"))throw new w(v,"Object",f)}),j=x((f,v)=>{if(f!=null&&typeof f!="object"&&typeof f!="function")throw new w(v,"a dictionary",f)}),D=x((f,v,R=0)=>{if(!e(f))throw new w(v,"Array",f);if(f.length<R){const O=`must be longer than ${R}`;throw new y(v,f,O)}});function Y(f,v){D(f,v);for(let R=0;R<f.length;R++)fe(f[R],`${v}[${R}]`)}function se(f,v){D(f,v);for(let R=0;R<f.length;R++)ie(f[R],`${v}[${R}]`)}function _e(f,v){D(f,v);for(let R=0;R<f.length;R++){const O=f[R],oe=`${v}[${R}]`;if(O==null)throw new w(oe,"AbortSignal",O);he(O,oe)}}function te(f,v="signal"){if(fe(f,v),ae[f]===void 0)throw ae[g(f)]!==void 0?new C(f+" (signals must use all capital letters)"):new C(f)}const F=x((f,v="buffer")=>{if(!ne(f))throw new w(v,["Buffer","TypedArray","DataView"],f)});function q(f,v){const R=P(v),O=f.length;if(R==="hex"&&O%2!==0)throw new y("encoding",v,`is invalid for data of length ${O}`)}function ue(f,v="Port",R=!0){if(typeof f!="number"&&typeof f!="string"||typeof f=="string"&&b(f).length===0||+f!==+f>>>0||f>65535||f===0&&!R)throw new A(v,f,R);return f|0}const he=x((f,v)=>{if(f!==void 0&&(f===null||typeof f!="object"||!("aborted"in f)))throw new w(v,"AbortSignal",f)}),ce=x((f,v)=>{if(typeof f!="function")throw new w(v,"Function",f)}),N=x((f,v)=>{if(typeof f!="function"||$(f))throw new w(v,"Function",f)}),I=x((f,v)=>{if(f!==void 0)throw new w(v,"undefined",f)});function H(f,v,R){if(!t(R,f))throw new w(v,`('${r(R,"|")}')`,f)}const J=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Q(f,v){if(typeof f>"u"||!d(J,f))throw new y(v,f,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function z(f){if(typeof f=="string")return Q(f,"hints"),f;if(e(f)){const v=f.length;let R="";if(v===0)return R;for(let O=0;O<v;O++){const oe=f[O];Q(oe,"hints"),R+=oe,O!==v-1&&(R+=", ")}return R}throw new y("hints",f,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return yl={isInt32:Z,isUint32:_,parseFileMode:W,validateArray:D,validateStringArray:Y,validateBooleanArray:se,validateAbortSignalArray:_e,validateBoolean:ie,validateBuffer:F,validateDictionary:j,validateEncoding:q,validateFunction:ce,validateInt32:X,validateInteger:M,validateNumber:ye,validateObject:B,validateOneOf:U,validatePlainFunction:N,validatePort:ue,validateSignalName:te,validateString:fe,validateUint32:le,validateUndefined:I,validateUnion:H,validateAbortSignal:he,validateLinkHeaderValue:z},yl}var un={exports:{}},ml,vs;function Ut(){if(vs)return ml;vs=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:r}=Pe(),i=r("nodejs.stream.destroyed"),n=r("nodejs.stream.errored"),l=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),s=r("nodejs.stream.disturbed"),a=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function d(L,B=!1){var j;return!!(L&&typeof L.pipe=="function"&&typeof L.on=="function"&&(!B||typeof L.pause=="function"&&typeof L.resume=="function")&&(!L._writableState||((j=L._readableState)===null||j===void 0?void 0:j.readable)!==!1)&&(!L._writableState||L._readableState))}function c(L){var B;return!!(L&&typeof L.write=="function"&&typeof L.on=="function"&&(!L._readableState||((B=L._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function g(L){return!!(L&&typeof L.pipe=="function"&&L._readableState&&typeof L.on=="function"&&typeof L.write=="function")}function b(L){return L&&(L._readableState||L._writableState||typeof L.write=="function"&&typeof L.on=="function"||typeof L.pipe=="function"&&typeof L.on=="function")}function x(L){return!!(L&&!b(L)&&typeof L.pipeThrough=="function"&&typeof L.getReader=="function"&&typeof L.cancel=="function")}function A(L){return!!(L&&!b(L)&&typeof L.getWriter=="function"&&typeof L.abort=="function")}function w(L){return!!(L&&!b(L)&&typeof L.readable=="object"&&typeof L.writable=="object")}function y(L){return x(L)||A(L)||w(L)}function m(L,B){return L==null?!1:B===!0?typeof L[e]=="function":B===!1?typeof L[t]=="function":typeof L[e]=="function"||typeof L[t]=="function"}function C(L){if(!b(L))return null;const B=L._writableState,j=L._readableState,D=B||j;return!!(L.destroyed||L[i]||D!=null&&D.destroyed)}function P(L){if(!c(L))return null;if(L.writableEnded===!0)return!0;const B=L._writableState;return B!=null&&B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function $(L,B){if(!c(L))return null;if(L.writableFinished===!0)return!0;const j=L._writableState;return j!=null&&j.errored?!1:typeof(j==null?void 0:j.finished)!="boolean"?null:!!(j.finished||B===!1&&j.ended===!0&&j.length===0)}function ne(L){if(!d(L))return null;if(L.readableEnded===!0)return!0;const B=L._readableState;return!B||B.errored?!1:typeof(B==null?void 0:B.ended)!="boolean"?null:B.ended}function ae(L,B){if(!d(L))return null;const j=L._readableState;return j!=null&&j.errored?!1:typeof(j==null?void 0:j.endEmitted)!="boolean"?null:!!(j.endEmitted||B===!1&&j.ended===!0&&j.length===0)}function Z(L){return L&&L[l]!=null?L[l]:typeof(L==null?void 0:L.readable)!="boolean"?null:C(L)?!1:d(L)&&L.readable&&!ae(L)}function _(L){return L&&L[o]!=null?L[o]:typeof(L==null?void 0:L.writable)!="boolean"?null:C(L)?!1:c(L)&&L.writable&&!P(L)}function T(L,B){return b(L)?C(L)?!0:!((B==null?void 0:B.readable)!==!1&&Z(L)||(B==null?void 0:B.writable)!==!1&&_(L)):null}function h(L){var B,j;return b(L)?L.writableErrored?L.writableErrored:(B=(j=L._writableState)===null||j===void 0?void 0:j.errored)!==null&&B!==void 0?B:null:null}function W(L){var B,j;return b(L)?L.readableErrored?L.readableErrored:(B=(j=L._readableState)===null||j===void 0?void 0:j.errored)!==null&&B!==void 0?B:null:null}function M(L){if(!b(L))return null;if(typeof L.closed=="boolean")return L.closed;const B=L._writableState,j=L._readableState;return typeof(B==null?void 0:B.closed)=="boolean"||typeof(j==null?void 0:j.closed)=="boolean"?(B==null?void 0:B.closed)||(j==null?void 0:j.closed):typeof L._closed=="boolean"&&X(L)?L._closed:null}function X(L){return typeof L._closed=="boolean"&&typeof L._defaultKeepAlive=="boolean"&&typeof L._removedConnection=="boolean"&&typeof L._removedContLen=="boolean"}function le(L){return typeof L._sent100=="boolean"&&X(L)}function fe(L){var B;return typeof L._consuming=="boolean"&&typeof L._dumped=="boolean"&&((B=L.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function ye(L){if(!b(L))return null;const B=L._writableState,j=L._readableState,D=B||j;return!D&&le(L)||!!(D&&D.autoDestroy&&D.emitClose&&D.closed===!1)}function U(L){var B;return!!(L&&((B=L[s])!==null&&B!==void 0?B:L.readableDidRead||L.readableAborted))}function ie(L){var B,j,D,Y,se,_e,te,F,q,ue;return!!(L&&((B=(j=(D=(Y=(se=(_e=L[n])!==null&&_e!==void 0?_e:L.readableErrored)!==null&&se!==void 0?se:L.writableErrored)!==null&&Y!==void 0?Y:(te=L._readableState)===null||te===void 0?void 0:te.errorEmitted)!==null&&D!==void 0?D:(F=L._writableState)===null||F===void 0?void 0:F.errorEmitted)!==null&&j!==void 0?j:(q=L._readableState)===null||q===void 0?void 0:q.errored)!==null&&B!==void 0?B:!((ue=L._writableState)===null||ue===void 0)&&ue.errored))}return ml={isDestroyed:C,kIsDestroyed:i,isDisturbed:U,kIsDisturbed:s,isErrored:ie,kIsErrored:n,isReadable:Z,kIsReadable:l,kIsClosedPromise:a,kControllerErrorFunction:u,kIsWritable:o,isClosed:M,isDuplexNodeStream:g,isFinished:T,isIterable:m,isReadableNodeStream:d,isReadableStream:x,isReadableEnded:ne,isReadableFinished:ae,isReadableErrored:W,isNodeStream:b,isWebStream:y,isWritable:_,isWritableNodeStream:c,isWritableStream:A,isWritableEnded:P,isWritableFinished:$,isWritableErrored:h,isServerRequest:fe,isServerResponse:le,willEmitClose:ye,isTransformStream:w},ml}var Ss;function nr(){if(Ss)return un.exports;Ss=1;const e=Cr(),{AbortError:t,codes:r}=tt(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:n}=r,{kEmptyObject:l,once:o}=it(),{validateAbortSignal:s,validateFunction:a,validateObject:u,validateBoolean:d}=Ji(),{Promise:c,PromisePrototypeThen:g,SymbolDispose:b}=Pe(),{isClosed:x,isReadable:A,isReadableNodeStream:w,isReadableStream:y,isReadableFinished:m,isReadableErrored:C,isWritable:P,isWritableNodeStream:$,isWritableStream:ne,isWritableFinished:ae,isWritableErrored:Z,isNodeStream:_,willEmitClose:T,kIsClosedPromise:h}=Ut();let W;function M(U){return U.setHeader&&typeof U.abort=="function"}const X=()=>{};function le(U,ie,L){var B,j;if(arguments.length===2?(L=ie,ie=l):ie==null?ie=l:u(ie,"options"),a(L,"callback"),s(ie.signal,"options.signal"),L=o(L),y(U)||ne(U))return fe(U,ie,L);if(!_(U))throw new i("stream",["ReadableStream","WritableStream","Stream"],U);const D=(B=ie.readable)!==null&&B!==void 0?B:w(U),Y=(j=ie.writable)!==null&&j!==void 0?j:$(U),se=U._writableState,_e=U._readableState,te=()=>{U.writable||ue()};let F=T(U)&&w(U)===D&&$(U)===Y,q=ae(U,!1);const ue=()=>{q=!0,U.destroyed&&(F=!1),!(F&&(!U.readable||D))&&(!D||he)&&L.call(U)};let he=m(U,!1);const ce=()=>{he=!0,U.destroyed&&(F=!1),!(F&&(!U.writable||Y))&&(!Y||q)&&L.call(U)},N=f=>{L.call(U,f)};let I=x(U);const H=()=>{I=!0;const f=Z(U)||C(U);if(f&&typeof f!="boolean")return L.call(U,f);if(D&&!he&&w(U,!0)&&!m(U,!1))return L.call(U,new n);if(Y&&!q&&!ae(U,!1))return L.call(U,new n);L.call(U)},J=()=>{I=!0;const f=Z(U)||C(U);if(f&&typeof f!="boolean")return L.call(U,f);L.call(U)},Q=()=>{U.req.on("finish",ue)};M(U)?(U.on("complete",ue),F||U.on("abort",H),U.req?Q():U.on("request",Q)):Y&&!se&&(U.on("end",te),U.on("close",te)),!F&&typeof U.aborted=="boolean"&&U.on("aborted",H),U.on("end",ce),U.on("finish",ue),ie.error!==!1&&U.on("error",N),U.on("close",H),I?e.nextTick(H):se!=null&&se.errorEmitted||_e!=null&&_e.errorEmitted?F||e.nextTick(J):(!D&&(!F||A(U))&&(q||P(U)===!1)||!Y&&(!F||P(U))&&(he||A(U)===!1)||_e&&U.req&&U.aborted)&&e.nextTick(J);const z=()=>{L=X,U.removeListener("aborted",H),U.removeListener("complete",ue),U.removeListener("abort",H),U.removeListener("request",Q),U.req&&U.req.removeListener("finish",ue),U.removeListener("end",te),U.removeListener("close",te),U.removeListener("finish",ue),U.removeListener("end",ce),U.removeListener("error",N),U.removeListener("close",H)};if(ie.signal&&!I){const f=()=>{const v=L;z(),v.call(U,new t(void 0,{cause:ie.signal.reason}))};if(ie.signal.aborted)e.nextTick(f);else{W=W||it().addAbortListener;const v=W(ie.signal,f),R=L;L=o((...O)=>{v[b](),R.apply(U,O)})}}return z}function fe(U,ie,L){let B=!1,j=X;if(ie.signal)if(j=()=>{B=!0,L.call(U,new t(void 0,{cause:ie.signal.reason}))},ie.signal.aborted)e.nextTick(j);else{W=W||it().addAbortListener;const Y=W(ie.signal,j),se=L;L=o((..._e)=>{Y[b](),se.apply(U,_e)})}const D=(...Y)=>{B||e.nextTick(()=>L.apply(U,Y))};return g(U[h].promise,D,D),X}function ye(U,ie){var L;let B=!1;return ie===null&&(ie=l),(L=ie)!==null&&L!==void 0&&L.cleanup&&(d(ie.cleanup,"cleanup"),B=ie.cleanup),new c((j,D)=>{const Y=le(U,ie,se=>{B&&Y(),se?D(se):j()})})}return un.exports=le,un.exports.finished=ye,un.exports}var wl,xs;function ei(){if(xs)return wl;xs=1;const e=Cr(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:i}=tt(),{Symbol:n}=Pe(),{kIsDestroyed:l,isDestroyed:o,isFinished:s,isServerRequest:a}=Ut(),u=n("kDestroy"),d=n("kConstruct");function c(T,h,W){T&&(T.stack,h&&!h.errored&&(h.errored=T),W&&!W.errored&&(W.errored=T))}function g(T,h){const W=this._readableState,M=this._writableState,X=M||W;return M!=null&&M.destroyed||W!=null&&W.destroyed?(typeof h=="function"&&h(),this):(c(T,M,W),M&&(M.destroyed=!0),W&&(W.destroyed=!0),X.constructed?b(this,T,h):this.once(u,function(le){b(this,t(le,T),h)}),this)}function b(T,h,W){let M=!1;function X(le){if(M)return;M=!0;const fe=T._readableState,ye=T._writableState;c(le,ye,fe),ye&&(ye.closed=!0),fe&&(fe.closed=!0),typeof W=="function"&&W(le),le?e.nextTick(x,T,le):e.nextTick(A,T)}try{T._destroy(h||null,X)}catch(le){X(le)}}function x(T,h){w(T,h),A(T)}function A(T){const h=T._readableState,W=T._writableState;W&&(W.closeEmitted=!0),h&&(h.closeEmitted=!0),(W!=null&&W.emitClose||h!=null&&h.emitClose)&&T.emit("close")}function w(T,h){const W=T._readableState,M=T._writableState;M!=null&&M.errorEmitted||W!=null&&W.errorEmitted||(M&&(M.errorEmitted=!0),W&&(W.errorEmitted=!0),T.emit("error",h))}function y(){const T=this._readableState,h=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),h&&(h.constructed=!0,h.destroyed=!1,h.closed=!1,h.closeEmitted=!1,h.errored=null,h.errorEmitted=!1,h.finalCalled=!1,h.prefinished=!1,h.ended=h.writable===!1,h.ending=h.writable===!1,h.finished=h.writable===!1)}function m(T,h,W){const M=T._readableState,X=T._writableState;if(X!=null&&X.destroyed||M!=null&&M.destroyed)return this;M!=null&&M.autoDestroy||X!=null&&X.autoDestroy?T.destroy(h):h&&(h.stack,X&&!X.errored&&(X.errored=h),M&&!M.errored&&(M.errored=h),W?e.nextTick(w,T,h):w(T,h))}function C(T,h){if(typeof T._construct!="function")return;const W=T._readableState,M=T._writableState;W&&(W.constructed=!1),M&&(M.constructed=!1),T.once(d,h),!(T.listenerCount(d)>1)&&e.nextTick(P,T)}function P(T){let h=!1;function W(M){if(h){m(T,M??new r);return}h=!0;const X=T._readableState,le=T._writableState,fe=le||X;X&&(X.constructed=!0),le&&(le.constructed=!0),fe.destroyed?T.emit(u,M):M?m(T,M,!0):e.nextTick($,T)}try{T._construct(M=>{e.nextTick(W,M)})}catch(M){e.nextTick(W,M)}}function $(T){T.emit(d)}function ne(T){return(T==null?void 0:T.setHeader)&&typeof T.abort=="function"}function ae(T){T.emit("close")}function Z(T,h){T.emit("error",h),e.nextTick(ae,T)}function _(T,h){!T||o(T)||(!h&&!s(T)&&(h=new i),a(T)?(T.socket=null,T.destroy(h)):ne(T)?T.abort():ne(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(h):typeof T.close=="function"?T.close():h?e.nextTick(Z,T,h):e.nextTick(ae,T),T.destroyed||(T[l]=!0))}return wl={construct:C,destroyer:_,destroy:g,undestroy:y,errorOrDestroy:m},wl}var vl,_s;function yo(){if(_s)return vl;_s=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Pe(),{EventEmitter:r}=$n();function i(l){r.call(this,l)}t(i.prototype,r.prototype),t(i,r),i.prototype.pipe=function(l,o){const s=this;function a(A){l.writable&&l.write(A)===!1&&s.pause&&s.pause()}s.on("data",a);function u(){s.readable&&s.resume&&s.resume()}l.on("drain",u),!l._isStdio&&(!o||o.end!==!1)&&(s.on("end",c),s.on("close",g));let d=!1;function c(){d||(d=!0,l.end())}function g(){d||(d=!0,typeof l.destroy=="function"&&l.destroy())}function b(A){x(),r.listenerCount(this,"error")===0&&this.emit("error",A)}n(s,"error",b),n(l,"error",b);function x(){s.removeListener("data",a),l.removeListener("drain",u),s.removeListener("end",c),s.removeListener("close",g),s.removeListener("error",b),l.removeListener("error",b),s.removeListener("end",x),s.removeListener("close",x),l.removeListener("close",x)}return s.on("end",x),s.on("close",x),l.on("close",x),l.emit("pipe",s),l};function n(l,o,s){if(typeof l.prependListener=="function")return l.prependListener(o,s);!l._events||!l._events[o]?l.on(o,s):e(l._events[o])?l._events[o].unshift(s):l._events[o]=[s,l._events[o]]}return vl={Stream:i,prependListener:n},vl}var Sl={exports:{}},Cs;function Fn(){return Cs||(Cs=1,function(e){const{SymbolDispose:t}=Pe(),{AbortError:r,codes:i}=tt(),{isNodeStream:n,isWebStream:l,kControllerErrorFunction:o}=Ut(),s=nr(),{ERR_INVALID_ARG_TYPE:a}=i;let u;const d=(c,g)=>{if(typeof c!="object"||!("aborted"in c))throw new a(g,"AbortSignal",c)};e.exports.addAbortSignal=function(g,b){if(d(g,"signal"),!n(b)&&!l(b))throw new a("stream",["ReadableStream","WritableStream","Stream"],b);return e.exports.addAbortSignalNoValidate(g,b)},e.exports.addAbortSignalNoValidate=function(c,g){if(typeof c!="object"||!("aborted"in c))return g;const b=n(g)?()=>{g.destroy(new r(void 0,{cause:c.reason}))}:()=>{g[o](new r(void 0,{cause:c.reason}))};if(c.aborted)b();else{u=u||it().addAbortListener;const x=u(c,b);s(g,x[t])}return g}}(Sl)),Sl.exports}var xl,ks;function hd(){if(ks)return xl;ks=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:r,Uint8Array:i}=Pe(),{Buffer:n}=ir(),{inspect:l}=it();return xl=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(s){const a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let a=this.head,u=""+a.data;for(;(a=a.next)!==null;)u+=s+a.data;return u}concat(s){if(this.length===0)return n.alloc(0);const a=n.allocUnsafe(s>>>0);let u=this.head,d=0;for(;u;)r(a,u.data,d),d+=u.data.length,u=u.next;return a}consume(s,a){const u=this.head.data;if(s<u.length){const d=u.slice(0,s);return this.head.data=u.slice(s),d}return s===u.length?this.shift():a?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let a="",u=this.head,d=0;do{const c=u.data;if(s>c.length)a+=c,s-=c.length;else{s===c.length?(a+=c,++d,u.next?this.head=u.next:this.head=this.tail=null):(a+=e(c,0,s),this.head=u,u.data=e(c,s));break}++d}while((u=u.next)!==null);return this.length-=d,a}_getBuffer(s){const a=n.allocUnsafe(s),u=s;let d=this.head,c=0;do{const g=d.data;if(s>g.length)r(a,g,u-s),s-=g.length;else{s===g.length?(r(a,g,u-s),++c,d.next?this.head=d.next:this.head=this.tail=null):(r(a,new i(g.buffer,g.byteOffset,s),u-s),this.head=d,d.data=g.slice(s));break}++c}while((d=d.next)!==null);return this.length-=c,a}[Symbol.for("nodejs.util.inspect.custom")](s,a){return l(this,{...a,depth:0,customInspect:!1})}},xl}var _l,Es;function Hn(){if(Es)return _l;Es=1;const{MathFloor:e,NumberIsInteger:t}=Pe(),{validateInteger:r}=Ji(),{ERR_INVALID_ARG_VALUE:i}=tt().codes;let n=16*1024,l=16;function o(d,c,g){return d.highWaterMark!=null?d.highWaterMark:c?d[g]:null}function s(d){return d?l:n}function a(d,c){r(c,"value",0),d?l=c:n=c}function u(d,c,g,b){const x=o(c,b,g);if(x!=null){if(!t(x)||x<0){const A=b?`options.${g}`:"options.highWaterMark";throw new i(A,x)}return e(x)}return s(d.objectMode)}return _l={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:a},_l}var Cl={},fn={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Ts;function pd(){return Ts||(Ts=1,function(e,t){var r=ir(),i=r.Buffer;function n(o,s){for(var a in o)s[a]=o[a]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(n(r,t),t.Buffer=l);function l(o,s,a){return i(o,s,a)}l.prototype=Object.create(i.prototype),n(i,l),l.from=function(o,s,a){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,s,a)},l.alloc=function(o,s,a){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=i(o);return s!==void 0?typeof a=="string"?u.fill(s,a):u.fill(s):u.fill(0),u},l.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},l.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(fn,fn.exports)),fn.exports}var As;function gd(){if(As)return Cl;As=1;var e=pd().Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var m;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(m)return;y=(""+y).toLowerCase(),m=!0}}function i(y){var m=r(y);if(typeof m!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return m||y}Cl.StringDecoder=n;function n(y){this.encoding=i(y);var m;switch(this.encoding){case"utf16le":this.text=c,this.end=g,m=4;break;case"utf8":this.fillLast=a,m=4;break;case"base64":this.text=b,this.end=x,m=3;break;default:this.write=A,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(m)}n.prototype.write=function(y){if(y.length===0)return"";var m,C;if(this.lastNeed){if(m=this.fillLast(y),m===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<y.length?m?m+this.text(y,C):this.text(y,C):m||""},n.prototype.end=d,n.prototype.text=u,n.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function l(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function o(y,m,C){var P=m.length-1;if(P<C)return 0;var $=l(m[P]);return $>=0?($>0&&(y.lastNeed=$-1),$):--P<C||$===-2?0:($=l(m[P]),$>=0?($>0&&(y.lastNeed=$-2),$):--P<C||$===-2?0:($=l(m[P]),$>=0?($>0&&($===2?$=0:y.lastNeed=$-3),$):0))}function s(y,m,C){if((m[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return y.lastNeed=2,"�"}}function a(y){var m=this.lastTotal-this.lastNeed,C=s(this,y);if(C!==void 0)return C;if(this.lastNeed<=y.length)return y.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,m,0,y.length),this.lastNeed-=y.length}function u(y,m){var C=o(this,y,m);if(!this.lastNeed)return y.toString("utf8",m);this.lastTotal=C;var P=y.length-(C-this.lastNeed);return y.copy(this.lastChar,0,P),y.toString("utf8",m,P)}function d(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+"�":m}function c(y,m){if((y.length-m)%2===0){var C=y.toString("utf16le",m);if(C){var P=C.charCodeAt(C.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",m,y.length-1)}function g(y){var m=y&&y.length?this.write(y):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,C)}return m}function b(y,m){var C=(y.length-m)%3;return C===0?y.toString("base64",m):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",m,y.length-C))}function x(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function A(y){return y.toString(this.encoding)}function w(y){return y&&y.length?this.write(y):""}return Cl}var kl,Ls;function Ja(){if(Ls)return kl;Ls=1;const e=Cr(),{PromisePrototypeThen:t,SymbolAsyncIterator:r,SymbolIterator:i}=Pe(),{Buffer:n}=ir(),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:o}=tt().codes;function s(a,u,d){let c;if(typeof u=="string"||u instanceof n)return new a({objectMode:!0,...d,read(){this.push(u),this.push(null)}});let g;if(u&&u[r])g=!0,c=u[r]();else if(u&&u[i])g=!1,c=u[i]();else throw new l("iterable",["Iterable"],u);const b=new a({objectMode:!0,highWaterMark:1,...d});let x=!1;b._read=function(){x||(x=!0,w())},b._destroy=function(y,m){t(A(y),()=>e.nextTick(m,y),C=>e.nextTick(m,C||y))};async function A(y){const m=y!=null,C=typeof c.throw=="function";if(m&&C){const{value:P,done:$}=await c.throw(y);if(await P,$)return}if(typeof c.return=="function"){const{value:P}=await c.return();await P}}async function w(){for(;;){try{const{value:y,done:m}=g?await c.next():c.next();if(m)b.push(null);else{const C=y&&typeof y.then=="function"?await y:y;if(C===null)throw x=!1,new o;if(b.push(C))continue;x=!1}}catch(y){b.destroy(y)}break}}return b}return kl=s,kl}var El,Ms;function Bn(){if(Ms)return El;Ms=1;const e=Cr(),{ArrayPrototypeIndexOf:t,NumberIsInteger:r,NumberIsNaN:i,NumberParseInt:n,ObjectDefineProperties:l,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:a,SafeSet:u,SymbolAsyncDispose:d,SymbolAsyncIterator:c,Symbol:g}=Pe();El=O,O.ReadableState=R;const{EventEmitter:b}=$n(),{Stream:x,prependListener:A}=yo(),{Buffer:w}=ir(),{addAbortSignal:y}=Fn(),m=nr();let C=it().debuglog("stream",S=>{C=S});const P=hd(),$=ei(),{getHighWaterMark:ne,getDefaultHighWaterMark:ae}=Hn(),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:W,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M},AbortError:X}=tt(),{validateObject:le}=Ji(),fe=g("kPaused"),{StringDecoder:ye}=gd(),U=Ja();s(O.prototype,x.prototype),s(O,x);const ie=()=>{},{errorOrDestroy:L}=$,B=1,j=2,D=4,Y=8,se=16,_e=32,te=64,F=128,q=256,ue=512,he=1024,ce=2048,N=4096,I=8192,H=16384,J=32768,Q=65536,z=1<<17,f=1<<18;function v(S){return{enumerable:!1,get(){return(this.state&S)!==0},set(E){E?this.state|=S:this.state&=~S}}}l(R.prototype,{objectMode:v(B),ended:v(j),endEmitted:v(D),reading:v(Y),constructed:v(se),sync:v(_e),needReadable:v(te),emittedReadable:v(F),readableListening:v(q),resumeScheduled:v(ue),errorEmitted:v(he),emitClose:v(ce),autoDestroy:v(N),destroyed:v(I),closed:v(H),closeEmitted:v(J),multiAwaitDrain:v(Q),readingMore:v(z),dataEmitted:v(f)});function R(S,E,re){typeof re!="boolean"&&(re=E instanceof Ft()),this.state=ce|N|se|_e,S&&S.objectMode&&(this.state|=B),re&&S&&S.readableObjectMode&&(this.state|=B),this.highWaterMark=S?ne(this,S,"readableHighWaterMark",re):ae(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[fe]=null,S&&S.emitClose===!1&&(this.state&=-2049),S&&S.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,S&&S.encoding&&(this.decoder=new ye(S.encoding),this.encoding=S.encoding)}function O(S){if(!(this instanceof O))return new O(S);const E=this instanceof Ft();this._readableState=new R(S,this,E),S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&!E&&y(S.signal,this)),x.call(this,S),$.construct(this,()=>{this._readableState.needReadable&&qe(this,this._readableState)})}O.prototype.destroy=$.destroy,O.prototype._undestroy=$.undestroy,O.prototype._destroy=function(S,E){E(S)},O.prototype[b.captureRejectionSymbol]=function(S){this.destroy(S)},O.prototype[d]=function(){let S;return this.destroyed||(S=this.readableEnded?null:new X,this.destroy(S)),new a((E,re)=>m(this,ee=>ee&&ee!==S?re(ee):E(null)))},O.prototype.push=function(S,E){return oe(this,S,E,!1)},O.prototype.unshift=function(S,E){return oe(this,S,E,!0)};function oe(S,E,re,ee){C("readableAddChunk",E);const de=S._readableState;let De;if((de.state&B)===0&&(typeof E=="string"?(re=re||de.defaultEncoding,de.encoding!==re&&(ee&&de.encoding?E=w.from(E,re).toString(de.encoding):(E=w.from(E,re),re=""))):E instanceof w?re="":x._isUint8Array(E)?(E=x._uint8ArrayToBuffer(E),re=""):E!=null&&(De=new _("chunk",["string","Buffer","Uint8Array"],E))),De)L(S,De);else if(E===null)de.state&=-9,Ge(S,de);else if((de.state&B)!==0||E&&E.length>0)if(ee)if((de.state&D)!==0)L(S,new M);else{if(de.destroyed||de.errored)return!1;Ce(S,de,E,!0)}else if(de.ended)L(S,new W);else{if(de.destroyed||de.errored)return!1;de.state&=-9,de.decoder&&!re?(E=de.decoder.write(E),de.objectMode||E.length!==0?Ce(S,de,E,!1):qe(S,de)):Ce(S,de,E,!1)}else ee||(de.state&=-9,qe(S,de));return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function Ce(S,E,re,ee){E.flowing&&E.length===0&&!E.sync&&S.listenerCount("data")>0?((E.state&Q)!==0?E.awaitDrainWriters.clear():E.awaitDrainWriters=null,E.dataEmitted=!0,S.emit("data",re)):(E.length+=E.objectMode?1:re.length,ee?E.buffer.unshift(re):E.buffer.push(re),(E.state&te)!==0&&Je(S)),qe(S,E)}O.prototype.isPaused=function(){const S=this._readableState;return S[fe]===!0||S.flowing===!1},O.prototype.setEncoding=function(S){const E=new ye(S);this._readableState.decoder=E,this._readableState.encoding=this._readableState.decoder.encoding;const re=this._readableState.buffer;let ee="";for(const de of re)ee+=E.write(de);return re.clear(),ee!==""&&re.push(ee),this._readableState.length=ee.length,this};const me=1073741824;function Se(S){if(S>me)throw new h("size","<= 1GiB",S);return S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++,S}function Oe(S,E){return S<=0||E.length===0&&E.ended?0:(E.state&B)!==0?1:i(S)?E.flowing&&E.length?E.buffer.first().length:E.length:S<=E.length?S:E.ended?E.length:0}O.prototype.read=function(S){C("read",S),S===void 0?S=NaN:r(S)||(S=n(S,10));const E=this._readableState,re=S;if(S>E.highWaterMark&&(E.highWaterMark=Se(S)),S!==0&&(E.state&=-129),S===0&&E.needReadable&&((E.highWaterMark!==0?E.length>=E.highWaterMark:E.length>0)||E.ended))return C("read: emitReadable",E.length,E.ended),E.length===0&&E.ended?Ye(this):Je(this),null;if(S=Oe(S,E),S===0&&E.ended)return E.length===0&&Ye(this),null;let ee=(E.state&te)!==0;if(C("need readable",ee),(E.length===0||E.length-S<E.highWaterMark)&&(ee=!0,C("length less than watermark",ee)),E.ended||E.reading||E.destroyed||E.errored||!E.constructed)ee=!1,C("reading, ended or constructing",ee);else if(ee){C("do read"),E.state|=Y|_e,E.length===0&&(E.state|=te);try{this._read(E.highWaterMark)}catch(De){L(this,De)}E.state&=-33,E.reading||(S=Oe(re,E))}let de;return S>0?de=Nr(S,E):de=null,de===null?(E.needReadable=E.length<=E.highWaterMark,S=0):(E.length-=S,E.multiAwaitDrain?E.awaitDrainWriters.clear():E.awaitDrainWriters=null),E.length===0&&(E.ended||(E.needReadable=!0),re!==S&&E.ended&&Ye(this)),de!==null&&!E.errorEmitted&&!E.closeEmitted&&(E.dataEmitted=!0,this.emit("data",de)),de};function Ge(S,E){if(C("onEofChunk"),!E.ended){if(E.decoder){const re=E.decoder.end();re&&re.length&&(E.buffer.push(re),E.length+=E.objectMode?1:re.length)}E.ended=!0,E.sync?Je(S):(E.needReadable=!1,E.emittedReadable=!0,Rr(S))}}function Je(S){const E=S._readableState;C("emitReadable",E.needReadable,E.emittedReadable),E.needReadable=!1,E.emittedReadable||(C("emitReadable",E.flowing),E.emittedReadable=!0,e.nextTick(Rr,S))}function Rr(S){const E=S._readableState;C("emitReadable_",E.destroyed,E.length,E.ended),!E.destroyed&&!E.errored&&(E.length||E.ended)&&(S.emit("readable"),E.emittedReadable=!1),E.needReadable=!E.flowing&&!E.ended&&E.length<=E.highWaterMark,nn(S)}function qe(S,E){!E.readingMore&&E.constructed&&(E.readingMore=!0,e.nextTick(sl,S,E))}function sl(S,E){for(;!E.reading&&!E.ended&&(E.length<E.highWaterMark||E.flowing&&E.length===0);){const re=E.length;if(C("maybeReadMore read 0"),S.read(0),re===E.length)break}E.readingMore=!1}O.prototype._read=function(S){throw new T("_read()")},O.prototype.pipe=function(S,E){const re=this,ee=this._readableState;ee.pipes.length===1&&(ee.multiAwaitDrain||(ee.multiAwaitDrain=!0,ee.awaitDrainWriters=new u(ee.awaitDrainWriters?[ee.awaitDrainWriters]:[]))),ee.pipes.push(S),C("pipe count=%d opts=%j",ee.pipes.length,E);const De=(!E||E.end!==!1)&&S!==e.stdout&&S!==e.stderr?kt:Et;ee.endEmitted?e.nextTick(De):re.once("end",De),S.on("unpipe",Ve);function Ve(Tt,mt){C("onunpipe"),Tt===re&&mt&&mt.hasUnpiped===!1&&(mt.hasUnpiped=!0,Or())}function kt(){C("onend"),S.end()}let Dt,ai=!1;function Or(){C("cleanup"),S.removeListener("close",Ir),S.removeListener("finish",fi),Dt&&S.removeListener("drain",Dt),S.removeListener("error",ui),S.removeListener("unpipe",Ve),re.removeListener("end",kt),re.removeListener("end",Et),re.removeListener("data",ur),ai=!0,Dt&&ee.awaitDrainWriters&&(!S._writableState||S._writableState.needDrain)&&Dt()}function dt(){ai||(ee.pipes.length===1&&ee.pipes[0]===S?(C("false write response, pause",0),ee.awaitDrainWriters=S,ee.multiAwaitDrain=!1):ee.pipes.length>1&&ee.pipes.includes(S)&&(C("false write response, pause",ee.awaitDrainWriters.size),ee.awaitDrainWriters.add(S)),re.pause()),Dt||(Dt=Le(re,S),S.on("drain",Dt))}re.on("data",ur);function ur(Tt){C("ondata");const mt=S.write(Tt);C("dest.write",mt),mt===!1&&dt()}function ui(Tt){if(C("onerror",Tt),Et(),S.removeListener("error",ui),S.listenerCount("error")===0){const mt=S._writableState||S._readableState;mt&&!mt.errorEmitted?L(S,Tt):S.emit("error",Tt)}}A(S,"error",ui);function Ir(){S.removeListener("finish",fi),Et()}S.once("close",Ir);function fi(){C("onfinish"),S.removeListener("close",Ir),Et()}S.once("finish",fi);function Et(){C("unpipe"),re.unpipe(S)}return S.emit("pipe",re),S.writableNeedDrain===!0?dt():ee.flowing||(C("pipe resume"),re.resume()),S};function Le(S,E){return function(){const ee=S._readableState;ee.awaitDrainWriters===E?(C("pipeOnDrain",1),ee.awaitDrainWriters=null):ee.multiAwaitDrain&&(C("pipeOnDrain",ee.awaitDrainWriters.size),ee.awaitDrainWriters.delete(E)),(!ee.awaitDrainWriters||ee.awaitDrainWriters.size===0)&&S.listenerCount("data")&&S.resume()}}O.prototype.unpipe=function(S){const E=this._readableState,re={hasUnpiped:!1};if(E.pipes.length===0)return this;if(!S){const de=E.pipes;E.pipes=[],this.pause();for(let De=0;De<de.length;De++)de[De].emit("unpipe",this,{hasUnpiped:!1});return this}const ee=t(E.pipes,S);return ee===-1?this:(E.pipes.splice(ee,1),E.pipes.length===0&&this.pause(),S.emit("unpipe",this,re),this)},O.prototype.on=function(S,E){const re=x.prototype.on.call(this,S,E),ee=this._readableState;return S==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):S==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,C("on readable",ee.length,ee.reading),ee.length?Je(this):ee.reading||e.nextTick(sr,this)),re},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(S,E){const re=x.prototype.removeListener.call(this,S,E);return S==="readable"&&e.nextTick(rn,this),re},O.prototype.off=O.prototype.removeListener,O.prototype.removeAllListeners=function(S){const E=x.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&e.nextTick(rn,this),E};function rn(S){const E=S._readableState;E.readableListening=S.listenerCount("readable")>0,E.resumeScheduled&&E[fe]===!1?E.flowing=!0:S.listenerCount("data")>0?S.resume():E.readableListening||(E.flowing=null)}function sr(S){C("readable nexttick read 0"),S.read(0)}O.prototype.resume=function(){const S=this._readableState;return S.flowing||(C("resume"),S.flowing=!S.readableListening,si(this,S)),S[fe]=!1,this};function si(S,E){E.resumeScheduled||(E.resumeScheduled=!0,e.nextTick(Ct,S,E))}function Ct(S,E){C("resume",E.reading),E.reading||S.read(0),E.resumeScheduled=!1,S.emit("resume"),nn(S),E.flowing&&!E.reading&&S.read(0)}O.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[fe]=!0,this};function nn(S){const E=S._readableState;for(C("flow",E.flowing);E.flowing&&S.read()!==null;);}O.prototype.wrap=function(S){let E=!1;S.on("data",ee=>{!this.push(ee)&&S.pause&&(E=!0,S.pause())}),S.on("end",()=>{this.push(null)}),S.on("error",ee=>{L(this,ee)}),S.on("close",()=>{this.destroy()}),S.on("destroy",()=>{this.destroy()}),this._read=()=>{E&&S.resume&&(E=!1,S.resume())};const re=o(S);for(let ee=1;ee<re.length;ee++){const de=re[ee];this[de]===void 0&&typeof S[de]=="function"&&(this[de]=S[de].bind(S))}return this},O.prototype[c]=function(){return ar(this)},O.prototype.iterator=function(S){return S!==void 0&&le(S,"options"),ar(this,S)};function ar(S,E){typeof S.read!="function"&&(S=O.wrap(S,{objectMode:!0}));const re=al(S,E);return re.stream=S,re}async function*al(S,E){let re=ie;function ee(Ve){this===S?(re(),re=ie):re=Ve}S.on("readable",ee);let de;const De=m(S,{writable:!1},Ve=>{de=Ve?Z(de,Ve):null,re(),re=ie});try{for(;;){const Ve=S.destroyed?null:S.read();if(Ve!==null)yield Ve;else{if(de)throw de;if(de===null)return;await new a(ee)}}}catch(Ve){throw de=Z(de,Ve),de}finally{(de||(E==null?void 0:E.destroyOnReturn)!==!1)&&(de===void 0||S._readableState.autoDestroy)?$.destroyer(S,null):(S.off("readable",ee),De())}}l(O.prototype,{readable:{__proto__:null,get(){const S=this._readableState;return!!S&&S.readable!==!1&&!S.destroyed&&!S.errorEmitted&&!S.endEmitted},set(S){this._readableState&&(this._readableState.readable=!!S)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(S){this._readableState&&(this._readableState.flowing=S)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(S){this._readableState&&(this._readableState.destroyed=S)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),l(R.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[fe]!==!1},set(S){this[fe]=!!S}}}),O._fromList=Nr;function Nr(S,E){if(E.length===0)return null;let re;return E.objectMode?re=E.buffer.shift():!S||S>=E.length?(E.decoder?re=E.buffer.join(""):E.buffer.length===1?re=E.buffer.first():re=E.buffer.concat(E.length),E.buffer.clear()):re=E.buffer.consume(S,E.decoder),re}function Ye(S){const E=S._readableState;C("endReadable",E.endEmitted),E.endEmitted||(E.ended=!0,e.nextTick(ln,E,S))}function ln(S,E){if(C("endReadableNT",S.endEmitted,S.length),!S.errored&&!S.closeEmitted&&!S.endEmitted&&S.length===0){if(S.endEmitted=!0,E.emit("end"),E.writable&&E.allowHalfOpen===!1)e.nextTick(ul,E);else if(S.autoDestroy){const re=E._writableState;(!re||re.autoDestroy&&(re.finished||re.writable===!1))&&E.destroy()}}}function ul(S){S.writable&&!S.writableEnded&&!S.destroyed&&S.end()}O.from=function(S,E){return U(O,S,E)};let ft;function on(){return ft===void 0&&(ft={}),ft}return O.fromWeb=function(S,E){return on().newStreamReadableFromReadableStream(S,E)},O.toWeb=function(S,E){return on().newReadableStreamFromStreamReadable(S,E)},O.wrap=function(S,E){var re,ee;return new O({objectMode:(re=(ee=S.readableObjectMode)!==null&&ee!==void 0?ee:S.objectMode)!==null&&re!==void 0?re:!0,...E,destroy(de,De){$.destroyer(S,de),De(de)}}).wrap(S)},El}var Tl,Rs;function mo(){if(Rs)return Tl;Rs=1;const e=Cr(),{ArrayPrototypeSlice:t,Error:r,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:n,ObjectDefineProperties:l,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:a,SymbolHasInstance:u}=Pe();Tl=le,le.WritableState=M;const{EventEmitter:d}=$n(),c=yo().Stream,{Buffer:g}=ir(),b=ei(),{addAbortSignal:x}=Fn(),{getHighWaterMark:A,getDefaultHighWaterMark:w}=Hn(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:C,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:$,ERR_STREAM_ALREADY_FINISHED:ne,ERR_STREAM_NULL_VALUES:ae,ERR_STREAM_WRITE_AFTER_END:Z,ERR_UNKNOWN_ENCODING:_}=tt().codes,{errorOrDestroy:T}=b;o(le.prototype,c.prototype),o(le,c);function h(){}const W=a("kOnFinished");function M(N,I,H){typeof H!="boolean"&&(H=I instanceof Ft()),this.objectMode=!!(N&&N.objectMode),H&&(this.objectMode=this.objectMode||!!(N&&N.writableObjectMode)),this.highWaterMark=N?A(this,N,"writableHighWaterMark",H):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const J=!!(N&&N.decodeStrings===!1);this.decodeStrings=!J,this.defaultEncoding=N&&N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=L.bind(void 0,I),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,X(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!N||N.emitClose!==!1,this.autoDestroy=!N||N.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[W]=[]}function X(N){N.buffered=[],N.bufferedIndex=0,N.allBuffers=!0,N.allNoop=!0}M.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},n(M.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function le(N){const I=this instanceof Ft();if(!I&&!i(le,this))return new le(N);this._writableState=new M(N,this,I),N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final),typeof N.construct=="function"&&(this._construct=N.construct),N.signal&&x(N.signal,this)),c.call(this,N),b.construct(this,()=>{const H=this._writableState;H.writing||Y(this,H),F(this,H)})}n(le,u,{__proto__:null,value:function(N){return i(this,N)?!0:this!==le?!1:N&&N._writableState instanceof M}}),le.prototype.pipe=function(){T(this,new P)};function fe(N,I,H,J){const Q=N._writableState;if(typeof H=="function")J=H,H=Q.defaultEncoding;else{if(!H)H=Q.defaultEncoding;else if(H!=="buffer"&&!g.isEncoding(H))throw new _(H);typeof J!="function"&&(J=h)}if(I===null)throw new ae;if(!Q.objectMode)if(typeof I=="string")Q.decodeStrings!==!1&&(I=g.from(I,H),H="buffer");else if(I instanceof g)H="buffer";else if(c._isUint8Array(I))I=c._uint8ArrayToBuffer(I),H="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],I);let z;return Q.ending?z=new Z:Q.destroyed&&(z=new $("write")),z?(e.nextTick(J,z),T(N,z,!0),z):(Q.pendingcb++,ye(N,Q,I,H,J))}le.prototype.write=function(N,I,H){return fe(this,N,I,H)===!0},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){const N=this._writableState;N.corked&&(N.corked--,N.writing||Y(this,N))},le.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=s(I)),!g.isEncoding(I))throw new _(I);return this._writableState.defaultEncoding=I,this};function ye(N,I,H,J,Q){const z=I.objectMode?1:H.length;I.length+=z;const f=I.length<I.highWaterMark;return f||(I.needDrain=!0),I.writing||I.corked||I.errored||!I.constructed?(I.buffered.push({chunk:H,encoding:J,callback:Q}),I.allBuffers&&J!=="buffer"&&(I.allBuffers=!1),I.allNoop&&Q!==h&&(I.allNoop=!1)):(I.writelen=z,I.writecb=Q,I.writing=!0,I.sync=!0,N._write(H,J,I.onwrite),I.sync=!1),f&&!I.errored&&!I.destroyed}function U(N,I,H,J,Q,z,f){I.writelen=J,I.writecb=f,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new $("write")):H?N._writev(Q,I.onwrite):N._write(Q,z,I.onwrite),I.sync=!1}function ie(N,I,H,J){--I.pendingcb,J(H),D(I),T(N,H)}function L(N,I){const H=N._writableState,J=H.sync,Q=H.writecb;if(typeof Q!="function"){T(N,new C);return}H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0,I?(I.stack,H.errored||(H.errored=I),N._readableState&&!N._readableState.errored&&(N._readableState.errored=I),J?e.nextTick(ie,N,H,I,Q):ie(N,H,I,Q)):(H.buffered.length>H.bufferedIndex&&Y(N,H),J?H.afterWriteTickInfo!==null&&H.afterWriteTickInfo.cb===Q?H.afterWriteTickInfo.count++:(H.afterWriteTickInfo={count:1,cb:Q,stream:N,state:H},e.nextTick(B,H.afterWriteTickInfo)):j(N,H,1,Q))}function B({stream:N,state:I,count:H,cb:J}){return I.afterWriteTickInfo=null,j(N,I,H,J)}function j(N,I,H,J){for(!I.ending&&!N.destroyed&&I.length===0&&I.needDrain&&(I.needDrain=!1,N.emit("drain"));H-- >0;)I.pendingcb--,J();I.destroyed&&D(I),F(N,I)}function D(N){if(N.writing)return;for(let Q=N.bufferedIndex;Q<N.buffered.length;++Q){var I;const{chunk:z,callback:f}=N.buffered[Q],v=N.objectMode?1:z.length;N.length-=v,f((I=N.errored)!==null&&I!==void 0?I:new $("write"))}const H=N[W].splice(0);for(let Q=0;Q<H.length;Q++){var J;H[Q]((J=N.errored)!==null&&J!==void 0?J:new $("end"))}X(N)}function Y(N,I){if(I.corked||I.bufferProcessing||I.destroyed||!I.constructed)return;const{buffered:H,bufferedIndex:J,objectMode:Q}=I,z=H.length-J;if(!z)return;let f=J;if(I.bufferProcessing=!0,z>1&&N._writev){I.pendingcb-=z-1;const v=I.allNoop?h:O=>{for(let oe=f;oe<H.length;++oe)H[oe].callback(O)},R=I.allNoop&&f===0?H:t(H,f);R.allBuffers=I.allBuffers,U(N,I,!0,I.length,R,"",v),X(I)}else{do{const{chunk:v,encoding:R,callback:O}=H[f];H[f++]=null;const oe=Q?1:v.length;U(N,I,!1,oe,v,R,O)}while(f<H.length&&!I.writing);f===H.length?X(I):f>256?(H.splice(0,f),I.bufferedIndex=0):I.bufferedIndex=f}I.bufferProcessing=!1}le.prototype._write=function(N,I,H){if(this._writev)this._writev([{chunk:N,encoding:I}],H);else throw new m("_write()")},le.prototype._writev=null,le.prototype.end=function(N,I,H){const J=this._writableState;typeof N=="function"?(H=N,N=null,I=null):typeof I=="function"&&(H=I,I=null);let Q;if(N!=null){const z=fe(this,N,I);z instanceof r&&(Q=z)}return J.corked&&(J.corked=1,this.uncork()),Q||(!J.errored&&!J.ending?(J.ending=!0,F(this,J,!0),J.ended=!0):J.finished?Q=new ne("end"):J.destroyed&&(Q=new $("end"))),typeof H=="function"&&(Q||J.finished?e.nextTick(H,Q):J[W].push(H)),this};function se(N){return N.ending&&!N.destroyed&&N.constructed&&N.length===0&&!N.errored&&N.buffered.length===0&&!N.finished&&!N.writing&&!N.errorEmitted&&!N.closeEmitted}function _e(N,I){let H=!1;function J(Q){if(H){T(N,Q??C());return}if(H=!0,I.pendingcb--,Q){const z=I[W].splice(0);for(let f=0;f<z.length;f++)z[f](Q);T(N,Q,I.sync)}else se(I)&&(I.prefinished=!0,N.emit("prefinish"),I.pendingcb++,e.nextTick(q,N,I))}I.sync=!0,I.pendingcb++;try{N._final(J)}catch(Q){J(Q)}I.sync=!1}function te(N,I){!I.prefinished&&!I.finalCalled&&(typeof N._final=="function"&&!I.destroyed?(I.finalCalled=!0,_e(N,I)):(I.prefinished=!0,N.emit("prefinish")))}function F(N,I,H){se(I)&&(te(N,I),I.pendingcb===0&&(H?(I.pendingcb++,e.nextTick((J,Q)=>{se(Q)?q(J,Q):Q.pendingcb--},N,I)):se(I)&&(I.pendingcb++,q(N,I))))}function q(N,I){I.pendingcb--,I.finished=!0;const H=I[W].splice(0);for(let J=0;J<H.length;J++)H[J]();if(N.emit("finish"),I.autoDestroy){const J=N._readableState;(!J||J.autoDestroy&&(J.endEmitted||J.readable===!1))&&N.destroy()}}l(le.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(N){this._writableState&&(this._writableState.destroyed=N)}},writable:{__proto__:null,get(){const N=this._writableState;return!!N&&N.writable!==!1&&!N.destroyed&&!N.errored&&!N.ending&&!N.ended},set(N){this._writableState&&(this._writableState.writable=!!N)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const N=this._writableState;return N?!N.destroyed&&!N.ending&&N.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ue=b.destroy;le.prototype.destroy=function(N,I){const H=this._writableState;return!H.destroyed&&(H.bufferedIndex<H.buffered.length||H[W].length)&&e.nextTick(D,H),ue.call(this,N,I),this},le.prototype._undestroy=b.undestroy,le.prototype._destroy=function(N,I){I(N)},le.prototype[d.captureRejectionSymbol]=function(N){this.destroy(N)};let he;function ce(){return he===void 0&&(he={}),he}return le.fromWeb=function(N,I){return ce().newStreamWritableFromWritableStream(N,I)},le.toWeb=function(N){return ce().newWritableStreamFromStreamWritable(N)},Tl}var Al,Ns;function bd(){if(Ns)return Al;Ns=1;const e=Cr(),t=ir(),{isReadable:r,isWritable:i,isIterable:n,isNodeStream:l,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:a,isReadableStream:u,isWritableStream:d}=Ut(),c=nr(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:x}}=tt(),{destroyer:A}=ei(),w=Ft(),y=Bn(),m=mo(),{createDeferredPromise:C}=it(),P=Ja(),$=globalThis.Blob||t.Blob,ne=typeof $<"u"?function(M){return M instanceof $}:function(M){return!1},ae=globalThis.AbortController||Ri().AbortController,{FunctionPrototypeCall:Z}=Pe();class _ extends w{constructor(M){super(M),(M==null?void 0:M.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(M==null?void 0:M.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Al=function W(M,X){if(a(M))return M;if(o(M))return h({readable:M});if(s(M))return h({writable:M});if(l(M))return h({writable:!1,readable:!1});if(u(M))return h({readable:y.fromWeb(M)});if(d(M))return h({writable:m.fromWeb(M)});if(typeof M=="function"){const{value:fe,write:ye,final:U,destroy:ie}=T(M);if(n(fe))return P(_,fe,{objectMode:!0,write:ye,final:U,destroy:ie});const L=fe==null?void 0:fe.then;if(typeof L=="function"){let B;const j=Z(L,fe,D=>{if(D!=null)throw new x("nully","body",D)},D=>{A(B,D)});return B=new _({objectMode:!0,readable:!1,write:ye,final(D){U(async()=>{try{await j,e.nextTick(D,null)}catch(Y){e.nextTick(D,Y)}})},destroy:ie})}throw new x("Iterable, AsyncIterable or AsyncFunction",X,fe)}if(ne(M))return W(M.arrayBuffer());if(n(M))return P(_,M,{objectMode:!0,writable:!1});if(u(M==null?void 0:M.readable)&&d(M==null?void 0:M.writable))return _.fromWeb(M);if(typeof(M==null?void 0:M.writable)=="object"||typeof(M==null?void 0:M.readable)=="object"){const fe=M!=null&&M.readable?o(M==null?void 0:M.readable)?M==null?void 0:M.readable:W(M.readable):void 0,ye=M!=null&&M.writable?s(M==null?void 0:M.writable)?M==null?void 0:M.writable:W(M.writable):void 0;return h({readable:fe,writable:ye})}const le=M==null?void 0:M.then;if(typeof le=="function"){let fe;return Z(le,M,ye=>{ye!=null&&fe.push(ye),fe.push(null)},ye=>{A(fe,ye)}),fe=new _({objectMode:!0,writable:!1,read(){}})}throw new b(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],M)};function T(W){let{promise:M,resolve:X}=C();const le=new ae,fe=le.signal;return{value:W(async function*(){for(;;){const U=M;M=null;const{chunk:ie,done:L,cb:B}=await U;if(e.nextTick(B),L)return;if(fe.aborted)throw new g(void 0,{cause:fe.reason});({promise:M,resolve:X}=C()),yield ie}}(),{signal:fe}),write(U,ie,L){const B=X;X=null,B({chunk:U,done:!1,cb:L})},final(U){const ie=X;X=null,ie({done:!0,cb:U})},destroy(U,ie){le.abort(),ie(U)}}}function h(W){const M=W.readable&&typeof W.readable.read!="function"?y.wrap(W.readable):W.readable,X=W.writable;let le=!!r(M),fe=!!i(X),ye,U,ie,L,B;function j(D){const Y=L;L=null,Y?Y(D):D&&B.destroy(D)}return B=new _({readableObjectMode:!!(M!=null&&M.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:le,writable:fe}),fe&&(c(X,D=>{fe=!1,D&&A(M,D),j(D)}),B._write=function(D,Y,se){X.write(D,Y)?se():ye=se},B._final=function(D){X.end(),U=D},X.on("drain",function(){if(ye){const D=ye;ye=null,D()}}),X.on("finish",function(){if(U){const D=U;U=null,D()}})),le&&(c(M,D=>{le=!1,D&&A(M,D),j(D)}),M.on("readable",function(){if(ie){const D=ie;ie=null,D()}}),M.on("end",function(){B.push(null)}),B._read=function(){for(;;){const D=M.read();if(D===null){ie=B._read;return}if(!B.push(D))return}}),B._destroy=function(D,Y){!D&&L!==null&&(D=new g),ie=null,ye=null,U=null,L===null?Y(D):(L=Y,A(X,D),A(M,D))},B}return Al}var Ll,Os;function Ft(){if(Os)return Ll;Os=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:r,ObjectSetPrototypeOf:i}=Pe();Ll=o;const n=Bn(),l=mo();i(o.prototype,n.prototype),i(o,n);{const d=r(l.prototype);for(let c=0;c<d.length;c++){const g=d[c];o.prototype[g]||(o.prototype[g]=l.prototype[g])}}function o(d){if(!(this instanceof o))return new o(d);n.call(this,d),l.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(l.prototype,"writableLength")},writableFinished:{__proto__:null,...t(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let s;function a(){return s===void 0&&(s={}),s}o.fromWeb=function(d,c){return a().newStreamDuplexFromReadableWritablePair(d,c)},o.toWeb=function(d){return a().newReadableWritablePairFromDuplex(d)};let u;return o.from=function(d){return u||(u=bd()),u(d,"body")},Ll}var Ml,Is;function Ya(){if(Is)return Ml;Is=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Pe();Ml=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=tt().codes,i=Ft(),{getHighWaterMark:n}=Hn();e(o.prototype,i.prototype),e(o,i);const l=t("kCallback");function o(u){if(!(this instanceof o))return new o(u);const d=u?n(this,u,"readableHighWaterMark",!0):null;d===0&&(u={...u,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:u.writableHighWaterMark||0}),i.call(this,u),this._readableState.sync=!1,this[l]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",a)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((d,c)=>{if(d){u?u(d):this.destroy(d);return}c!=null&&this.push(c),this.push(null),u&&u()}):(this.push(null),u&&u())}function a(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(u,d,c){throw new r("_transform()")},o.prototype._write=function(u,d,c){const g=this._readableState,b=this._writableState,x=g.length;this._transform(u,d,(A,w)=>{if(A){c(A);return}w!=null&&this.push(w),b.ended||x===g.length||g.length<g.highWaterMark?c():this[l]=c})},o.prototype._read=function(){if(this[l]){const u=this[l];this[l]=null,u()}},Ml}var Rl,Ds;function Va(){if(Ds)return Rl;Ds=1;const{ObjectSetPrototypeOf:e}=Pe();Rl=r;const t=Ya();e(r.prototype,t.prototype),e(r,t);function r(i){if(!(this instanceof r))return new r(i);t.call(this,i)}return r.prototype._transform=function(i,n,l){l(null,i)},Rl}var Nl,Ps;function wo(){if(Ps)return Nl;Ps=1;const e=Cr(),{ArrayIsArray:t,Promise:r,SymbolAsyncIterator:i,SymbolDispose:n}=Pe(),l=nr(),{once:o}=it(),s=ei(),a=Ft(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:x},AbortError:A}=tt(),{validateFunction:w,validateAbortSignal:y}=Ji(),{isIterable:m,isReadable:C,isReadableNodeStream:P,isNodeStream:$,isTransformStream:ne,isWebStream:ae,isReadableStream:Z,isReadableFinished:_}=Ut(),T=globalThis.AbortController||Ri().AbortController;let h,W,M;function X(D,Y,se){let _e=!1;D.on("close",()=>{_e=!0});const te=l(D,{readable:Y,writable:se},F=>{_e=!F});return{destroy:F=>{_e||(_e=!0,s.destroyer(D,F||new b("pipe")))},cleanup:te}}function le(D){return w(D[D.length-1],"streams[stream.length - 1]"),D.pop()}function fe(D){if(m(D))return D;if(P(D))return ye(D);throw new d("val",["Readable","Iterable","AsyncIterable"],D)}async function*ye(D){W||(W=Bn()),yield*W.prototype[i].call(D)}async function U(D,Y,se,{end:_e}){let te,F=null;const q=ce=>{if(ce&&(te=ce),F){const N=F;F=null,N()}},ue=()=>new r((ce,N)=>{te?N(te):F=()=>{te?N(te):ce()}});Y.on("drain",q);const he=l(Y,{readable:!1},q);try{Y.writableNeedDrain&&await ue();for await(const ce of D)Y.write(ce)||await ue();_e&&(Y.end(),await ue()),se()}catch(ce){se(te!==ce?u(te,ce):ce)}finally{he(),Y.off("drain",q)}}async function ie(D,Y,se,{end:_e}){ne(Y)&&(Y=Y.writable);const te=Y.getWriter();try{for await(const F of D)await te.ready,te.write(F).catch(()=>{});await te.ready,_e&&await te.close(),se()}catch(F){try{await te.abort(F),se(F)}catch(q){se(q)}}}function L(...D){return B(D,o(le(D)))}function B(D,Y,se){if(D.length===1&&t(D[0])&&(D=D[0]),D.length<2)throw new g("streams");const _e=new T,te=_e.signal,F=se==null?void 0:se.signal,q=[];y(F,"options.signal");function ue(){Q(new A)}M=M||it().addAbortListener;let he;F&&(he=M(F,ue));let ce,N;const I=[];let H=0;function J(R){Q(R,--H===0)}function Q(R,O){var oe;if(R&&(!ce||ce.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ce=R),!(!ce&&!O)){for(;I.length;)I.shift()(ce);(oe=he)===null||oe===void 0||oe[n](),_e.abort(),O&&(ce||q.forEach(Ce=>Ce()),e.nextTick(Y,ce,N))}}let z;for(let R=0;R<D.length;R++){const O=D[R],oe=R<D.length-1,Ce=R>0,me=oe||(se==null?void 0:se.end)!==!1,Se=R===D.length-1;if($(O)){let Oe=function(Ge){Ge&&Ge.name!=="AbortError"&&Ge.code!=="ERR_STREAM_PREMATURE_CLOSE"&&J(Ge)};if(me){const{destroy:Ge,cleanup:Je}=X(O,oe,Ce);I.push(Ge),C(O)&&Se&&q.push(Je)}O.on("error",Oe),C(O)&&Se&&q.push(()=>{O.removeListener("error",Oe)})}if(R===0)if(typeof O=="function"){if(z=O({signal:te}),!m(z))throw new c("Iterable, AsyncIterable or Stream","source",z)}else m(O)||P(O)||ne(O)?z=O:z=a.from(O);else if(typeof O=="function"){if(ne(z)){var f;z=fe((f=z)===null||f===void 0?void 0:f.readable)}else z=fe(z);if(z=O(z,{signal:te}),oe){if(!m(z,!0))throw new c("AsyncIterable",`transform[${R-1}]`,z)}else{var v;h||(h=Va());const Oe=new h({objectMode:!0}),Ge=(v=z)===null||v===void 0?void 0:v.then;if(typeof Ge=="function")H++,Ge.call(z,qe=>{N=qe,qe!=null&&Oe.write(qe),me&&Oe.end(),e.nextTick(J)},qe=>{Oe.destroy(qe),e.nextTick(J,qe)});else if(m(z,!0))H++,U(z,Oe,J,{end:me});else if(Z(z)||ne(z)){const qe=z.readable||z;H++,U(qe,Oe,J,{end:me})}else throw new c("AsyncIterable or Promise","destination",z);z=Oe;const{destroy:Je,cleanup:Rr}=X(z,!1,!0);I.push(Je),Se&&q.push(Rr)}}else if($(O)){if(P(z)){H+=2;const Oe=j(z,O,J,{end:me});C(O)&&Se&&q.push(Oe)}else if(ne(z)||Z(z)){const Oe=z.readable||z;H++,U(Oe,O,J,{end:me})}else if(m(z))H++,U(z,O,J,{end:me});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],z);z=O}else if(ae(O)){if(P(z))H++,ie(fe(z),O,J,{end:me});else if(Z(z)||m(z))H++,ie(z,O,J,{end:me});else if(ne(z))H++,ie(z.readable,O,J,{end:me});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],z);z=O}else z=a.from(O)}return(te!=null&&te.aborted||F!=null&&F.aborted)&&e.nextTick(ue),z}function j(D,Y,se,{end:_e}){let te=!1;if(Y.on("close",()=>{te||se(new x)}),D.pipe(Y,{end:!1}),_e){let F=function(){te=!0,Y.end()};_(D)?e.nextTick(F):D.once("end",F)}else se();return l(D,{readable:!0,writable:!1},F=>{const q=D._readableState;F&&F.code==="ERR_STREAM_PREMATURE_CLOSE"&&q&&q.ended&&!q.errored&&!q.errorEmitted?D.once("end",se).once("error",se):se(F)}),l(Y,{readable:!1,writable:!0},se)}return Nl={pipelineImpl:B,pipeline:L},Nl}var Ol,Ws;function Za(){if(Ws)return Ol;Ws=1;const{pipeline:e}=wo(),t=Ft(),{destroyer:r}=ei(),{isNodeStream:i,isReadable:n,isWritable:l,isWebStream:o,isTransformStream:s,isWritableStream:a,isReadableStream:u}=Ut(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:g}}=tt(),b=nr();return Ol=function(...A){if(A.length===0)throw new g("streams");if(A.length===1)return t.from(A[0]);const w=[...A];if(typeof A[0]=="function"&&(A[0]=t.from(A[0])),typeof A[A.length-1]=="function"){const h=A.length-1;A[h]=t.from(A[h])}for(let h=0;h<A.length;++h)if(!(!i(A[h])&&!o(A[h]))){if(h<A.length-1&&!(n(A[h])||u(A[h])||s(A[h])))throw new c(`streams[${h}]`,w[h],"must be readable");if(h>0&&!(l(A[h])||a(A[h])||s(A[h])))throw new c(`streams[${h}]`,w[h],"must be writable")}let y,m,C,P,$;function ne(h){const W=P;P=null,W?W(h):h?$.destroy(h):!T&&!_&&$.destroy()}const ae=A[0],Z=e(A,ne),_=!!(l(ae)||a(ae)||s(ae)),T=!!(n(Z)||u(Z)||s(Z));if($=new t({writableObjectMode:!!(ae!=null&&ae.writableObjectMode),readableObjectMode:!!(Z!=null&&Z.readableObjectMode),writable:_,readable:T}),_){if(i(ae))$._write=function(W,M,X){ae.write(W,M)?X():y=X},$._final=function(W){ae.end(),m=W},ae.on("drain",function(){if(y){const W=y;y=null,W()}});else if(o(ae)){const M=(s(ae)?ae.writable:ae).getWriter();$._write=async function(X,le,fe){try{await M.ready,M.write(X).catch(()=>{}),fe()}catch(ye){fe(ye)}},$._final=async function(X){try{await M.ready,M.close().catch(()=>{}),m=X}catch(le){X(le)}}}const h=s(Z)?Z.readable:Z;b(h,()=>{if(m){const W=m;m=null,W()}})}if(T){if(i(Z))Z.on("readable",function(){if(C){const h=C;C=null,h()}}),Z.on("end",function(){$.push(null)}),$._read=function(){for(;;){const h=Z.read();if(h===null){C=$._read;return}if(!$.push(h))return}};else if(o(Z)){const W=(s(Z)?Z.readable:Z).getReader();$._read=async function(){for(;;)try{const{value:M,done:X}=await W.read();if(!$.push(M))return;if(X){$.push(null);return}}catch{return}}}}return $._destroy=function(h,W){!h&&P!==null&&(h=new d),C=null,y=null,m=null,P===null?W(h):(P=W,i(Z)&&r(Z,h))},$},Ol}var $s;function yd(){if($s)return an;$s=1;const e=globalThis.AbortController||Ri().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:n},AbortError:l}=tt(),{validateAbortSignal:o,validateInteger:s,validateObject:a}=Ji(),u=Pe().Symbol("kWeak"),d=Pe().Symbol("kResistStopPropagation"),{finished:c}=nr(),g=Za(),{addAbortSignalNoValidate:b}=Fn(),{isWritable:x,isNodeStream:A}=Ut(),{deprecate:w}=it(),{ArrayPrototypePush:y,Boolean:m,MathFloor:C,Number:P,NumberIsNaN:$,Promise:ne,PromiseReject:ae,PromiseResolve:Z,PromisePrototypeThen:_,Symbol:T}=Pe(),h=T("kEmpty"),W=T("kEof");function M(F,q){if(q!=null&&a(q,"options"),(q==null?void 0:q.signal)!=null&&o(q.signal,"options.signal"),A(F)&&!x(F))throw new t("stream",F,"must be writable");const ue=g(this,F);return q!=null&&q.signal&&b(q.signal,ue),ue}function X(F,q){if(typeof F!="function")throw new r("fn",["Function","AsyncFunction"],F);q!=null&&a(q,"options"),(q==null?void 0:q.signal)!=null&&o(q.signal,"options.signal");let ue=1;(q==null?void 0:q.concurrency)!=null&&(ue=C(q.concurrency));let he=ue-1;return(q==null?void 0:q.highWaterMark)!=null&&(he=C(q.highWaterMark)),s(ue,"options.concurrency",1),s(he,"options.highWaterMark",0),he+=ue,(async function*(){const N=it().AbortSignalAny([q==null?void 0:q.signal].filter(m)),I=this,H=[],J={signal:N};let Q,z,f=!1,v=0;function R(){f=!0,O()}function O(){v-=1,oe()}function oe(){z&&!f&&v<ue&&H.length<he&&(z(),z=null)}async function Ce(){try{for await(let me of I){if(f)return;if(N.aborted)throw new l;try{if(me=F(me,J),me===h)continue;me=Z(me)}catch(Se){me=ae(Se)}v+=1,_(me,O,R),H.push(me),Q&&(Q(),Q=null),!f&&(H.length>=he||v>=ue)&&await new ne(Se=>{z=Se})}H.push(W)}catch(me){const Se=ae(me);_(Se,O,R),H.push(Se)}finally{f=!0,Q&&(Q(),Q=null)}}Ce();try{for(;;){for(;H.length>0;){const me=await H[0];if(me===W)return;if(N.aborted)throw new l;me!==h&&(yield me),H.shift(),oe()}await new ne(me=>{Q=me})}}finally{f=!0,z&&(z(),z=null)}}).call(this)}function le(F=void 0){return F!=null&&a(F,"options"),(F==null?void 0:F.signal)!=null&&o(F.signal,"options.signal"),(async function*(){let ue=0;for await(const ce of this){var he;if(F!=null&&(he=F.signal)!==null&&he!==void 0&&he.aborted)throw new l({cause:F.signal.reason});yield[ue++,ce]}}).call(this)}async function fe(F,q=void 0){for await(const ue of L.call(this,F,q))return!0;return!1}async function ye(F,q=void 0){if(typeof F!="function")throw new r("fn",["Function","AsyncFunction"],F);return!await fe.call(this,async(...ue)=>!await F(...ue),q)}async function U(F,q){for await(const ue of L.call(this,F,q))return ue}async function ie(F,q){if(typeof F!="function")throw new r("fn",["Function","AsyncFunction"],F);async function ue(he,ce){return await F(he,ce),h}for await(const he of X.call(this,ue,q));}function L(F,q){if(typeof F!="function")throw new r("fn",["Function","AsyncFunction"],F);async function ue(he,ce){return await F(he,ce)?he:h}return X.call(this,ue,q)}class B extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function j(F,q,ue){var he;if(typeof F!="function")throw new r("reducer",["Function","AsyncFunction"],F);ue!=null&&a(ue,"options"),(ue==null?void 0:ue.signal)!=null&&o(ue.signal,"options.signal");let ce=arguments.length>1;if(ue!=null&&(he=ue.signal)!==null&&he!==void 0&&he.aborted){const Q=new l(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),await c(this.destroy(Q)),Q}const N=new e,I=N.signal;if(ue!=null&&ue.signal){const Q={once:!0,[u]:this,[d]:!0};ue.signal.addEventListener("abort",()=>N.abort(),Q)}let H=!1;try{for await(const Q of this){var J;if(H=!0,ue!=null&&(J=ue.signal)!==null&&J!==void 0&&J.aborted)throw new l;ce?q=await F(q,Q,{signal:I}):(q=Q,ce=!0)}if(!H&&!ce)throw new B}finally{N.abort()}return q}async function D(F){F!=null&&a(F,"options"),(F==null?void 0:F.signal)!=null&&o(F.signal,"options.signal");const q=[];for await(const he of this){var ue;if(F!=null&&(ue=F.signal)!==null&&ue!==void 0&&ue.aborted)throw new l(void 0,{cause:F.signal.reason});y(q,he)}return q}function Y(F,q){const ue=X.call(this,F,q);return(async function*(){for await(const ce of ue)yield*ce}).call(this)}function se(F){if(F=P(F),$(F))return 0;if(F<0)throw new n("number",">= 0",F);return F}function _e(F,q=void 0){return q!=null&&a(q,"options"),(q==null?void 0:q.signal)!=null&&o(q.signal,"options.signal"),F=se(F),(async function*(){var he;if(q!=null&&(he=q.signal)!==null&&he!==void 0&&he.aborted)throw new l;for await(const N of this){var ce;if(q!=null&&(ce=q.signal)!==null&&ce!==void 0&&ce.aborted)throw new l;F--<=0&&(yield N)}}).call(this)}function te(F,q=void 0){return q!=null&&a(q,"options"),(q==null?void 0:q.signal)!=null&&o(q.signal,"options.signal"),F=se(F),(async function*(){var he;if(q!=null&&(he=q.signal)!==null&&he!==void 0&&he.aborted)throw new l;for await(const N of this){var ce;if(q!=null&&(ce=q.signal)!==null&&ce!==void 0&&ce.aborted)throw new l;if(F-- >0&&(yield N),F<=0)return}}).call(this)}return an.streamReturningOperators={asIndexedPairs:w(le,"readable.asIndexedPairs will be removed in a future version."),drop:_e,filter:L,flatMap:Y,map:X,take:te,compose:M},an.promiseReturningOperators={every:ye,forEach:ie,reduce:j,toArray:D,some:fe,find:U},an}var Il,Fs;function Qa(){if(Fs)return Il;Fs=1;const{ArrayPrototypePop:e,Promise:t}=Pe(),{isIterable:r,isNodeStream:i,isWebStream:n}=Ut(),{pipelineImpl:l}=wo(),{finished:o}=nr();eu();function s(...a){return new t((u,d)=>{let c,g;const b=a[a.length-1];if(b&&typeof b=="object"&&!i(b)&&!r(b)&&!n(b)){const x=e(a);c=x.signal,g=x.end}l(a,(x,A)=>{x?d(x):u(A)},{signal:c,end:g})})}return Il={finished:o,pipeline:s},Il}var Hs;function eu(){if(Hs)return cl.exports;Hs=1;const{Buffer:e}=ir(),{ObjectDefineProperty:t,ObjectKeys:r,ReflectApply:i}=Pe(),{promisify:{custom:n}}=it(),{streamReturningOperators:l,promiseReturningOperators:o}=yd(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=tt(),a=Za(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:d}=Hn(),{pipeline:c}=wo(),{destroyer:g}=ei(),b=nr(),x=Qa(),A=Ut(),w=cl.exports=yo().Stream;w.isDestroyed=A.isDestroyed,w.isDisturbed=A.isDisturbed,w.isErrored=A.isErrored,w.isReadable=A.isReadable,w.isWritable=A.isWritable,w.Readable=Bn();for(const m of r(l)){let P=function(...$){if(new.target)throw s();return w.Readable.from(i(C,this,$))};const C=l[m];t(P,"name",{__proto__:null,value:C.name}),t(P,"length",{__proto__:null,value:C.length}),t(w.Readable.prototype,m,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}for(const m of r(o)){let P=function(...$){if(new.target)throw s();return i(C,this,$)};const C=o[m];t(P,"name",{__proto__:null,value:C.name}),t(P,"length",{__proto__:null,value:C.length}),t(w.Readable.prototype,m,{__proto__:null,value:P,enumerable:!1,configurable:!0,writable:!0})}w.Writable=mo(),w.Duplex=Ft(),w.Transform=Ya(),w.PassThrough=Va(),w.pipeline=c;const{addAbortSignal:y}=Fn();return w.addAbortSignal=y,w.finished=b,w.destroy=g,w.compose=a,w.setDefaultHighWaterMark=u,w.getDefaultHighWaterMark=d,t(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return x}}),t(c,n,{__proto__:null,enumerable:!0,get(){return x.pipeline}}),t(b,n,{__proto__:null,enumerable:!0,get(){return x.finished}}),w.Stream=w,w._isUint8Array=function(C){return C instanceof Uint8Array},w._uint8ArrayToBuffer=function(C){return e.from(C.buffer,C.byteOffset,C.byteLength)},cl.exports}var Bs;function md(){return Bs||(Bs=1,function(e){const t=eu(),r=Qa(),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(dl)),dl.exports}var tu=md();const wd=Ga(tu);class vd{constructor(t,...r){this.load=Ka(async()=>{const i=await t();return new i(...r)})}import(t,r){const i=new tu.PassThrough({objectMode:!0});return Promise.resolve().then(async()=>{const l=(await this.load()).import(t,r);l.on("prefix",(o,s)=>{i.emit("prefix",o,s)}),l.on("error",o=>{i.emit("error",o),i.emit("end")}),l.pipe(i)}),i}}function bt(e){return class extends vd{constructor(...t){super(e,...t)}}}const Sd=new qa,xd=new qa,ut={parsers:Sd,serializers:xd},_d=bt(async()=>(await lt(async()=>{const{default:e}=await import("./index-C743JiYk.js");return{default:e}},__vite__mapDeps([0,1,2,3,4,5,6]))).default),Yi=bt(async()=>(await lt(async()=>{const{default:e}=await import("./index-DCCMpbC-.js");return{default:e}},__vite__mapDeps([7,1,2,3,8]))).default),Cd=bt(async()=>(await lt(async()=>{const{default:e}=await import("./CustomRdfXmlParser-JJHC2klp.js");return{default:e}},__vite__mapDeps([9,4,5,2]))).default),zn=bt(async()=>(await lt(async()=>{const{default:e}=await import("./index-D7dloCif.js");return{default:e}},__vite__mapDeps([10,1,2,3]))).default),kd=bt(async()=>(await lt(async()=>{const{default:e}=await import("./CustomJsonLdSerializer-sifTnp_h.js");return{default:e}},__vite__mapDeps([11,1,2]))).default);ut.parsers.set("application/ld+json",new _d);ut.parsers.set("application/trig",new Yi);ut.parsers.set("application/n-quads",new Yi);ut.parsers.set("application/n-triples",new Yi);ut.parsers.set("text/n3",new Yi);ut.parsers.set("text/turtle",new Yi);ut.parsers.set("application/rdf+xml",new Cd);ut.serializers.set("application/ld+json",new kd);ut.serializers.set("application/n-quads",new zn);ut.serializers.set("application/n-triples",new zn);ut.serializers.set("text/n3",new zn);ut.serializers.set("text/turtle",new zn);var Dl={exports:{}};const Ed={},Td=Object.freeze(Object.defineProperty({__proto__:null,default:Ed},Symbol.toStringTag,{value:"Module"})),Ad=Zf(Td);var zs;function Ld(){if(zs)return Dl.exports;zs=1;const e=Ad,t=/([\x00-\x20<>"{}|^`\\]|%(?![0-9A-F][0-9A-F]))/g,r=(f,v)=>{let R=v.codePointAt(0).toString(16)+"";return R.length>4?"\\U"+R.padStart(8,"0"):"\\u"+R.padStart(4,"0")},i=f=>f.replace(t,r),n=/^(?:[\u0000-@[-`{-\u00bf\u00d7\u00f7\u0300-\u306f\u037e\u2000-\u200b\u200e-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff].+|(?:.+?[\u0000-,\/:-@[-^`{-\u00b6\u00b8-\u00bf\u00d7\u00f7\u037e\u2000-\u200b\u200e-\u203e\u2041-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff].*)|.+\.)$/,l=/^(?:\\|[\u0000-\/;-@[-^`{-\u00bf\u00d7\u00f7\u0300-\u306f\u037e\u2000-\u200b\u200e-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff].+|(?:.+?(?:\\|[\u0000-,\/;-@[-^`{-\u00b6\u00b8-\u00bf\u00d7\u00f7\u037e\u2000-\u200b\u200e-\u203e\u2041-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff]).+)|(?:.+?(?:\\|[\u0000-,.\/;-@[-^`{-\u00b6\u00b8-\u00bf\u00d7\u00f7\u037e\u2000-\u200b\u200e-\u203e\u2041-\u206f\u2190-\u2bff\u2ff0-\u3000\ud800-\uf8ff\ufdd0-\ufddf\ufffe\uffff])))$/,o=/^([Tt](rue)?|TRUE)$/,s=/^([Ff](alse)?|FALSE)$/,a="xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx",u=/[xy]/g,d=()=>{let f=Date.now();return typeof performance<"u"&&(f+=performance.now()),a.replace(u,v=>{let R=(f+Math.random()*16)%16|0;return f=Math.floor(f/16),(v==="x"?R:R&3|8).toString(16)})},c=Symbol("prefix-cache"),g=/[$^*()+[\\{}|.?]/g,b="((?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_:0-9]|%[A-Fa-f0-9]{2}|\\\\[_~.\\-!$&'()*+,;=/?#@%])(?:(?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_\\-0-9\\xb7\\u{0300}-\\u{036f}\\u{203f}-\\u{2040}.:]|%[A-Fa-f0-9]{2}|\\\\[_~.\\-!$&'()*+,;=/?#@%])*(?:[A-Za-z\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u{02ff}\\u{0370}-\\u{037d}\\u{037f}-\\u{1fff}\\u{200c}-\\u{200d}\\u{2070}-\\u{218f}\\u{2c00}-\\u{2fef}\\u{3001}-\\u{d7ff}\\u{f900}-\\u{fdcf}\\u{fdf0}-\\u{fffd}\\u{10000}-\\u{effff}_\\-0-9\\xb7\\u{0300}-\\u{036f}\\u{203f}-\\u{2040}:]|%[A-Fa-f0-9]{2}|\\\\[_~.\\-!$&'()*+,;=/?#@%]))?)$";function x(f,v=!1){let R=[],O={};for(let oe in f){let Ce=f[oe];v&&n.test(oe)||(O[Ce]=oe,R.push(Ce.replace(g,"\\$&")))}return R.length?(f[c]={_r_iris:new RegExp(`^(${R.join("|")})${b}`,"u"),_h_inverse:O},Object.freeze(f)):f}const A=(f,v)=>{let R=v[c];if(R){let O=R._r_iris.exec(f);if(O)return R._h_inverse[O[1]]+":"+O[2]}else{let O="",oe="",Ce=-1;for(let me in v){let Se=v[me];if(f.indexOf(Se)===0&&Se.length>Ce&&!n.test(me)){let Oe=f.slice(Se.length);l.test(Oe)||(oe=Oe,O=me,Ce=Se.length)}}if(Ce!==-1)return O+":"+oe}return"<"+f+">"},w=(f,v={})=>{let R=v[c];if(R){let O=R._r_iris.exec(f);if(O)return R._h_inverse[O[1]]+":"+O[2]}else{let O="",oe=-1;for(let Ce in v){let me=v[Ce];f.startsWith(me)&&me.length>oe&&(O=Ce,oe=me.length)}if(oe!==-1)return O+":"+f.slice(oe)}return">"+f},y=/^([^:]*):(.*)$/;function m(f,v={},R=!1){switch(f[0]){case">":return"<"+f.slice(1)+">";case"_":return f.length<=2||f[2]==="#"?new ce()[R?"verbose":"terse"]():f;case'"':return JSON.stringify(f.slice(1));case"@":{let O=f.indexOf('"');return JSON.stringify(f.slice(O+1))+f.slice(0,O)}case"^":{let O=f.indexOf('"');return JSON.stringify(f.slice(O+1))+"^^"+m(f.slice(1,O),v,R)}case"*":return"";case"<":case"`":return z.c1(f).terse(v);default:{if(f==="a")return R?"<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>":"a";let[,O,oe]=y.exec(f);return R||l.test(oe)||n.test(O)?"<"+v[O]+oe+">":f}}}class C{valueOf(){return this.concise()}toString(){return this.concise()}equals(v){return v?this===v||v.termType===this.termType&&v.value===this.value:!1}}Object.assign(C.prototype,{isGraphyTerm:!0});class P extends C{constructor(v){super(),this.value=v}concise(v={}){return w(this.value,v)}terse(v={},R=!1){return A(i(this.value),v)}verbose(){return"<"+i(this.value)+">"}isolate(){return{termType:"NamedNode",value:this.value}}}Object.assign(P.prototype,{termType:"NamedNode",isNamedNode:!0});const $=new P("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");$.isRdfTypeAlias=!0;const ne=new P("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),ae=ne.isolate(),Z=new P("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),_=new P("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),T=new P("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"),h=new P("http://www.w3.org/2001/XMLSchema#date"),W=new P("http://www.w3.org/2001/XMLSchema#dateTime"),M=new P("http://www.w3.org/2001/XMLSchema#string");class X extends C{equals(v){return v?this===v||v.termType==="Literal"&&v.value===this.value&&this.datatype.equals(v.datatype)&&v.language===this.language:!1}verbose(){return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+this.datatype.verbose())}concise(v){return this.language?"@"+this.language+'"'+this.value:"^"+w(this.datatype.value,v)+'"'+this.value}terse(v={}){let R=this.datatype.terse(v);return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+R)}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:this.datatype.isolate()}}}Object.assign(X.prototype,{datatype:M,language:"",termType:"Literal",isLiteral:!0,isSimple:!1});class le extends X{constructor(v,R){super(),this.value=v,this.language=(R[0]==="@"?R.slice(1):R).toLowerCase()}verbose(){return JSON.stringify(this.value)+"@"+this.language}concise(){return"@"+this.language+'"'+this.value}terse(){return JSON.stringify(this.value)+"@"+this.language}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:ae}}}Object.assign(le.prototype,{datatype:ne,isLanguaged:!0});class fe extends X{verbose(){return JSON.stringify(this.value)+"^^"+this.datatype.verbose()}concise(v){return"^"+w(this.datatype.value,v)+'"'+this.value}terse(v={}){let R=this.datatype.terse(v);return JSON.stringify(this.value)+"^^"+R}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:this.datatype.isolate()}}}Object.assign(fe.prototype,{isDatatyped:!0});class ye extends fe{constructor(v,R){super(),this.value=v,this.datatype=R}}class U extends C{constructor(v){super(),this.value=v}get isSimple(){return!this.language&&!this.datatype.equals(M)}get isLanguaged(){return!!this.language}get isDatatyped(){return M.equals(this.datatype)}equals(v){return v?this===v||v.termType==="Literal"&&v.value===this.value&&this.datatype.equals(v.datatype)&&v.language===this.language:!1}verbose(){return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+this.datatype.verbose())}concise(v){return this.language?"@"+this.language+'"'+this.value:"^"+w(this.datatype.value,v)+'"'+this.value}terse(v={}){let R=this.datatype.terse(v);return JSON.stringify(this.value)+(this.language?"@"+this.language:"^^"+R)}isolate(){return{termType:"Literal",value:this.value,language:this.language,datatype:this.datatype.isolate()}}}Object.assign(U.prototype,{datatype:M,language:"",termType:"Literal",isLiteral:!0});class ie extends X{constructor(v){super(),this.value=v}verbose(){return JSON.stringify(this.value)}concise(){return'"'+this.value}terse(){return JSON.stringify(this.value)}}Object.assign(ie.prototype,{isSimple:!0});const L=new P("http://www.w3.org/2001/XMLSchema#integer");class B extends fe{static from(v){let R=new B(+v);return R.value=v,R}constructor(v){super(),this.value=v+"",this.number=v}concise(v={}){return"^"+L.concise(v)+'"'+this.value}terse(){return this.value.includes("e")?`"${this.value}"^^<http://www.w3.org/2001/XMLSchema#integer>`:this.value}}Object.assign(B.prototype,{datatype:L,isNumeric:!0,isInteger:!0});const j=new P("http://www.w3.org/2001/XMLSchema#double");class D extends fe{static from(v){let R=new D(+v);return R.value=v,R}constructor(v){super(),this.value=v+"",this.number=v}concise(v={}){return"^"+j.concise(v)+'"'+this.value}terse(){return this.number.toExponential()}}Object.assign(D.prototype,{datatype:j,isNumeric:!0,isDouble:!0});const Y=new P("http://www.w3.org/2001/XMLSchema#decimal");class se extends fe{static from(v){let R=new se(+v);return R.value=v,R}constructor(v){super(),this.value=v+"",this.number=v}concise(v={}){return"^"+Y.concise(v)+'"'+this.value}terse(){return this.value.includes("e")?`"${this.value}"^^<http://www.w3.org/2001/XMLSchema#decimal>`:this.value+(this.value.includes(".")?"":".0")}}Object.assign(se.prototype,{datatype:Y,isNumeric:!0,isDecimal:!0});const _e=new P("http://www.w3.org/2001/XMLSchema#boolean");class te extends fe{static from(v){let R=new te(+v);return R.value=v,R}constructor(v){super(),this.value=v+"",this.boolean=v}concise(v={}){return"^"+_e.concise(v)+'"'+this.value}terse(){return this.value+""}}Object.assign(te.prototype,{datatype:_e,isBoolean:!0});class F extends D{constructor(){super(1/0),this.value="INF"}terse(v){return'"INF"^^'+j.terse(v)}}Object.assign(F.prototype,{isInfinite:!0});class q extends D{constructor(){super(-1/0),this.value="-INF"}terse(v){return'"-INF"^^'+j.terse(v)}}Object.assign(q.prototype,{isInfinite:!0});class ue extends D{constructor(){super(NaN),this.value="NaN"}terse(v){return'"NaN"^^'+j.terse(v)}}Object.assign(ue.prototype,{isNaN:!0});function he(f,v=!1){this.value=f,this.isAnonymous=v}he.prototype=Object.assign(Object.create(C.prototype),{termType:"BlankNode",isBlankNode:!0,concise(){return"_:"+this.value},terse(){return"_:"+this.value},verbose(){return"_:"+this.value},isolate(){return{termType:"BlankNode",value:this.value}}});function ce(){}ce.prototype=Object.assign(Object.create(he.prototype),{isAnonymous:!0,isEphemeral:!0,concise(){return"_:#"+this.value},terse(){return"[]"},verbose(){return"_:"+this.value},isolate(){return{termType:"BlankNode",value:this.value}},equals(){return!1}}),Object.defineProperty(ce.prototype,"value",{get(){return"_"+d()}});class N extends C{constructor(v){super(),this.value=v}concise(){return"?"+this.value}terse(){throw new Error("Cannot call .terse() on 'Variable' term type")}verbose(){throw new Error("Cannot call .verbose() on 'Variable' term type")}isolate(){return{termType:"Variable",value:this.value}}}Object.assign(N.prototype,{termType:"Variable",isVariable:!0});function I(){}I.prototype=Object.assign(Object.create(C.prototype),{value:"",termType:"DefaultGraph",isDefaultGraph:!0,concise(){return"*"},terse(){return""},verbose(){return""},isolate(){return{termType:"DefaultGraph",value:""}}}),Object.assign(Object.create(C.prototype),{value:"",termType:"NoGraph",concise(){return""},terse(){return""},verbose(){return""},isolate(){return{termType:"NoGraph",value:""}}});const H=new I;function J(f,v,R,O=H){this.subject=f,this.predicate=v,this.object=R,this.graph=O}Object.assign(J.prototype,{isGraphyQuad:!0,equals(f){return f?this===f||this.object.equals(f.object)&&this.subject.equals(f.subject)&&this.predicate.equals(f.predicate)&&this.graph.equals(f.graph):!1},valueOf(){return this.verbose()},concise(f={}){return[this.subject.concise(f),this.predicate.concise(f),this.object.concise(f),this.graph.concise(f)]},terse(f){let v=this.graph.isDefaultGraph;return(v?"":this.graph.terse(f)+" { ")+this.subject.terse(f)+" "+this.predicate.terse(f)+" "+this.object.terse(f)+" ."+(v?"":" }")},verbose(){return this.subject.verbose()+" "+this.predicate.verbose()+" "+this.object.verbose()+" "+(this.graph.isDefaultGraph?"":this.graph.verbose()+" ")+"."},isolate(){return{subject:this.subject.isolate(),predicate:this.predicate.isolate(),object:this.object.isolate(),graph:this.graph.isolate()}}});let Q={namedNode(f){return new P(f)},blankNode(f,v){return new he(f,v)},literal(f){return new U(f)},defaultGraph(){return new I},quad(f,v,R,O){return new J(f,v,R,O||H)},integer(f){return B.from(f)},double(f){return D.from(f)},decimal(f){return se.from(f)},boolean(f){return new te(f)}};const z=Dl.exports={concise:w,adopt(f){let v=Object.create(f),R=!1;if(typeof f.boolean!="function"){let O=f.namedNode("http://www.w3.org/2001/XMLSchema#boolean");v.boolean=oe=>f.literal(oe+"",O),R=!0}if(typeof f.double!="function"){let O=f.namedNode("http://www.w3.org/2001/XMLSchema#double");v.double=oe=>f.literal(oe+"",O),R=!0}if(typeof f.decimal!="function"){let O=f.namedNode("http://www.w3.org/2001/XMLSchema#decimal");v.decimal=oe=>f.literal(oe+"",O),R=!0}if(typeof f.integer!="function"){let O=f.namedNode("http://www.w3.org/2001/XMLSchema#integer");v.integer=oe=>f.literal(oe+"",O),R=!0}return typeof f.simpleLiteral!="function"&&(v.simpleLiteral=O=>f.literal(O),R=!0),typeof f.languagedLiteral!="function"&&(v.languagedLiteral=(O,oe)=>f.literal(O,oe),R=!0),typeof f.datatypedLiteral!="function"&&(v.datatypedLiteral=(O,oe)=>f.literal(O,oe),R=!0),R?v:f},raw:Q,unfiltered:{...Q,literal(f,v){return!v||M.equals(v)?new ie(f):typeof v=="string"?new le(f,v):M.equals(v)?new ie(f):new ye(f,v)},simpleLiteral(f){return new ie(f)},languagedLiteral(f,v){return new le(f,v)},datatypedLiteral(f,v){return M.equals(v)?new ie(f):new ye(f,v)}},number(f){return typeof f=="number"&&(!Number.isFinite(f)||Number.isNaN(f))?z.double(f):Number.isInteger(f)||typeof f=="bigint"?z.integer(f):z.decimal(f)},date(f){return z.literal(f.toISOString().replace(/T.+$/,"Z"),h)},dateTime(f){return z.literal(f.toISOString(),W)},namedNode(f){return new P(f)},ephemeral(){return new ce},anonymous(){return new ce},blankNode(f){if(f){if(typeof f=="string")return new he(f)}else return new he("_"+d(),!0);throw new TypeError(`factory.blankNode(label) expects 'label' parameter to be falsy or a string; instead found: ${f}`)},literal(f,v){return!v||M.equals(v)?new ie(f):typeof v=="string"?new le(f,v):new ye(f,v)},integer(f){let v=typeof f;if(v==="number"){if(Number.isFinite(f)){if(!Number.isInteger(f))throw new Error("Number is not an integer: "+f)}else throw Number.isNaN(f)?new Error("XSD integer cannot encode NaN. Try using double"):new Error("XSD integer cannot encode +/-infinity. Try using double");return new B(f)}else if(v==="string"){if(f==="")throw new Error("Refusing to serialize empty string as xsd:integer");let R=+f;if(Number.isNaN(R)||!Number.isInteger(R))throw new Error("Invalid integer string: "+f);return new B(R)}else throw v==="undefined"?new Error("Refusing to serialize undefined value as xsd:integer"):f===null?new Error("Refusing to serialize null value as xsd:integer"):new Error("XSD integer expects a number type or integer string")},double(f){let v=typeof f;if(v==="number")return Number.isFinite(f)?new D(f):Number.isNaN(f)?new ue:f>0?new F:new q;if(v==="string"){if(f==="")throw new Error("Refusing to serialize empty string as xsd:double");let R=+f;if(Number.isNaN(R))throw new Error("Invalid decimal string: "+f);return new D(R)}else throw v==="undefined"?new Error("Refusing to serialize undefined value as xsd:double"):f===null?new Error("Refusing to serialize null value as xsd:double"):new Error("XSD double expects a number type or double string")},decimal(f){let v=typeof f;if(v==="number"){if(!Number.isFinite(f))throw Number.isNaN(f)?new Error("XSD decimal cannot encode NaN. Try using double"):new Error("XSD decimal cannot encode +/-infinity. Try using double");return new se(f)}else if(v==="string"){if(f==="")throw new Error("Refusing to serialize empty string as xsd:decimal");let R=+f;if(Number.isNaN(R))throw new Error("Invalid decimal string: "+f);return new se(R)}else throw v==="undefined"?new Error("Refusing to serialize undefined value as xsd:decimal"):f===null?new Error("Refusing to serialize null value as xsd:decimal"):new Error("XSD decimal expects a number type or decimal string")},boolean(f){let v=typeof f;if(v==="boolean")return new te(f);if(v==="number"){if(f===1)return new te(!0);if(f===0)return new te(!1);throw new Error("Boolean value 'w_value' must be either a '1' or '0' if using numbers")}else if(v==="string"){if(o.test(f))return new te(!0);if(s.test(f))return new te(!1);throw f===""?new Error("Refusing to serialize empty string as xsd:boolean"):new Error("Invalid boolean string: "+f)}else throw v==="undefined"?new Error("Refusing to serialize undefined value as xsd:boolean"):f===null?new Error("Refusing to serialize null value as xsd:boolean"):new Error("XSD boolean expects a boolean type or boolean string")},defaultGraph(){return new I},variable(f){return new N(f)},triple(f,v,R){let O=new Error("It is strongly encouraged to use .quad() instead of .triple()");return console.warn(O.stack.replace(/^(\s*)Error:/,"$1Warning:")),new J(f,v,R)},quad(f,v,R,O){return new J(f,v,R,O||H)},term(f,v){return typeof f=="string"?z.c1(f,v):z.from.rdfjs_term(f)},c1(f,v={}){switch(f[0]){case"^":{let R=f.indexOf('"');if(R===-1)throw new Error(`Invalid concise-term string, no content literal delimiter found: '${f}'`);let O=f.slice(1,R);return z.literal(f.slice(R+1),z.c1_node_explicit(O,v))}case"@":{let R=f.indexOf('"');if(R===-1)throw new Error(`Invalid concise-term string, no content literal delimiter found: '${f}'`);let O=f.slice(1,R);return z.literal(f.slice(R+1),O)}case'"':return z.literal(f.slice(1));default:return z.c1_node(f,v)}},c1_node(f,v={}){if(f==="a")return $;if(f==="*")return z.defaultGraph();if(f[0]==="_"){if(f[1]!==":")throw new Error(`Invliad concise-term string, prefixes are not allowed to start with an underscore: '${f}'`);return f[2]==="#"||f.length===2?z.ephemeral():z.blankNode(f.slice(2))}return z.c1_node_explicit(f,v)},c1_named_node(f,v={}){return f==="a"?$:z.c1_node_explicit(f,v)},c1_node_explicit(f,v={}){switch(f[0]){case">":return z.namedNode(f.slice(1));case"<":throw new Error(`Whoops! It looks like this concise-term string starts with a '<' character. Remember to use '>' if you are trying to make an absolute IRI reference.
Invalid concise-term string '${f}'`);case"`":throw new Error(`The backtick character '\`' is reserved for concise-struct key directives and should not be used in the object position.
Invalid concise-term string '${f}'`);default:return this.c1_prefixed_node(f,v)}},c1_prefixed_node(f,v={}){let R=f.indexOf(":");if(R===-1)throw new Error(`A relative or prefixed node must include a ':' character. 
Invalid concise-term string for node: '${f}'`);let O=f.slice(0,R),oe=f.slice(R+1);if(O in v)return z.namedNode(v[O]+oe);throw new Error(`Prefix not defined: '${O}'`)},c1_to_nt:m,*quads(f,v={}){for(let R in f)yield*z.triples(f[R],v,R)},*triples(f,v={},R="*"){let O=z.c1(R,v);for(let oe in f){let Ce=z.c1(oe,v),me=f[oe];yield*z.pairs(O,Ce,me,v)}},*pairs(f,v,R,O={}){for(let oe in R){let Ce=z.c1(oe,O),me=R[oe];yield*z.objects(f,v,Ce,me,O)}},*collection(f,v,R,O={}){yield*z.objects(f,v,Z,R[0],O);let oe=R.slice(1);if(!oe.length)yield new J(v,_,T,f);else{let Ce=z.blankNode();yield new J(v,_,Ce,f),yield*z.collection(f,Ce,oe,O)}},*objects(f,v,R,O,oe,Ce=!1){switch(typeof O){case"string":{yield new J(v,R,z.c1(O,oe),f);break}case"number":{yield new J(v,R,z.number(O),f);break}case"object":{if(Array.isArray(O))if(Ce){let Se=z.blankNode();yield new J(v,R,Se,f),yield*z.collection(f,Se,O,oe)}else for(let Se of O)yield*z.objects(f,v,R,Se,oe,!0);else{let Se=z.blankNode();yield new J(v,R,Se,f),yield*z.pairs(f,Se,O,oe)}break}default:throw new Error(`invalid object type: ${typeof O}`)}},from:{term(f){return f===null||f.isGraphyTerm?f:z.from.rdfjs_term(f)},quad(f){if(f===null||f.isGraphyQuad)return f;let v=z.from;return new J(v.rdfjs_term(f.subject),v.rdfjs_term(f.predicate),v.rdfjs_term(f.object),f.graph?v.rdfjs_term(f.graph):H)},rdfjs_term(f){switch(f.termType){case"NamedNode":return new P(f.value);case"BlankNode":return new he(f.value);case"Literal":return z.literal(f.value,f.language?f.language:f.datatype?new P(f.datatype.value):null);case"DefaultGraph":return new I;default:throw new TypeError(`invalid termType: ${f.termType}`)}},sparql_result(f){switch(f.type){case"uri":return new P(f.value);case"literal":case"typed-literal":return"xml:lang"in f?new le(f.value,f["xml:lang"]):"datatype"in f&&f.datatype!=="http://www.w3.org/2001/XMLSchema#string"?new ye(f.value,new P(f.datatype)):new ie(f.value);case"bnode":return new he(f.value);default:throw new Error(`unexpected SPARQL Result JSON Format Term type: ${f.type}`)}}},to:{boolean:f=>te.from(f),integer:f=>B.from(f),decimal:f=>se.from(f),double:f=>D.from(f)},comment(f={}){return`\`[${d()}]${JSON.stringify({...f,type:"comment"})}`},newlines(){return`\`[${d()}]{"type":"newlines"}`},config(f){if(typeof f!="string")throw new TypeError(`Expected 'key' argument to be a string, instead found ${typeof f}`);return`\`[${d()}]{"type":"config","value":${JSON.stringify(f)}}`},hash(f){let v=z.from.quad(f),R=e.createHash("sha256");return R.update(v.verbose()),R.digest("hex")},cache_prefixes:x,cachePrefixes:x,terse:A,clean_iri:i,cleanIri:i,$_PREFIX_CACHE:c};return Object.assign(z,{c3:z.triples,c4:z.quads,fromTerm:z.from.term,fromQuad:z.from.quad}),Dl.exports}var Md=Ld();const js=Ga(Md);class ru{constructor(t){this.term=t}toTerm(){const t=`"""${this.term.value.replace(/"$/,'\\"')}"""`;return{terse:r=>t+this.langOrDatatype(r),verbose:r=>t+this.langOrDatatype(r)}}langOrDatatype(t){if(this.term.language)return`@${this.term.language}`;if(this.term.datatype.equals(mn.string))return"";const r=Qf(this.term.datatype.value,t);return r?`^^${r}`:`^^<${this.term.datatype.value}>`}}const iu=new Map([[ru,e=>e.toTerm()]]);function Rd(e){return e.has(Lt.first)&&e.has(Lt.rest)}class Nd extends wd.Transform{constructor({prefixes:t={},strict:r=!1,preserveListNodeProperties:i=!1}={}){super({objectMode:!0}),this.prefixes=t,this.graphs=new sn,this.blankNodes=new sn,this.strict=r,this.preserveListNodeProperties=i}_transform({subject:t,predicate:r,object:i,graph:n},l,o){const s=this.getGraph(n),a=s.get(t)||{predicates:new sn},u=a.predicates.get(r)||[];if(a.predicates.set(r,[...u,i]),i.termType==="BlankNode"){const d=this.blankNodes.get(i)||0;this.blankNodes.set(i,d+1)}s.set(t,a),o()}_flush(){const t=[...this.graphs].reduce((r,[i,n])=>{const l=this.toHashKey(i);let o=r[l]||{};return o=[...n].reduce(this.toConciseHash(i).bind(this),o),{...r,[l]:o}},{});this.push({type:this.strict?"c4r":"c4",value:t}),this.push(null)}toConciseHash(t){return(r,[i,{predicates:n}])=>{if(!this.strict&&this.blankNodes.get(i)===1)return r;const l=this.toHashKey(i);return{...r,[l]:this.createPropertyMap(t,n)}}}createPropertyMap(t,r,i=0){const n=l=>{if(!this.strict&&this.blankNodes.get(l)===1){const o=this.graphs.get(t).get(l);if(o)return this.createPropertyMap(t,o.predicates,i+1)}return this.toHashKey(l)};if(!this.strict&&Rd(r)&&!this.preserveListNodeProperties){const[l]=r.get(Lt.first),[o]=r.get(Lt.rest);if(i===0){let a;if(o.equals(Lt.nil))a=this.toHashKey(Lt.nil);else{const u=n(o);a=Array.isArray(u)?[...u]:[u]}return{[this.toHashKey(Lt.first)]:[n(l)],[this.toHashKey(Lt.rest)]:[a]}}if(o.equals(Lt.nil))return[n(l)];const s=n(o);return[n(l),...s]}return[...r].reduce((l,[o,s])=>{const a=this.toHashKey(o),u=s.map(n.bind(this));return{...l,[a]:u}},{})}getGraph(t){const r=this.graphs.get(t)||new sn;return this.graphs.set(t,r),r}literalHash(t){if(t.datatype&&!this.strict)switch(t.datatype.value){case mn.integer.value:{const r=+t.value;if(Number.isInteger(r))return r;break}case mn.decimal.value:{const r=+t.value;if(!Number.isNaN(r)&&!Number.isInteger(r))return r;break}case mn.boolean.value:{if(t.value==="true")return!0;if(t.value==="false")return!1;break}}return t.value.includes(`
`)?new ru(t):js.fromTerm(t).concise(this.prefixes)}toHashKey(t){return t.termType==="Literal"?this.literalHash(t):t.equals(Lt.type)?"a":js.fromTerm(t).concise(this.prefixes)}}async function vo(e,t={}){const r=(await e).default;return class{constructor(i={}){this.defaults=i}import(i,{preserveListNodeProperties:n,...l}={}){const o={...this.defaults.prefixes||{},...l.prefixes||{}},s=r({prefixes:o,coercions:t.coercions});return i.pipe(new Nd({prefixes:o,strict:t.strict,preserveListNodeProperties:n})).pipe(s),s}}}const nu=bt(()=>vo(lt(()=>import("./main-DGfkjKXm.js").then(e=>e.m),__vite__mapDeps([12,2,13,14,15,16])),{coercions:iu})),Od=bt(()=>vo(lt(()=>import("./main-Bi8QFT97.js").then(e=>e.m),__vite__mapDeps([17,2,14,15,16])),{strict:!0})),Id=bt(()=>vo(lt(()=>import("./main-PRofpsYC.js").then(e=>e.m),__vite__mapDeps([18,2,13,14,15,16])),{strict:!0,coercions:iu}));async function lu(e){const t=(await e).default;return class{import(r,i){return r.pipe(i?t(i):t())}}}const ou=bt(()=>lu(lt(()=>import("./main-C0hyOWTh.js").then(e=>e.m),__vite__mapDeps([19,2,15,16])))),su=bt(()=>lu(lt(()=>import("./main-Dg9TJPAy.js").then(e=>e.m),__vite__mapDeps([20,2,15,16])))),Dd=bt(async()=>{const e=(await lt(async()=>{const{default:t}=await import("./index-BrFGhsjY.js");return{default:t}},__vite__mapDeps([21,1,2,6]))).default;return class extends e{constructor({prefixes:r={},...i}={}){super({compact:!0,skipGraphProperty:!0,encoding:"string",...i}),this.prefixes=r}import(r,{prefixes:i={}}={}){const n={...this.prefixes,...i};return super.import(r,{context:n})}}}),Pd=bt(async()=>{const e=await lt(()=>import("./index-mlMXqOVQ.js"),__vite__mapDeps([22,8,2]));return class{import(t,r){return new e.StreamParser({format:"text/n3"}).import(t,{...r})}}}),yt=new ed({});yt.import(ut);const _t={jsonLd:"application/ld+json",ntriples:"application/n-triples",nquads:"application/n-quads",notation3:"text/n3",rdfXml:"application/rdf+xml",trig:"application/trig",turtle:"text/turtle"};yt.serializers.set(_t.jsonLd,new Dd);yt.serializers.set(_t.notation3,new nu);yt.serializers.set(_t.turtle,new nu);yt.serializers.set(_t.trig,new Id);yt.serializers.set(_t.rdfXml,new Od);yt.parsers.set(_t.notation3,new Pd);yt.parsers.set(_t.turtle,new ou);yt.parsers.set(_t.trig,new ou);yt.parsers.set(_t.ntriples,new su);yt.parsers.set(_t.nquads,new su);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wn=globalThis,So=wn.ShadowRoot&&(wn.ShadyCSS===void 0||wn.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xo=Symbol(),Us=new WeakMap;let au=class{constructor(t,r,i){if(this._$cssResult$=!0,i!==xo)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(So&&t===void 0){const i=r!==void 0&&r.length===1;i&&(t=Us.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&Us.set(r,t))}return t}toString(){return this.cssText}};const Wd=e=>new au(typeof e=="string"?e:e+"",void 0,xo),$d=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((i,n,l)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[l+1],e[0]);return new au(r,e,xo)},Fd=(e,t)=>{if(So)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(const r of t){const i=document.createElement("style"),n=wn.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=r.cssText,e.appendChild(i)}},Gs=So?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const i of t.cssRules)r+=i.cssText;return Wd(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Hd,defineProperty:Bd,getOwnPropertyDescriptor:zd,getOwnPropertyNames:jd,getOwnPropertySymbols:Ud,getPrototypeOf:Gd}=Object,Jt=globalThis,qs=Jt.trustedTypes,qd=qs?qs.emptyScript:"",Pl=Jt.reactiveElementPolyfillSupport,wi=(e,t)=>e,Jl={toAttribute(e,t){switch(t){case Boolean:e=e?qd:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},uu=(e,t)=>!Hd(e,t),Ks={attribute:!0,type:String,converter:Jl,reflect:!1,useDefault:!1,hasChanged:uu};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Jt.litPropertyMetadata??(Jt.litPropertyMetadata=new WeakMap);let Pr=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=Ks){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(t,r),!r.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(t,i,r);n!==void 0&&Bd(this.prototype,t,n)}}static getPropertyDescriptor(t,r,i){const{get:n,set:l}=zd(this.prototype,t)??{get(){return this[r]},set(o){this[r]=o}};return{get:n,set(o){const s=n==null?void 0:n.call(this);l==null||l.call(this,o),this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Ks}static _$Ei(){if(this.hasOwnProperty(wi("elementProperties")))return;const t=Gd(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(wi("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(wi("properties"))){const r=this.properties,i=[...jd(r),...Ud(r)];for(const n of i)this.createProperty(n,r[n])}const t=this[Symbol.metadata];if(t!==null){const r=litPropertyMetadata.get(t);if(r!==void 0)for(const[i,n]of r)this.elementProperties.set(i,n)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const n=this._$Eu(r,i);n!==void 0&&this._$Eh.set(n,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const n of i)r.unshift(Gs(n))}else t!==void 0&&r.push(Gs(t));return r}static _$Eu(t,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(r=>r(this))}addController(t){var r;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((r=t.hostConnected)==null||r.call(t))}removeController(t){var r;(r=this._$EO)==null||r.delete(t)}_$E_(){const t=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Fd(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var i;return(i=r.hostConnected)==null?void 0:i.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(r=>{var i;return(i=r.hostDisconnected)==null?void 0:i.call(r)})}attributeChangedCallback(t,r,i){this._$AK(t,i)}_$ET(t,r){var l;const i=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,i);if(n!==void 0&&i.reflect===!0){const o=(((l=i.converter)==null?void 0:l.toAttribute)!==void 0?i.converter:Jl).toAttribute(r,i.type);this._$Em=t,o==null?this.removeAttribute(n):this.setAttribute(n,o),this._$Em=null}}_$AK(t,r){var l,o;const i=this.constructor,n=i._$Eh.get(t);if(n!==void 0&&this._$Em!==n){const s=i.getPropertyOptions(n),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((l=s.converter)==null?void 0:l.fromAttribute)!==void 0?s.converter:Jl;this._$Em=n,this[n]=a.fromAttribute(r,s.type)??((o=this._$Ej)==null?void 0:o.get(n))??null,this._$Em=null}}requestUpdate(t,r,i){var n;if(t!==void 0){const l=this.constructor,o=this[t];if(i??(i=l.getPropertyOptions(t)),!((i.hasChanged??uu)(o,r)||i.useDefault&&i.reflect&&o===((n=this._$Ej)==null?void 0:n.get(t))&&!this.hasAttribute(l._$Eu(t,i))))return;this.C(t,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,r,{useDefault:i,reflect:n,wrapped:l},o){i&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??r??this[t]),l!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||i||(r=void 0),this._$AL.set(t,r)),n===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var i;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[l,o]of this._$Ep)this[l]=o;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[l,o]of n){const{wrapped:s}=o,a=this[l];s!==!0||this._$AL.has(l)||a===void 0||this.C(l,void 0,o,a)}}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(i=this._$EO)==null||i.forEach(n=>{var l;return(l=n.hostUpdate)==null?void 0:l.call(n)}),this.update(r)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(r)}willUpdate(t){}_$AE(t){var r;(r=this._$EO)==null||r.forEach(i=>{var n;return(n=i.hostUpdated)==null?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(t){}firstUpdated(t){}};Pr.elementStyles=[],Pr.shadowRootOptions={mode:"open"},Pr[wi("elementProperties")]=new Map,Pr[wi("finalized")]=new Map,Pl==null||Pl({ReactiveElement:Pr}),(Jt.reactiveElementVersions??(Jt.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vi=globalThis,Tn=vi.trustedTypes,Xs=Tn?Tn.createPolicy("lit-html",{createHTML:e=>e}):void 0,fu="$lit$",Xt=`lit$${Math.random().toFixed(9).slice(2)}$`,du="?"+Xt,Kd=`<${du}>`,wr=document,Ni=()=>wr.createComment(""),Oi=e=>e===null||typeof e!="object"&&typeof e!="function",_o=Array.isArray,Xd=e=>_o(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Wl=`[ 	
\f\r]`,ci=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Js=/-->/g,Ys=/>/g,fr=RegExp(`>|${Wl}(?:([^\\s"'>=/]+)(${Wl}*=${Wl}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Vs=/'/g,Zs=/"/g,cu=/^(?:script|style|textarea|title)$/i,Jd=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),Yd=Jd(1),qr=Symbol.for("lit-noChange"),ze=Symbol.for("lit-nothing"),Qs=new WeakMap,cr=wr.createTreeWalker(wr,129);function hu(e,t){if(!_o(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Xs!==void 0?Xs.createHTML(t):t}const Vd=(e,t)=>{const r=e.length-1,i=[];let n,l=t===2?"<svg>":t===3?"<math>":"",o=ci;for(let s=0;s<r;s++){const a=e[s];let u,d,c=-1,g=0;for(;g<a.length&&(o.lastIndex=g,d=o.exec(a),d!==null);)g=o.lastIndex,o===ci?d[1]==="!--"?o=Js:d[1]!==void 0?o=Ys:d[2]!==void 0?(cu.test(d[2])&&(n=RegExp("</"+d[2],"g")),o=fr):d[3]!==void 0&&(o=fr):o===fr?d[0]===">"?(o=n??ci,c=-1):d[1]===void 0?c=-2:(c=o.lastIndex-d[2].length,u=d[1],o=d[3]===void 0?fr:d[3]==='"'?Zs:Vs):o===Zs||o===Vs?o=fr:o===Js||o===Ys?o=ci:(o=fr,n=void 0);const b=o===fr&&e[s+1].startsWith("/>")?" ":"";l+=o===ci?a+Kd:c>=0?(i.push(u),a.slice(0,c)+fu+a.slice(c)+Xt+b):a+Xt+(c===-2?s:b)}return[hu(e,l+(e[r]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),i]};class Ii{constructor({strings:t,_$litType$:r},i){let n;this.parts=[];let l=0,o=0;const s=t.length-1,a=this.parts,[u,d]=Vd(t,r);if(this.el=Ii.createElement(u,i),cr.currentNode=this.el.content,r===2||r===3){const c=this.el.content.firstChild;c.replaceWith(...c.childNodes)}for(;(n=cr.nextNode())!==null&&a.length<s;){if(n.nodeType===1){if(n.hasAttributes())for(const c of n.getAttributeNames())if(c.endsWith(fu)){const g=d[o++],b=n.getAttribute(c).split(Xt),x=/([.?@])?(.*)/.exec(g);a.push({type:1,index:l,name:x[2],strings:b,ctor:x[1]==="."?Qd:x[1]==="?"?ec:x[1]==="@"?tc:jn}),n.removeAttribute(c)}else c.startsWith(Xt)&&(a.push({type:6,index:l}),n.removeAttribute(c));if(cu.test(n.tagName)){const c=n.textContent.split(Xt),g=c.length-1;if(g>0){n.textContent=Tn?Tn.emptyScript:"";for(let b=0;b<g;b++)n.append(c[b],Ni()),cr.nextNode(),a.push({type:2,index:++l});n.append(c[g],Ni())}}}else if(n.nodeType===8)if(n.data===du)a.push({type:2,index:l});else{let c=-1;for(;(c=n.data.indexOf(Xt,c+1))!==-1;)a.push({type:7,index:l}),c+=Xt.length-1}l++}}static createElement(t,r){const i=wr.createElement("template");return i.innerHTML=t,i}}function Kr(e,t,r=e,i){var o,s;if(t===qr)return t;let n=i!==void 0?(o=r._$Co)==null?void 0:o[i]:r._$Cl;const l=Oi(t)?void 0:t._$litDirective$;return(n==null?void 0:n.constructor)!==l&&((s=n==null?void 0:n._$AO)==null||s.call(n,!1),l===void 0?n=void 0:(n=new l(e),n._$AT(e,r,i)),i!==void 0?(r._$Co??(r._$Co=[]))[i]=n:r._$Cl=n),n!==void 0&&(t=Kr(e,n._$AS(e,t.values),n,i)),t}class Zd{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:i}=this._$AD,n=((t==null?void 0:t.creationScope)??wr).importNode(r,!0);cr.currentNode=n;let l=cr.nextNode(),o=0,s=0,a=i[0];for(;a!==void 0;){if(o===a.index){let u;a.type===2?u=new Vi(l,l.nextSibling,this,t):a.type===1?u=new a.ctor(l,a.name,a.strings,this,t):a.type===6&&(u=new rc(l,this,t)),this._$AV.push(u),a=i[++s]}o!==(a==null?void 0:a.index)&&(l=cr.nextNode(),o++)}return cr.currentNode=wr,n}p(t){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,r),r+=i.strings.length-2):i._$AI(t[r])),r++}}class Vi{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,r,i,n){this.type=2,this._$AH=ze,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=i,this.options=n,this._$Cv=(n==null?void 0:n.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Kr(this,t,r),Oi(t)?t===ze||t==null||t===""?(this._$AH!==ze&&this._$AR(),this._$AH=ze):t!==this._$AH&&t!==qr&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Xd(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==ze&&Oi(this._$AH)?this._$AA.nextSibling.data=t:this.T(wr.createTextNode(t)),this._$AH=t}$(t){var l;const{values:r,_$litType$:i}=t,n=typeof i=="number"?this._$AC(t):(i.el===void 0&&(i.el=Ii.createElement(hu(i.h,i.h[0]),this.options)),i);if(((l=this._$AH)==null?void 0:l._$AD)===n)this._$AH.p(r);else{const o=new Zd(n,this),s=o.u(this.options);o.p(r),this.T(s),this._$AH=o}}_$AC(t){let r=Qs.get(t.strings);return r===void 0&&Qs.set(t.strings,r=new Ii(t)),r}k(t){_o(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,n=0;for(const l of t)n===r.length?r.push(i=new Vi(this.O(Ni()),this.O(Ni()),this,this.options)):i=r[n],i._$AI(l),n++;n<r.length&&(this._$AR(i&&i._$AB.nextSibling,n),r.length=n)}_$AR(t=this._$AA.nextSibling,r){var i;for((i=this._$AP)==null?void 0:i.call(this,!1,!0,r);t&&t!==this._$AB;){const n=t.nextSibling;t.remove(),t=n}}setConnected(t){var r;this._$AM===void 0&&(this._$Cv=t,(r=this._$AP)==null||r.call(this,t))}}class jn{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,i,n,l){this.type=1,this._$AH=ze,this._$AN=void 0,this.element=t,this.name=r,this._$AM=n,this.options=l,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=ze}_$AI(t,r=this,i,n){const l=this.strings;let o=!1;if(l===void 0)t=Kr(this,t,r,0),o=!Oi(t)||t!==this._$AH&&t!==qr,o&&(this._$AH=t);else{const s=t;let a,u;for(t=l[0],a=0;a<l.length-1;a++)u=Kr(this,s[i+a],r,a),u===qr&&(u=this._$AH[a]),o||(o=!Oi(u)||u!==this._$AH[a]),u===ze?t=ze:t!==ze&&(t+=(u??"")+l[a+1]),this._$AH[a]=u}o&&!n&&this.j(t)}j(t){t===ze?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Qd extends jn{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===ze?void 0:t}}class ec extends jn{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==ze)}}class tc extends jn{constructor(t,r,i,n,l){super(t,r,i,n,l),this.type=5}_$AI(t,r=this){if((t=Kr(this,t,r,0)??ze)===qr)return;const i=this._$AH,n=t===ze&&i!==ze||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,l=t!==ze&&(i===ze||n);n&&this.element.removeEventListener(this.name,this,i),l&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r;typeof this._$AH=="function"?this._$AH.call(((r=this.options)==null?void 0:r.host)??this.element,t):this._$AH.handleEvent(t)}}class rc{constructor(t,r,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Kr(this,t)}}const $l=vi.litHtmlPolyfillSupport;$l==null||$l(Ii,Vi),(vi.litHtmlVersions??(vi.litHtmlVersions=[])).push("3.3.0");const ic=(e,t,r)=>{const i=(r==null?void 0:r.renderBefore)??t;let n=i._$litPart$;if(n===void 0){const l=(r==null?void 0:r.renderBefore)??null;i._$litPart$=n=new Vi(t.insertBefore(Ni(),l),l,void 0,r??{})}return n._$AI(e),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pr=globalThis;class Si extends Pr{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;const t=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=t.firstChild),t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=ic(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return qr}}var Ua;Si._$litElement$=!0,Si.finalized=!0,(Ua=pr.litElementHydrateSupport)==null||Ua.call(pr,{LitElement:Si});const Fl=pr.litElementPolyfillSupport;Fl==null||Fl({LitElement:Si});(pr.litElementVersions??(pr.litElementVersions=[])).push("4.2.0");var rt=navigator.userAgent,pu=navigator.platform,Ht=/gecko\/\d/i.test(rt),gu=/MSIE \d/.test(rt),bu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(rt),Un=/Edge\/(\d+)/.exec(rt),ke=gu||bu||Un,Ne=ke&&(gu?document.documentMode||6:+(Un||bu)[1]),Xe=!Un&&/WebKit\//.test(rt),nc=Xe&&/Qt\/\d+\.\d+/.test(rt),Gn=!Un&&/Chrome\//.test(rt),xt=/Opera\//.test(rt),qn=/Apple Computer/.test(navigator.vendor),lc=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(rt),oc=/PhantomJS/.test(rt),Zi=qn&&(/Mobile\/\w+/.test(rt)||navigator.maxTouchPoints>2),Kn=/Android/.test(rt),Di=Zi||Kn||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(rt),pt=Zi||/Mac/.test(pu),sc=/\bCrOS\b/.test(rt),ac=/win/i.test(pu),gr=xt&&rt.match(/Version\/(\d*\.\d*)/);gr&&(gr=Number(gr[1]));gr&&gr>=15&&(xt=!1,Xe=!0);var ea=pt&&(nc||xt&&(gr==null||gr<12.11)),Co=Ht||ke&&Ne>=9;function Xr(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var kr=function(e,t){let r=e.className,i=Xr(t).exec(r);if(i){let n=r.slice(i.index+i[0].length);e.className=r.slice(0,i.index)+(n?i[1]+n:"")}};function Vt(e){for(let t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function at(e,t){return Vt(e).appendChild(t)}function ge(e,t,r,i){let n=document.createElement(e);if(r&&(n.className=r),i&&(n.style.cssText=i),typeof t=="string")n.appendChild(document.createTextNode(t));else if(t)for(let l=0;l<t.length;++l)n.appendChild(t[l]);return n}function zr(e,t,r,i){let n=ge(e,t,r,i);return n.setAttribute("role","presentation"),n}var vr;document.createRange?vr=function(e,t,r,i){let n=document.createRange();return n.setEnd(i||e,r),n.setStart(e,t),n}:vr=function(e,t,r){let i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch{return i}return i.collapse(!0),i.moveEnd("character",r),i.moveStart("character",t),i};function Zt(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function ht(){let e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function Er(e,t){let r=e.className;Xr(t).test(r)||(e.className+=(r?" ":"")+t)}function Hl(e,t){let r=e.split(" ");for(let i=0;i<r.length;i++)r[i]&&!Xr(r[i]).test(t)&&(t+=" "+r[i]);return t}var Pi=function(e){e.select()};Zi?Pi=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ke&&(Pi=function(e){try{e.select()}catch{}});function ko(e){let t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Sr(e,t,r){t||(t={});for(let i in e)e.hasOwnProperty(i)&&(r!==!1||!t.hasOwnProperty(i))&&(t[i]=e[i]);return t}function ct(e,t,r,i,n){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(let l=i||0,o=n||0;;){let s=e.indexOf("	",l);if(s<0||s>=t)return o+(t-l);o+=s-l,o+=r-o%r,l=s+1}}var Jr=class{constructor(){this.id=null,this.f=null,this.time=0,this.handler=ko(this.onTimeout,this)}onTimeout(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)}set(e,t){this.f=t;const r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)}};function Ue(e,t){for(let r=0;r<e.length;++r)if(e[r]==t)return r;return-1}var yu=50,Xn={toString:function(){return"CodeMirror.Pass"}},Mt={scroll:!1},Bl={origin:"*mouse"},xi={origin:"+move"};function Yl(e,t,r){for(let i=0,n=0;;){let l=e.indexOf("	",i);l==-1&&(l=e.length);let o=l-i;if(l==e.length||n+o>=t)return i+Math.min(o,t-n);if(n+=l-i,n+=r-n%r,i=l+1,n>=t)return i}}var dn=[""];function Eo(e){for(;dn.length<=e;)dn.push(Te(dn)+" ");return dn[e]}function Te(e){return e[e.length-1]}function Jn(e,t){let r=[];for(let i=0;i<e.length;i++)r[i]=t(e[i],i);return r}function uc(e,t,r){let i=0,n=r(t);for(;i<e.length&&r(e[i])<=n;)i++;e.splice(i,0,t)}function ta(){}function mu(e,t){let r;return Object.create?r=Object.create(e):(ta.prototype=e,r=new ta),t&&Sr(t,r),r}var fc=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Vl(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||fc.test(e))}function vn(e,t){return t?t.source.indexOf("\\w")>-1&&Vl(e)?!0:t.test(e):Vl(e)}function ra(e){for(let t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var dc=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Zl(e){return e.charCodeAt(0)>=768&&dc.test(e)}function wu(e,t,r){for(;(r<0?t>0:t<e.length)&&Zl(e.charAt(t));)t+=r;return t}function Wi(e,t,r){let i=t>r?-1:1;for(;;){if(t==r)return t;let n=(t+r)/2,l=i<0?Math.ceil(n):Math.floor(n);if(l==t)return e(l)?t:r;e(l)?r=l:t=l+i}}function cc(e,t,r,i){if(!e)return i(t,r,"ltr",0);let n=!1;for(let l=0;l<e.length;++l){let o=e[l];(o.from<r&&o.to>t||t==r&&o.to==t)&&(i(Math.max(o.from,t),Math.min(o.to,r),o.level==1?"rtl":"ltr",l),n=!0)}n||i(t,r,"ltr")}var bi=null;function $i(e,t,r){let i;bi=null;for(let n=0;n<e.length;++n){let l=e[n];if(l.from<t&&l.to>t)return n;l.to==t&&(l.from!=l.to&&r=="before"?i=n:bi=n),l.from==t&&(l.from!=l.to&&r!="before"?i=n:bi=n)}return i??bi}var hc=function(){let e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(u){return u<=247?e.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?t.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":u==8204?"b":"L"}let i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,l=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(u,d,c){this.level=u,this.from=d,this.to=c}return function(u,d){let c=d=="ltr"?"L":"R";if(u.length==0||d=="ltr"&&!i.test(u))return!1;let g=u.length,b=[];for(let w=0;w<g;++w)b.push(r(u.charCodeAt(w)));for(let w=0,y=c;w<g;++w){let m=b[w];m=="m"?b[w]=y:y=m}for(let w=0,y=c;w<g;++w){let m=b[w];m=="1"&&y=="r"?b[w]="n":l.test(m)&&(y=m,m=="r"&&(b[w]="R"))}for(let w=1,y=b[0];w<g-1;++w){let m=b[w];m=="+"&&y=="1"&&b[w+1]=="1"?b[w]="1":m==","&&y==b[w+1]&&(y=="1"||y=="n")&&(b[w]=y),y=m}for(let w=0;w<g;++w){let y=b[w];if(y==",")b[w]="N";else if(y=="%"){let m;for(m=w+1;m<g&&b[m]=="%";++m);let C=w&&b[w-1]=="!"||m<g&&b[m]=="1"?"1":"N";for(let P=w;P<m;++P)b[P]=C;w=m-1}}for(let w=0,y=c;w<g;++w){let m=b[w];y=="L"&&m=="1"?b[w]="L":l.test(m)&&(y=m)}for(let w=0;w<g;++w)if(n.test(b[w])){let y;for(y=w+1;y<g&&n.test(b[y]);++y);let m=(w?b[w-1]:c)=="L",C=(y<g?b[y]:c)=="L",P=m==C?m?"L":"R":c;for(let $=w;$<y;++$)b[$]=P;w=y-1}let x=[],A;for(let w=0;w<g;)if(o.test(b[w])){let y=w;for(++w;w<g&&o.test(b[w]);++w);x.push(new a(0,y,w))}else{let y=w,m=x.length,C=d=="rtl"?1:0;for(++w;w<g&&b[w]!="L";++w);for(let P=y;P<w;)if(s.test(b[P])){y<P&&(x.splice(m,0,new a(1,y,P)),m+=C);let $=P;for(++P;P<w&&s.test(b[P]);++P);x.splice(m,0,new a(2,$,P)),m+=C,y=P}else++P;y<w&&x.splice(m,0,new a(1,y,w))}return d=="ltr"&&(x[0].level==1&&(A=u.match(/^\s+/))&&(x[0].from=A[0].length,x.unshift(new a(0,0,A[0].length))),Te(x).level==1&&(A=u.match(/\s+$/))&&(Te(x).to-=A[0].length,x.push(new a(0,g-A[0].length,g)))),d=="rtl"?x.reverse():x}}();function Gt(e,t){let r=e.order;return r==null&&(r=e.order=hc(e.text,t)),r}var vu=[],be=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{let i=e._handlers||(e._handlers={});i[t]=(i[t]||vu).concat(r)}};function To(e,t){return e._handlers&&e._handlers[t]||vu}function st(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{let i=e._handlers,n=i&&i[t];if(n){let l=Ue(n,r);l>-1&&(i[t]=n.slice(0,l).concat(n.slice(l+1)))}}}function We(e,t){let r=To(e,t);if(!r.length)return;let i=Array.prototype.slice.call(arguments,2);for(let n=0;n<r.length;++n)r[n].apply(null,i)}function Fe(e,t,r){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),We(e,r||t.type,e,t),Ql(t)||t.codemirrorIgnore}function Su(e){let t=e._handlers&&e._handlers.cursorActivity;if(!t)return;let r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]);for(let i=0;i<t.length;++i)Ue(r,t[i])==-1&&r.push(t[i])}function gt(e,t){return To(e,t).length>0}function ti(e){e.prototype.on=function(t,r){be(this,t,r)},e.prototype.off=function(t,r){st(this,t,r)}}function Qe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function xu(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ql(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function Fi(e){Qe(e),xu(e)}function Ao(e){return e.target||e.srcElement}function _u(e){let t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),pt&&e.ctrlKey&&t==1&&(t=3),t}var pc=function(){if(ke&&Ne<9)return!1;let e=ge("div");return"draggable"in e||"dragDrop"in e}(),zl;function gc(e){if(zl==null){let r=ge("span","​");at(e,ge("span",[r,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(zl=r.offsetWidth<=1&&r.offsetHeight>2&&!(ke&&Ne<8))}let t=zl?ge("span","​"):ge("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return t.setAttribute("cm-text",""),t}var jl;function bc(e){if(jl!=null)return jl;let t=at(e,document.createTextNode("AخA")),r=vr(t,0,1).getBoundingClientRect(),i=vr(t,1,2).getBoundingClientRect();return Vt(e),!r||r.left==r.right?!1:jl=i.right-r.right<3}var Lo=`

b`.split(/\n/).length!=3?e=>{let t=0,r=[],i=e.length;for(;t<=i;){let n=e.indexOf(`
`,t);n==-1&&(n=e.length);let l=e.slice(t,e.charAt(n-1)=="\r"?n-1:n),o=l.indexOf("\r");o!=-1?(r.push(l.slice(0,o)),t+=o+1):(r.push(l),t=n+1)}return r}:e=>e.split(/\r\n?|\n/),yc=window.getSelection?e=>{try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:e=>{let t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},mc=(()=>{let e=ge("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")})(),Ul=null;function wc(e){if(Ul!=null)return Ul;let t=at(e,ge("span","x")),r=t.getBoundingClientRect(),i=vr(t,0,1).getBoundingClientRect();return Ul=Math.abs(r.left-i.left)>1}var Mo={},Fr={};function vc(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Mo[e]=t}function Sc(e,t){Fr[e]=t}function An(e){if(typeof e=="string"&&Fr.hasOwnProperty(e))e=Fr[e];else if(e&&typeof e.name=="string"&&Fr.hasOwnProperty(e.name)){let t=Fr[e.name];typeof t=="string"&&(t={name:t}),e=mu(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return An("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return An("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Ro(e,t){t=An(t);let r=Mo[t.name];if(!r)return Ro(e,"text/plain");let i=r(e,t);if(jr.hasOwnProperty(t.name)){let n=jr[t.name];for(let l in n)n.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=n[l])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(let n in t.modeProps)i[n]=t.modeProps[n];return i}var jr={};function xc(e,t){let r=jr.hasOwnProperty(e)?jr[e]:jr[e]={};Sr(t,r)}function br(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);let r={};for(let i in t){let n=t[i];n instanceof Array&&(n=n.concat([])),r[i]=n}return r}function No(e,t){let r;for(;e.innerMode&&(r=e.innerMode(t),!(!r||r.mode==e));)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Cu(e,t,r){return e.startState?e.startState(t,r):!0}var _c=class{constructor(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r}eol(){return this.pos>=this.string.length}sol(){return this.pos==this.lineStart}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let t=this.string.charAt(this.pos),r;if(typeof e=="string"?r=t==e:r=t&&(e.test?e.test(t):e(t)),r)return++this.pos,t}eatWhile(e){let t=this.pos;for(;this.eat(e););return this.pos>t}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ct(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ct(this.string,this.lineStart,this.tabSize):0)}indentation(){return ct(this.string,null,this.tabSize)-(this.lineStart?ct(this.string,this.lineStart,this.tabSize):0)}match(e,t,r){if(typeof e=="string"){let i=l=>r?l.toLowerCase():l,n=this.string.substr(this.pos,e.length);if(i(n)==i(e))return t!==!1&&(this.pos+=e.length),!0}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}hideFirstChars(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}lookAhead(e){let t=this.lineOracle;return t&&t.lookAhead(e)}baseToken(){let e=this.lineOracle;return e&&e.baseToken(this.pos)}},Yn=_c;function pe(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");let r=e;for(;!r.lines;)for(let i=0;;++i){let n=r.children[i],l=n.chunkSize();if(t<l){r=n;break}t-=l}return r.lines[t]}function yr(e,t,r){let i=[],n=t.line;return e.iter(t.line,r.line+1,l=>{let o=l.text;n==r.line&&(o=o.slice(0,r.ch)),n==t.line&&(o=o.slice(t.ch)),i.push(o),++n}),i}function Gl(e,t,r){let i=[];return e.iter(t,r,n=>{i.push(n.text)}),i}function Rt(e,t){let r=t-e.height;if(r)for(let i=e;i;i=i.parent)i.height+=r}function Ae(e){if(e.parent==null)return null;let t=e.parent,r=Ue(t.lines,e);for(let i=t.parent;i;t=i,i=i.parent)for(let n=0;i.children[n]!=t;++n)r+=i.children[n].chunkSize();return r+t.first}function hr(e,t){let r=e.first;e:do{for(let n=0;n<e.children.length;++n){let l=e.children[n],o=l.height;if(t<o){e=l;continue e}t-=o,r+=l.chunkSize()}return r}while(!e.lines);let i=0;for(;i<e.lines.length;++i){let n=e.lines[i],l=n.height;if(t<l)break;t-=l}return r+i}function Hi(e,t){return t>=e.first&&t<e.first+e.size}function Oo(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function K(e,t,r=null){if(!(this instanceof K))return new K(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ve(e,t){return e.line-t.line||e.ch-t.ch}function eo(e,t){return e.sticky==t.sticky&&ve(e,t)==0}function to(e){return K(e.line,e.ch)}function Vn(e,t){return ve(e,t)<0?t:e}function Zn(e,t){return ve(e,t)<0?e:t}function ku(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function we(e,t){if(t.line<e.first)return K(e.first,0);let r=e.first+e.size-1;return t.line>r?K(r,pe(e,r).text.length):Cc(t,pe(e,t.line).text.length)}function Cc(e,t){let r=e.ch;return r==null||r>t?K(e.line,t):r<0?K(e.line,0):e}function ia(e,t){let r=[];for(let i=0;i<t.length;i++)r[i]=we(e,t[i]);return r}var Ln=class{constructor(e,t){this.state=e,this.lookAhead=t}},_i=class{constructor(e,t,r,i){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1}lookAhead(e){let t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t}baseToken(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;let t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}}nextLine(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--}static fromSaved(e,t,r){return t instanceof Ln?new _i(e,br(e.mode,t.state),r,t.lookAhead):new _i(e,br(e.mode,t),r)}save(e){let t=e!==!1?br(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ln(t,this.maxLookAhead):t}};function Eu(e,t,r,i){let n=[e.state.modeGen],l={};sa(e,t.text,e.doc.mode,r,(s,a)=>n.push(s,a),l,i);let o=r.state;for(let s=0;s<e.state.overlays.length;++s){r.baseTokens=n;let a=e.state.overlays[s],u=1,d=0;r.state=!0,sa(e,t.text,a.mode,r,(c,g)=>{let b=u;for(;d<c;){let x=n[u];x>c&&n.splice(u,1,c,n[u+1],x),u+=2,d=Math.min(c,x)}if(g)if(a.opaque)n.splice(b,u-b,c,"overlay "+g),u=b+2;else for(;b<u;b+=2){let x=n[b+1];n[b+1]=(x?x+" ":"")+"overlay "+g}},l),r.state=o,r.baseTokens=null,r.baseTokenPos=1}return{styles:n,classes:l.bgClass||l.textClass?l:null}}function Tu(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){let i=Qi(e,Ae(t)),n=t.text.length>e.options.maxHighlightLength&&br(e.doc.mode,i.state),l=Eu(e,t,i);n&&(i.state=n),t.stateAfter=i.save(!n),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Qi(e,t,r){let i=e.doc,n=e.display;if(!i.mode.startState)return new _i(i,!0,t);let l=kc(e,t,r),o=l>i.first&&pe(i,l-1).stateAfter,s=o?_i.fromSaved(i,o,l):new _i(i,Cu(i.mode),l);return i.iter(l,t,a=>{Io(e,a.text,s);let u=s.line;a.stateAfter=u==t-1||u%5==0||u>=n.viewFrom&&u<n.viewTo?s.save():null,s.nextLine()}),r&&(i.modeFrontier=s.line),s}function Io(e,t,r,i){let n=e.doc.mode,l=new Yn(t,e.options.tabSize,r);for(l.start=l.pos=i||0,t==""&&Au(n,r.state);!l.eol();)Do(n,l,r.state),l.start=l.pos}function Au(e,t){if(e.blankLine)return e.blankLine(t);if(!e.innerMode)return;let r=No(e,t);if(r.mode.blankLine)return r.mode.blankLine(r.state)}function Do(e,t,r,i){for(let n=0;n<10;n++){i&&(i[0]=No(e,r).mode);let l=e.token(t,r);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var na=class{constructor(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r}};function la(e,t,r,i){let n=e.doc,l=n.mode,o;t=we(n,t);let s=pe(n,t.line),a=Qi(e,t.line,r),u=new Yn(s.text,e.options.tabSize,a),d;for(i&&(d=[]);(i||u.pos<t.ch)&&!u.eol();)u.start=u.pos,o=Do(l,u,a.state),i&&d.push(new na(u,o,br(n.mode,a.state)));return i?d:new na(u,o,a.state)}function oa(e,t){if(e)for(;;){let r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);let i=r[1]?"bgClass":"textClass";t[i]==null?t[i]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[i])||(t[i]+=" "+r[2])}return e}function sa(e,t,r,i,n,l,o){let s=r.flattenSpans;s==null&&(s=e.options.flattenSpans);let a=0,u=null,d=new Yn(t,e.options.tabSize,i),c,g=e.options.addModeClass&&[null];for(t==""&&oa(Au(r,i.state),l);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,o&&Io(e,t,i,d.pos),d.pos=t.length,c=null):c=oa(Do(r,d,i.state,g),l),g){let b=g[0].name;b&&(c="m-"+(c?b+" "+c:b))}if(!s||u!=c){for(;a<d.start;)a=Math.min(d.start,a+5e3),n(a,u);u=c}d.start=d.pos}for(;a<d.pos;){let b=Math.min(d.pos,a+5e3);n(b,u),a=b}}function kc(e,t,r){let i,n,l=e.doc,o=r?-1:t-(e.doc.mode.innerMode?1e3:100);for(let s=t;s>o;--s){if(s<=l.first)return l.first;let a=pe(l,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof Ln?u.lookAhead:0)<=l.modeFrontier))return s;let d=ct(a.text,null,e.options.tabSize);(n==null||i>d)&&(n=s-1,i=d)}return n}function Ec(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),e.highlightFrontier<t-10)return;let r=e.first;for(let i=t-1;i>r;i--){let n=pe(e,i).stateAfter;if(n&&(!(n instanceof Ln)||i+n.lookAhead<t)){r=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}var Lu=!1,Bt=!1;function Tc(){Lu=!0}function Ac(){Bt=!0}function Qn(e,t,r){this.marker=e,this.from=t,this.to=r}function Bi(e,t){if(e)for(let r=0;r<e.length;++r){let i=e[r];if(i.marker==t)return i}}function Lc(e,t){let r;for(let i=0;i<e.length;++i)e[i]!=t&&(r||(r=[])).push(e[i]);return r}function Mc(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Rc(e,t,r){let i;if(e)for(let n=0;n<e.length;++n){let l=e[n],o=l.marker;if(l.from==null||(o.inclusiveLeft?l.from<=t:l.from<t)||l.from==t&&o.type=="bookmark"&&(!r||!l.marker.insertLeft)){let a=l.to==null||(o.inclusiveRight?l.to>=t:l.to>t);(i||(i=[])).push(new Qn(o,l.from,a?null:l.to))}}return i}function Nc(e,t,r){let i;if(e)for(let n=0;n<e.length;++n){let l=e[n],o=l.marker;if(l.to==null||(o.inclusiveRight?l.to>=t:l.to>t)||l.from==t&&o.type=="bookmark"&&(!r||l.marker.insertLeft)){let a=l.from==null||(o.inclusiveLeft?l.from<=t:l.from<t);(i||(i=[])).push(new Qn(o,a?null:l.from-t,l.to==null?null:l.to-t))}}return i}function ro(e,t){if(t.full)return null;let r=Hi(e,t.from.line)&&pe(e,t.from.line).markedSpans,i=Hi(e,t.to.line)&&pe(e,t.to.line).markedSpans;if(!r&&!i)return null;let n=t.from.ch,l=t.to.ch,o=ve(t.from,t.to)==0,s=Rc(r,n,o),a=Nc(i,l,o),u=t.text.length==1,d=Te(t.text).length+(u?n:0);if(s)for(let g=0;g<s.length;++g){let b=s[g];if(b.to==null){let x=Bi(a,b.marker);x?u&&(b.to=x.to==null?null:x.to+d):b.to=n}}if(a)for(let g=0;g<a.length;++g){let b=a[g];b.to!=null&&(b.to+=d),b.from==null?Bi(s,b.marker)||(b.from=d,u&&(s||(s=[])).push(b)):(b.from+=d,u&&(s||(s=[])).push(b))}s&&(s=aa(s)),a&&a!=s&&(a=aa(a));let c=[s];if(!u){let g=t.text.length-2,b;if(g>0&&s)for(let x=0;x<s.length;++x)s[x].to==null&&(b||(b=[])).push(new Qn(s[x].marker,null,null));for(let x=0;x<g;++x)c.push(b);c.push(a)}return c}function aa(e){for(let t=0;t<e.length;++t){let r=e[t];r.from!=null&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Oc(e,t,r){let i=null;if(e.iter(t.line,r.line+1,l=>{if(l.markedSpans)for(let o=0;o<l.markedSpans.length;++o){let s=l.markedSpans[o].marker;s.readOnly&&(!i||Ue(i,s)==-1)&&(i||(i=[])).push(s)}}),!i)return null;let n=[{from:t,to:r}];for(let l=0;l<i.length;++l){let o=i[l],s=o.find(0);for(let a=0;a<n.length;++a){let u=n[a];if(ve(u.to,s.from)<0||ve(u.from,s.to)>0)continue;let d=[a,1],c=ve(u.from,s.from),g=ve(u.to,s.to);(c<0||!o.inclusiveLeft&&!c)&&d.push({from:u.from,to:s.from}),(g>0||!o.inclusiveRight&&!g)&&d.push({from:s.to,to:u.to}),n.splice.apply(n,d),a+=d.length-3}}return n}function Mu(e){let t=e.markedSpans;if(t){for(let r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Ru(e,t){if(t){for(let r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Mn(e){return e.inclusiveLeft?-1:0}function Rn(e){return e.inclusiveRight?1:0}function Po(e,t){let r=e.lines.length-t.lines.length;if(r!=0)return r;let i=e.find(),n=t.find(),l=ve(i.from,n.from)||Mn(e)-Mn(t);if(l)return-l;let o=ve(i.to,n.to)||Rn(e)-Rn(t);return o||t.id-e.id}function Nu(e,t){let r=Bt&&e.markedSpans,i;if(r)for(let n,l=0;l<r.length;++l)n=r[l],n.marker.collapsed&&(t?n.from:n.to)==null&&(!i||Po(i,n.marker)<0)&&(i=n.marker);return i}function Ou(e){return Nu(e,!0)}function el(e){return Nu(e,!1)}function Ic(e,t){let r=Bt&&e.markedSpans,i;if(r)for(let n=0;n<r.length;++n){let l=r[n];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!i||Po(i,l.marker)<0)&&(i=l.marker)}return i}function ua(e,t,r,i,n){let l=pe(e,t),o=Bt&&l.markedSpans;if(o)for(let s=0;s<o.length;++s){let a=o[s];if(!a.marker.collapsed)continue;let u=a.marker.find(0),d=ve(u.from,r)||Mn(a.marker)-Mn(n),c=ve(u.to,i)||Rn(a.marker)-Rn(n);if(!(d>=0&&c<=0||d<=0&&c>=0)&&(d<=0&&(a.marker.inclusiveRight&&n.inclusiveLeft?ve(u.to,r)>=0:ve(u.to,r)>0)||d>=0&&(a.marker.inclusiveRight&&n.inclusiveLeft?ve(u.from,i)<=0:ve(u.from,i)<0)))return!0}}function Nt(e){let t;for(;t=Ou(e);)e=t.find(-1,!0).line;return e}function Dc(e){let t;for(;t=el(e);)e=t.find(1,!0).line;return e}function Pc(e){let t,r;for(;t=el(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function Wo(e,t){let r=pe(e,t),i=Nt(r);return r==i?t:Ae(i)}function Iu(e,t){if(t>e.lastLine())return t;let r=pe(e,t),i;if(!Qt(e,r))return t;for(;i=el(r);)r=i.find(1,!0).line;return Ae(r)+1}function Qt(e,t){let r=Bt&&t.markedSpans;if(r){for(let i,n=0;n<r.length;++n)if(i=r[n],!!i.marker.collapsed){if(i.from==null)return!0;if(!i.marker.widgetNode&&i.from==0&&i.marker.inclusiveLeft&&io(e,t,i))return!0}}}function io(e,t,r){if(r.to==null){let i=r.marker.find(1,!0);return io(e,i.line,Bi(i.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(let i,n=0;n<t.markedSpans.length;++n)if(i=t.markedSpans[n],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(i.to==null||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&io(e,t,i))return!0}function zt(e){e=Nt(e);let t=0,r=e.parent;for(let i=0;i<r.lines.length;++i){let n=r.lines[i];if(n==e)break;t+=n.height}for(let i=r.parent;i;r=i,i=r.parent)for(let n=0;n<i.children.length;++n){let l=i.children[n];if(l==r)break;t+=l.height}return t}function Nn(e){if(e.height==0)return 0;let t=e.text.length,r,i=e;for(;r=Ou(i);){let n=r.find(0,!0);i=n.from.line,t+=n.from.ch-n.to.ch}for(i=e;r=el(i);){let n=r.find(0,!0);t-=i.text.length-n.from.ch,i=n.to.line,t+=i.text.length-n.to.ch}return t}function $o(e){let t=e.display,r=e.doc;t.maxLine=pe(r,r.first),t.maxLineLength=Nn(t.maxLine),t.maxLineChanged=!0,r.iter(i=>{let n=Nn(i);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=i)})}var zi=class{constructor(e,t,r){this.text=e,Ru(this,t),this.height=r?r(this):1}lineNo(){return Ae(this)}};ti(zi);function Wc(e,t,r,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Mu(e),Ru(e,r);let n=i?i(e):1;n!=e.height&&Rt(e,n)}function $c(e){e.parent=null,Mu(e)}var Fc={},Hc={};function fa(e,t){if(!e||/^\s*$/.test(e))return null;let r=t.addModeClass?Hc:Fc;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Du(e,t){let r=zr("span",null,null,Xe?"padding-right: .1px":null),i={pre:zr("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(let n=0;n<=(t.rest?t.rest.length:0);n++){let l=n?t.rest[n-1]:t.line,o;i.pos=0,i.addToken=zc,bc(e.display.measure)&&(o=Gt(l,e.doc.direction))&&(i.addToken=Uc(i.addToken,o)),i.map=[];let s=t!=e.display.externalMeasured&&Ae(l);Gc(l,i,Tu(e,l,s)),l.styleClasses&&(l.styleClasses.bgClass&&(i.bgClass=Hl(l.styleClasses.bgClass,i.bgClass||"")),l.styleClasses.textClass&&(i.textClass=Hl(l.styleClasses.textClass,i.textClass||""))),i.map.length==0&&i.map.push(0,0,i.content.appendChild(gc(e.display.measure))),n==0?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Xe){let n=i.content.lastChild;(/\bcm-tab\b/.test(n.className)||n.querySelector&&n.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return We(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Hl(i.pre.className,i.textClass||"")),i}function Bc(e){let t=ge("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function zc(e,t,r,i,n,l,o){if(!t)return;let s=e.splitSpaces?jc(t,e.trailingSpace):t,a=e.cm.state.specialChars,u=!1,d;if(!a.test(t))e.col+=t.length,d=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,d),ke&&Ne<9&&(u=!0),e.pos+=t.length;else{d=document.createDocumentFragment();let c=0;for(;;){a.lastIndex=c;let g=a.exec(t),b=g?g.index-c:t.length-c;if(b){let A=document.createTextNode(s.slice(c,c+b));ke&&Ne<9?d.appendChild(ge("span",[A])):d.appendChild(A),e.map.push(e.pos,e.pos+b,A),e.col+=b,e.pos+=b}if(!g)break;c+=b+1;let x;if(g[0]=="	"){let A=e.cm.options.tabSize,w=A-e.col%A;x=d.appendChild(ge("span",Eo(w),"cm-tab")),x.setAttribute("role","presentation"),x.setAttribute("cm-text","	"),e.col+=w}else g[0]=="\r"||g[0]==`
`?(x=d.appendChild(ge("span",g[0]=="\r"?"␍":"␤","cm-invalidchar")),x.setAttribute("cm-text",g[0]),e.col+=1):(x=e.cm.options.specialCharPlaceholder(g[0]),x.setAttribute("cm-text",g[0]),ke&&Ne<9?d.appendChild(ge("span",[x])):d.appendChild(x),e.col+=1);e.map.push(e.pos,e.pos+1,x),e.pos++}}if(e.trailingSpace=s.charCodeAt(t.length-1)==32,r||i||n||u||l||o){let c=r||"";i&&(c+=i),n&&(c+=n);let g=ge("span",[d],c,l);if(o)for(let b in o)o.hasOwnProperty(b)&&b!="style"&&b!="class"&&g.setAttribute(b,o[b]);return e.content.appendChild(g)}e.content.appendChild(d)}function jc(e,t){if(e.length>1&&!/  /.test(e))return e;let r=t,i="";for(let n=0;n<e.length;n++){let l=e.charAt(n);l==" "&&r&&(n==e.length-1||e.charCodeAt(n+1)==32)&&(l=" "),i+=l,r=l==" "}return i}function Uc(e,t){return(r,i,n,l,o,s,a)=>{n=n?n+" cm-force-border":"cm-force-border";let u=r.pos,d=u+i.length;for(;;){let c;for(let g=0;g<t.length&&(c=t[g],!(c.to>u&&c.from<=u));g++);if(c.to>=d)return e(r,i,n,l,o,s,a);e(r,i.slice(0,c.to-u),n,l,null,s,a),l=null,i=i.slice(c.to-u),u=c.to}}}function da(e,t,r,i){let n=!i&&r.widgetNode;n&&e.map.push(e.pos,e.pos+t,n),!i&&e.cm.display.input.needsContentAttribute&&(n||(n=e.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",r.id)),n&&(e.cm.display.input.setUneditable(n),e.content.appendChild(n)),e.pos+=t,e.trailingSpace=!1}function Gc(e,t,r){let i=e.markedSpans,n=e.text,l=0;if(!i){for(let m=1;m<r.length;m+=2)t.addToken(t,n.slice(l,l=r[m]),fa(r[m+1],t.cm.options));return}let o=n.length,s=0,a=1,u="",d,c,g=0,b,x,A,w,y;for(;;){if(g==s){b=x=A=c="",y=null,w=null,g=1/0;let C=[],P;for(let $=0;$<i.length;++$){let ne=i[$],ae=ne.marker;if(ae.type=="bookmark"&&ne.from==s&&ae.widgetNode)C.push(ae);else if(ne.from<=s&&(ne.to==null||ne.to>s||ae.collapsed&&ne.to==s&&ne.from==s)){if(ne.to!=null&&ne.to!=s&&g>ne.to&&(g=ne.to,x=""),ae.className&&(b+=" "+ae.className),ae.css&&(c=(c?c+";":"")+ae.css),ae.startStyle&&ne.from==s&&(A+=" "+ae.startStyle),ae.endStyle&&ne.to==g&&(P||(P=[])).push(ae.endStyle,ne.to),ae.title&&((y||(y={})).title=ae.title),ae.attributes)for(let Z in ae.attributes)(y||(y={}))[Z]=ae.attributes[Z];ae.collapsed&&(!w||Po(w.marker,ae)<0)&&(w=ne)}else ne.from>s&&g>ne.from&&(g=ne.from)}if(P)for(let $=0;$<P.length;$+=2)P[$+1]==g&&(x+=" "+P[$]);if(!w||w.from==s)for(let $=0;$<C.length;++$)da(t,0,C[$]);if(w&&(w.from||0)==s){if(da(t,(w.to==null?o+1:w.to)-s,w.marker,w.from==null),w.to==null)return;w.to==s&&(w=!1)}}if(s>=o)break;let m=Math.min(o,g);for(;;){if(u){let C=s+u.length;if(!w){let P=C>m?u.slice(0,m-s):u;t.addToken(t,P,d?d+b:b,A,s+P.length==g?x:"",c,y)}if(C>=m){u=u.slice(m-s),s=m;break}s=C,A=""}u=n.slice(l,l=r[a++]),d=fa(r[a++],t.cm.options)}}}function Pu(e,t,r){this.line=t,this.rest=Pc(t),this.size=this.rest?Ae(Te(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Qt(e,t)}function Sn(e,t,r){let i=[],n;for(let l=t;l<r;l=n){let o=new Pu(e.doc,pe(e.doc,l),l);n=l+o.size,i.push(o)}return i}var Ur=null;function qc(e){Ur?Ur.ops.push(e):e.ownsGroup=Ur={ops:[e],delayedCallbacks:[]}}function Kc(e){let t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(let i=0;i<e.ops.length;i++){let n=e.ops[i];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++].call(null,n.cm)}}while(r<t.length)}function Xc(e,t){let r=e.ownsGroup;if(r)try{Kc(r)}finally{Ur=null,t(r)}}var Ci=null;function Be(e,t){let r=To(e,t);if(!r.length)return;let i=Array.prototype.slice.call(arguments,2),n;Ur?n=Ur.delayedCallbacks:Ci?n=Ci:(n=Ci=[],setTimeout(Jc,0));for(let l=0;l<r.length;++l)n.push(()=>r[l].apply(null,i))}function Jc(){let e=Ci;Ci=null;for(let t=0;t<e.length;++t)e[t]()}function Wu(e,t,r,i){for(let n=0;n<t.changes.length;n++){let l=t.changes[n];l=="text"?Vc(e,t):l=="gutter"?Fu(e,t,r,i):l=="class"?Fo(e,t):l=="widget"&&Zc(e,t,i)}t.changes=null}function ji(e){return e.node==e.text&&(e.node=ge("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ke&&Ne<8&&(e.node.style.zIndex=2)),e.node}function Yc(e,t){let r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){let i=ji(t);t.background=i.insertBefore(ge("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function $u(e,t){let r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Du(e,t)}function Vc(e,t){let r=t.text.className,i=$u(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,Fo(e,t)):r&&(t.text.className=r)}function Fo(e,t){Yc(e,t),t.line.wrapClass?ji(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");let r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Fu(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){let l=ji(t);t.gutterBackground=ge("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,`left: ${e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth}px; width: ${i.gutterTotalWidth}px`),e.display.input.setUneditable(t.gutterBackground),l.insertBefore(t.gutterBackground,t.text)}let n=t.line.gutterMarkers;if(e.options.lineNumbers||n){let l=ji(t),o=t.gutter=ge("div",null,"CodeMirror-gutter-wrapper",`left: ${e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth}px`);if(o.setAttribute("aria-hidden","true"),e.display.input.setUneditable(o),l.insertBefore(o,t.text),t.line.gutterClass&&(o.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!n||!n["CodeMirror-linenumbers"])&&(t.lineNumber=o.appendChild(ge("div",Oo(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt",`left: ${i.gutterLeft["CodeMirror-linenumbers"]}px; width: ${e.display.lineNumInnerWidth}px`))),n)for(let s=0;s<e.display.gutterSpecs.length;++s){let a=e.display.gutterSpecs[s].className,u=n.hasOwnProperty(a)&&n[a];u&&o.appendChild(ge("div",[u],"CodeMirror-gutter-elt",`left: ${i.gutterLeft[a]}px; width: ${i.gutterWidth[a]}px`))}}}function Zc(e,t,r){t.alignable&&(t.alignable=null);let i=Xr("CodeMirror-linewidget");for(let n=t.node.firstChild,l;n;n=l)l=n.nextSibling,i.test(n.className)&&t.node.removeChild(n);Hu(e,t,r)}function Qc(e,t,r,i){let n=$u(e,t);return t.text=t.node=n.pre,n.bgClass&&(t.bgClass=n.bgClass),n.textClass&&(t.textClass=n.textClass),Fo(e,t),Fu(e,t,r,i),Hu(e,t,i),t.node}function Hu(e,t,r){if(ca(e,t.line,t,r,!0),t.rest)for(let i=0;i<t.rest.length;i++)ca(e,t.rest[i],t,r,!1)}function ca(e,t,r,i,n){if(!t.widgets)return;let l=ji(r);for(let o=0,s=t.widgets;o<s.length;++o){let a=s[o],u=ge("div",[a.node],"CodeMirror-linewidget"+(a.className?" "+a.className:""));a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),eh(a,u,r,i),e.display.input.setUneditable(u),n&&a.above?l.insertBefore(u,r.gutter||r.text):l.appendChild(u),Be(a,"redraw")}}function eh(e,t,r,i){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);let n=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(n-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=n+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function Ui(e){if(e.height!=null)return e.height;let t=e.doc.cm;if(!t)return 0;if(!Zt(document.body,e.node)){let r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),at(t.display.measure,ge("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function jt(e,t){for(let r=Ao(t);r!=e.wrapper;r=r.parentNode)if(!r||r.nodeType==1&&r.getAttribute("cm-ignore-events")=="true"||r.parentNode==e.sizer&&r!=e.mover)return!0}function tl(e){return e.lineSpace.offsetTop}function Ho(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Bu(e){if(e.cachedPaddingH)return e.cachedPaddingH;let t=at(e.measure,ge("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return!isNaN(i.left)&&!isNaN(i.right)&&(e.cachedPaddingH=i),i}function Ot(e){return yu-e.display.nativeBarWidth}function Tr(e){return e.display.scroller.clientWidth-Ot(e)-e.display.barWidth}function Bo(e){return e.display.scroller.clientHeight-Ot(e)-e.display.barHeight}function th(e,t,r){let i=e.options.lineWrapping,n=i&&Tr(e);if(!t.measure.heights||i&&t.measure.width!=n){let l=t.measure.heights=[];if(i){t.measure.width=n;let o=t.text.firstChild.getClientRects();for(let s=0;s<o.length-1;s++){let a=o[s],u=o[s+1];Math.abs(a.bottom-u.bottom)>2&&l.push((a.bottom+u.top)/2-r.top)}}l.push(r.bottom-r.top)}}function zu(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(let i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(let i=0;i<e.rest.length;i++)if(Ae(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function rh(e,t){t=Nt(t);let r=Ae(t),i=e.display.externalMeasured=new Pu(e.doc,t,r);i.lineN=r;let n=i.built=Du(e,i);return i.text=n.pre,at(e.display.lineMeasure,n.pre),i}function ju(e,t,r,i){return It(e,ri(e,t),r,i)}function zo(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[_r(e,t)];let r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size)return r}function ri(e,t){let r=Ae(t),i=zo(e,r);i&&!i.text?i=null:i&&i.changes&&(Wu(e,i,r,Go(e)),e.curOp.forceUpdate=!0),i||(i=rh(e,t));let n=zu(i,t,r);return{line:t,view:i,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function It(e,t,r,i,n){t.before&&(r=-1);let l=r+(i||""),o;return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(th(e,t.view,t.rect),t.hasHeights=!0),o=nh(e,t,r,i),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:n?o.rtop:o.top,bottom:n?o.rbottom:o.bottom}}var Uu={left:0,right:0,top:0,bottom:0};function Gu(e,t,r){let i,n,l,o,s,a;for(let u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(n=0,l=1,o="left"):t<a?(n=t-s,l=n+1):(u==e.length-3||t==a&&e[u+3]>t)&&(l=a-s,n=l-1,t>=a&&(o="right")),n!=null){if(i=e[u+2],s==a&&r==(i.insertLeft?"left":"right")&&(o=r),r=="left"&&n==0)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)i=e[(u-=3)+2],o="left";if(r=="right"&&n==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)i=e[(u+=3)+2],o="right";break}return{node:i,start:n,end:l,collapse:o,coverStart:s,coverEnd:a}}function ih(e,t){let r=Uu;if(t=="left")for(let i=0;i<e.length&&(r=e[i]).left==r.right;i++);else for(let i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function nh(e,t,r,i){let n=Gu(t.map,r,i),l=n.node,o=n.start,s=n.end,a=n.collapse,u;if(l.nodeType==3){for(let m=0;m<4;m++){for(;o&&Zl(t.line.text.charAt(n.coverStart+o));)--o;for(;n.coverStart+s<n.coverEnd&&Zl(t.line.text.charAt(n.coverStart+s));)++s;if(ke&&Ne<9&&o==0&&s==n.coverEnd-n.coverStart?u=l.parentNode.getBoundingClientRect():u=ih(vr(l,o,s).getClientRects(),i),u.left||u.right||o==0)break;s=o,o=o-1,a="right"}ke&&Ne<11&&(u=lh(e.display.measure,u))}else{o>0&&(a=i="right");let m;e.options.lineWrapping&&(m=l.getClientRects()).length>1?u=m[i=="right"?m.length-1:0]:u=l.getBoundingClientRect()}if(ke&&Ne<9&&!o&&(!u||!u.left&&!u.right)){let m=l.parentNode.getClientRects()[0];m?u={left:m.left,right:m.left+ii(e.display),top:m.top,bottom:m.bottom}:u=Uu}let d=u.top-t.rect.top,c=u.bottom-t.rect.top,g=(d+c)/2,b=t.view.measure.heights,x=0;for(;x<b.length-1&&!(g<b[x]);x++);let A=x?b[x-1]:0,w=b[x],y={left:(a=="right"?u.right:u.left)-t.rect.left,right:(a=="left"?u.left:u.right)-t.rect.left,top:A,bottom:w};return!u.left&&!u.right&&(y.bogus=!0),e.options.singleCursorHeightPerLine||(y.rtop=d,y.rbottom=c),y}function lh(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!wc(e))return t;let r=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*i,bottom:t.bottom*i}}function qu(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(let t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ku(e){e.display.externalMeasure=null,Vt(e.display.lineMeasure);for(let t=0;t<e.display.view.length;t++)qu(e.display.view[t])}function Gi(e){Ku(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Xu(){return Gn&&Kn?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ju(){return Gn&&Kn?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function jo(e){let t=0;if(e.widgets)for(let r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Ui(e.widgets[r]));return t}function rl(e,t,r,i,n){if(!n){let o=jo(t);r.top+=o,r.bottom+=o}if(i=="line")return r;i||(i="local");let l=zt(t);if(i=="local"?l+=tl(e.display):l-=e.display.viewOffset,i=="page"||i=="window"){let o=e.display.lineSpace.getBoundingClientRect();l+=o.top+(i=="window"?0:Ju());let s=o.left+(i=="window"?0:Xu());r.left+=s,r.right+=s}return r.top+=l,r.bottom+=l,r}function ha(e,t,r){if(r=="div")return t;let i=t.left,n=t.top;if(r=="page")i-=Xu(),n-=Ju();else if(r=="local"||!r){let o=e.display.sizer.getBoundingClientRect();i+=o.left,n+=o.top}let l=e.display.lineSpace.getBoundingClientRect();return{left:i-l.left,top:n-l.top}}function no(e,t,r,i,n){return i||(i=pe(e.doc,t.line)),rl(e,i,ju(e,i,t.ch,n),r)}function vt(e,t,r,i,n,l){i=i||pe(e.doc,t.line),n||(n=ri(e,i));function o(x,A){let w=It(e,n,x,A?"right":"left",l);return A?w.left=w.right:w.right=w.left,rl(e,i,w,r)}let s=Gt(i,e.doc.direction),a=t.ch,u=t.sticky;if(a>=i.text.length?(a=i.text.length,u="before"):a<=0&&(a=0,u="after"),!s)return o(u=="before"?a-1:a,u=="before");function d(x,A,w){let y=s[A],m=y.level==1;return o(w?x-1:x,m!=w)}let c=$i(s,a,u),g=bi,b=d(a,c,u=="before");return g!=null&&(b.other=d(a,g,u!="before")),b}function pa(e,t){let r=0;t=we(e.doc,t),e.options.lineWrapping||(r=ii(e.display)*t.ch);let i=pe(e.doc,t.line),n=zt(i)+tl(e.display);return{left:r,right:r,top:n,bottom:n+i.height}}function lo(e,t,r,i,n){let l=K(e,t,r);return l.xRel=n,i&&(l.outside=i),l}function Uo(e,t,r){let i=e.doc;if(r+=e.display.viewOffset,r<0)return lo(i.first,0,null,-1,-1);let n=hr(i,r),l=i.first+i.size-1;if(n>l)return lo(i.first+i.size-1,pe(i,l).text.length,null,1,1);t<0&&(t=0);let o=pe(i,n);for(;;){let s=oh(e,o,n,t,r),a=Ic(o,s.ch+(s.xRel>0||s.outside>0?1:0));if(!a)return s;let u=a.find(1);if(u.line==n)return u;o=pe(i,n=u.line)}}function Yu(e,t,r,i){i-=jo(t);let n=t.text.length,l=Wi(o=>It(e,r,o-1).bottom<=i,n,0);return n=Wi(o=>It(e,r,o).top>i,l,n),{begin:l,end:n}}function Vu(e,t,r,i){r||(r=ri(e,t));let n=rl(e,t,It(e,r,i),"line").top;return Yu(e,t,r,n)}function oo(e,t,r,i){return e.bottom<=r?!1:e.top>r?!0:(i?e.left:e.right)>t}function oh(e,t,r,i,n){n-=zt(t);let l=ri(e,t),o=jo(t),s=0,a=t.text.length,u=!0,d=Gt(t,e.doc.direction);if(d){let y=(e.options.lineWrapping?ah:sh)(e,t,r,l,d,i,n);u=y.level!=1,s=u?y.from:y.to-1,a=u?y.to:y.from-1}let c=null,g=null,b=Wi(y=>{let m=It(e,l,y);return m.top+=o,m.bottom+=o,oo(m,i,n,!1)?(m.top<=n&&m.left<=i&&(c=y,g=m),!0):!1},s,a),x,A,w=!1;if(g){let y=i-g.left<g.right-i,m=y==u;b=c+(m?0:1),A=m?"after":"before",x=y?g.left:g.right}else{!u&&(b==a||b==s)&&b++,A=b==0?"after":b==t.text.length?"before":It(e,l,b-(u?1:0)).bottom+o<=n==u?"after":"before";let y=vt(e,K(r,b,A),"line",t,l);x=y.left,w=n<y.top?-1:n>=y.bottom?1:0}return b=wu(t.text,b,1),lo(r,b,A,w,i-x)}function sh(e,t,r,i,n,l,o){let s=Wi(u=>{let d=n[u],c=d.level!=1;return oo(vt(e,K(r,c?d.to:d.from,c?"before":"after"),"line",t,i),l,o,!0)},0,n.length-1),a=n[s];if(s>0){let u=a.level!=1,d=vt(e,K(r,u?a.from:a.to,u?"after":"before"),"line",t,i);oo(d,l,o,!0)&&d.top>o&&(a=n[s-1])}return a}function ah(e,t,r,i,n,l,o){let{begin:s,end:a}=Yu(e,t,i,o);/\s/.test(t.text.charAt(a-1))&&a--;let u=null,d=null;for(let c=0;c<n.length;c++){let g=n[c];if(g.from>=a||g.to<=s)continue;let b=g.level!=1,x=It(e,i,b?Math.min(a,g.to)-1:Math.max(s,g.from)).right,A=x<l?l-x+1e9:x-l;(!u||d>A)&&(u=g,d=A)}return u||(u=n[n.length-1]),u.from<s&&(u={from:s,to:u.to,level:u.level}),u.to>a&&(u={from:u.from,to:a,level:u.level}),u}var dr;function Yr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(dr==null){dr=ge("pre",null,"CodeMirror-line-like");for(let r=0;r<49;++r)dr.appendChild(document.createTextNode("x")),dr.appendChild(ge("br"));dr.appendChild(document.createTextNode("x"))}at(e.measure,dr);let t=dr.offsetHeight/50;return t>3&&(e.cachedTextHeight=t),Vt(e.measure),t||1}function ii(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;let t=ge("span","xxxxxxxxxx"),r=ge("pre",[t],"CodeMirror-line-like");at(e.measure,r);let i=t.getBoundingClientRect(),n=(i.right-i.left)/10;return n>2&&(e.cachedCharWidth=n),n||10}function Go(e){let t=e.display,r={},i={},n=t.gutters.clientLeft;for(let l=t.gutters.firstChild,o=0;l;l=l.nextSibling,++o){let s=e.display.gutterSpecs[o].className;r[s]=l.offsetLeft+l.clientLeft+n,i[s]=l.clientWidth}return{fixedPos:qo(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function qo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Zu(e){let t=Yr(e.display),r=e.options.lineWrapping,i=r&&Math.max(5,e.display.scroller.clientWidth/ii(e.display)-3);return n=>{if(Qt(e.doc,n))return 0;let l=0;if(n.widgets)for(let o=0;o<n.widgets.length;o++)n.widgets[o].height&&(l+=n.widgets[o].height);return r?l+(Math.ceil(n.text.length/i)||1)*t:l+t}}function Ko(e){let t=e.doc,r=Zu(e);t.iter(i=>{let n=r(i);n!=i.height&&Rt(i,n)})}function xr(e,t,r,i){let n=e.display;if(!r&&Ao(t).getAttribute("cm-not-content")=="true")return null;let l,o,s=n.lineSpace.getBoundingClientRect();try{l=t.clientX-s.left,o=t.clientY-s.top}catch{return null}let a=Uo(e,l,o),u;if(i&&a.xRel>0&&(u=pe(e.doc,a.line).text).length==a.ch){let d=ct(u,u.length,e.options.tabSize)-u.length;a=K(a.line,Math.max(0,Math.round((l-Bu(e.display).left)/ii(e.display))-d))}return a}function _r(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;let r=e.display.view;for(let i=0;i<r.length;i++)if(t-=r[i].size,t<0)return i}function et(e,t,r,i){t==null&&(t=e.doc.first),r==null&&(r=e.doc.first+e.doc.size),i||(i=0);let n=e.display;if(i&&r<n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>t)&&(n.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=n.viewTo)Bt&&Wo(e.doc,t)<n.viewTo&&Kt(e);else if(r<=n.viewFrom)Bt&&Iu(e.doc,r+i)>n.viewFrom?Kt(e):(n.viewFrom+=i,n.viewTo+=i);else if(t<=n.viewFrom&&r>=n.viewTo)Kt(e);else if(t<=n.viewFrom){let o=cn(e,r,r+i,1);o?(n.view=n.view.slice(o.index),n.viewFrom=o.lineN,n.viewTo+=i):Kt(e)}else if(r>=n.viewTo){let o=cn(e,t,t,-1);o?(n.view=n.view.slice(0,o.index),n.viewTo=o.lineN):Kt(e)}else{let o=cn(e,t,t,-1),s=cn(e,r,r+i,1);o&&s?(n.view=n.view.slice(0,o.index).concat(Sn(e,o.lineN,s.lineN)).concat(n.view.slice(s.index)),n.viewTo+=i):Kt(e)}let l=n.externalMeasured;l&&(r<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(n.externalMeasured=null))}function lr(e,t,r){e.curOp.viewChanged=!0;let i=e.display,n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size&&(i.externalMeasured=null),t<i.viewFrom||t>=i.viewTo)return;let l=i.view[_r(e,t)];if(l.node==null)return;let o=l.changes||(l.changes=[]);Ue(o,r)==-1&&o.push(r)}function Kt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function cn(e,t,r,i){let n=_r(e,t),l,o=e.display.view;if(!Bt||r==e.doc.first+e.doc.size)return{index:n,lineN:r};let s=e.display.viewFrom;for(let a=0;a<n;a++)s+=o[a].size;if(s!=t){if(i>0){if(n==o.length-1)return null;l=s+o[n].size-t,n++}else l=s-t;t+=l,r+=l}for(;Wo(e.doc,r)!=r;){if(n==(i<0?0:o.length-1))return null;r+=i*o[n-(i<0?1:0)].size,n+=i}return{index:n,lineN:r}}function uh(e,t,r){let i=e.display;i.view.length==0||t>=i.viewTo||r<=i.viewFrom?(i.view=Sn(e,t,r),i.viewFrom=t):(i.viewFrom>t?i.view=Sn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(_r(e,t))),i.viewFrom=t,i.viewTo<r?i.view=i.view.concat(Sn(e,i.viewTo,r)):i.viewTo>r&&(i.view=i.view.slice(0,_r(e,r)))),i.viewTo=r}function ga(e){let t=e.display.view,r=0;for(let i=0;i<t.length;i++){let n=t[i];!n.hidden&&(!n.node||n.changes)&&++r}return r}function ki(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Qu(e,t=!0){let r=e.doc,i={},n=i.cursors=document.createDocumentFragment(),l=i.selection=document.createDocumentFragment();for(let o=0;o<r.sel.ranges.length;o++){if(!t&&o==r.sel.primIndex)continue;let s=r.sel.ranges[o];if(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)continue;let a=s.empty();(a||e.options.showCursorWhenSelecting)&&ef(e,s.head,n),a||fh(e,s,l)}return i}function ef(e,t,r){let i=vt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),n=r.appendChild(ge("div"," ","CodeMirror-cursor"));if(n.style.left=i.left+"px",n.style.top=i.top+"px",n.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){let l=r.appendChild(ge("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=(i.other.bottom-i.other.top)*.85+"px"}}function hn(e,t){return e.top-t.top||e.left-t.left}function fh(e,t,r){let i=e.display,n=e.doc,l=document.createDocumentFragment(),o=Bu(e.display),s=o.left,a=Math.max(i.sizerWidth,Tr(e)-i.sizer.offsetLeft)-o.right,u=n.direction=="ltr";function d(x,A,w,y){A<0&&(A=0),A=Math.round(A),y=Math.round(y),l.appendChild(ge("div",null,"CodeMirror-selected",`position: absolute; left: ${x}px;
                             top: ${A}px; width: ${w??a-x}px;
                             height: ${y-A}px`))}function c(x,A,w){let y=pe(n,x),m=y.text.length,C,P;function $(Z,_){return no(e,K(x,Z),"div",y,_)}function ne(Z,_,T){let h=Vu(e,y,null,Z),W=_=="ltr"==(T=="after")?"left":"right",M=T=="after"?h.begin:h.end-(/\s/.test(y.text.charAt(h.end-1))?2:1);return $(M,W)[W]}let ae=Gt(y,n.direction);return cc(ae,A||0,w??m,(Z,_,T,h)=>{let W=T=="ltr",M=$(Z,W?"left":"right"),X=$(_-1,W?"right":"left"),le=A==null&&Z==0,fe=w==null&&_==m,ye=h==0,U=!ae||h==ae.length-1;if(X.top-M.top<=3){let ie=(u?le:fe)&&ye,L=(u?fe:le)&&U,B=ie?s:(W?M:X).left,j=L?a:(W?X:M).right;d(B,M.top,j-B,M.bottom)}else{let ie,L,B,j;W?(ie=u&&le&&ye?s:M.left,L=u?a:ne(Z,T,"before"),B=u?s:ne(_,T,"after"),j=u&&fe&&U?a:X.right):(ie=u?ne(Z,T,"before"):s,L=!u&&le&&ye?a:M.right,B=!u&&fe&&U?s:X.left,j=u?ne(_,T,"after"):a),d(ie,M.top,L-ie,M.bottom),M.bottom<X.top&&d(s,M.bottom,null,X.top),d(B,X.top,j-B,X.bottom)}(!C||hn(M,C)<0)&&(C=M),hn(X,C)<0&&(C=X),(!P||hn(M,P)<0)&&(P=M),hn(X,P)<0&&(P=X)}),{start:C,end:P}}let g=t.from(),b=t.to();if(g.line==b.line)c(g.line,g.ch,b.ch);else{let x=pe(n,g.line),A=pe(n,b.line),w=Nt(x)==Nt(A),y=c(g.line,g.ch,w?x.text.length+1:null).end,m=c(b.line,w?0:null,b.ch).start;w&&(y.top<m.top-2?(d(y.right,y.top,null,y.bottom),d(s,m.top,m.left,m.bottom)):d(y.right,y.top,m.left-y.right,y.bottom)),y.bottom<m.top&&d(s,y.bottom,null,m.top)}r.appendChild(l)}function Xo(e){if(!e.state.focused)return;let t=e.display;clearInterval(t.blinker);let r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(()=>{e.hasFocus()||ni(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}function tf(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Yo(e))}function Jo(e){e.state.delayingBlurEvent=!0,setTimeout(()=>{e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ni(e))},100)}function Yo(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(We(e,"focus",e,t),e.state.focused=!0,Er(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),Xe&&setTimeout(()=>e.display.input.reset(!0),20)),e.display.input.receivedFocus()),Xo(e))}function ni(e,t){e.state.delayingBlurEvent||(e.state.focused&&(We(e,"blur",e,t),e.state.focused=!1,kr(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(()=>{e.state.focused||(e.display.shift=!1)},150))}function il(e){let t=e.display,r=t.lineDiv.offsetTop;for(let i=0;i<t.view.length;i++){let n=t.view[i],l=e.options.lineWrapping,o,s=0;if(n.hidden)continue;if(ke&&Ne<8){let u=n.node.offsetTop+n.node.offsetHeight;o=u-r,r=u}else{let u=n.node.getBoundingClientRect();o=u.bottom-u.top,!l&&n.text.firstChild&&(s=n.text.firstChild.getBoundingClientRect().right-u.left-1)}let a=n.line.height-o;if((a>.005||a<-.005)&&(Rt(n.line,o),ba(n.line),n.rest))for(let u=0;u<n.rest.length;u++)ba(n.rest[u]);if(s>e.display.sizerWidth){let u=Math.ceil(s/ii(e.display));u>e.display.maxLineLength&&(e.display.maxLineLength=u,e.display.maxLine=n.line,e.display.maxLineChanged=!0)}}}function ba(e){if(e.widgets)for(let t=0;t<e.widgets.length;++t){let r=e.widgets[t],i=r.node.parentNode;i&&(r.height=i.offsetHeight)}}function On(e,t,r){let i=r&&r.top!=null?Math.max(0,r.top):e.scroller.scrollTop;i=Math.floor(i-tl(e));let n=r&&r.bottom!=null?r.bottom:i+e.wrapper.clientHeight,l=hr(t,i),o=hr(t,n);if(r&&r.ensure){let s=r.ensure.from.line,a=r.ensure.to.line;s<l?(l=s,o=hr(t,zt(pe(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=o&&(l=hr(t,zt(pe(t,a))-e.wrapper.clientHeight),o=a)}return{from:l,to:Math.max(o,l+1)}}function dh(e,t){if(Fe(e,"scrollCursorIntoView"))return;let r=e.display,i=r.sizer.getBoundingClientRect(),n=null;if(t.top+i.top<0?n=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),n!=null&&!oc){let l=ge("div","​",null,`position: absolute;
                         top: ${t.top-r.viewOffset-tl(e.display)}px;
                         height: ${t.bottom-t.top+Ot(e)+r.barHeight}px;
                         left: ${t.left}px; width: ${Math.max(2,t.right-t.left)}px;`);e.display.lineSpace.appendChild(l),l.scrollIntoView(n),e.display.lineSpace.removeChild(l)}}function ch(e,t,r,i){i==null&&(i=0);let n;!e.options.lineWrapping&&t==r&&(t=t.ch?K(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t,r=t.sticky=="before"?K(t.line,t.ch+1,"before"):t);for(let l=0;l<5;l++){let o=!1,s=vt(e,t),a=!r||r==t?s:vt(e,r);n={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-i,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+i};let u=Vo(e,n),d=e.doc.scrollTop,c=e.doc.scrollLeft;if(u.scrollTop!=null&&(en(e,u.scrollTop),Math.abs(e.doc.scrollTop-d)>1&&(o=!0)),u.scrollLeft!=null&&(Ar(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return n}function hh(e,t){let r=Vo(e,t);r.scrollTop!=null&&en(e,r.scrollTop),r.scrollLeft!=null&&Ar(e,r.scrollLeft)}function Vo(e,t){let r=e.display,i=Yr(e.display);t.top<0&&(t.top=0);let n=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:r.scroller.scrollTop,l=Bo(e),o={};t.bottom-t.top>l&&(t.bottom=t.top+l);let s=e.doc.height+Ho(r),a=t.top<i,u=t.bottom>s-i;if(t.top<n)o.scrollTop=a?0:t.top;else if(t.bottom>n+l){let x=Math.min(t.top,(u?s:t.bottom)-l);x!=n&&(o.scrollTop=x)}let d=e.options.fixedGutter?0:r.gutters.offsetWidth,c=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:r.scroller.scrollLeft-d,g=Tr(e)-r.gutters.offsetWidth,b=t.right-t.left>g;return b&&(t.right=t.left+g),t.left<10?o.scrollLeft=0:t.left<c?o.scrollLeft=Math.max(0,t.left+d-(b?0:10)):t.right>g+c-3&&(o.scrollLeft=t.right+(b?0:10)-g),o}function Zo(e,t){t!=null&&(nl(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function li(e){nl(e);let t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ei(e,t,r){(t!=null||r!=null)&&nl(e),t!=null&&(e.curOp.scrollLeft=t),r!=null&&(e.curOp.scrollTop=r)}function ph(e,t){nl(e),e.curOp.scrollToPos=t}function nl(e){let t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;let r=pa(e,t.from),i=pa(e,t.to);rf(e,r,i,t.margin)}}function rf(e,t,r,i){let n=Vo(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-i,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+i});Ei(e,n.scrollLeft,n.scrollTop)}function en(e,t){Math.abs(e.doc.scrollTop-t)<2||(Ht||so(e,{top:t}),nf(e,t,!0),Ht&&so(e),tn(e,100))}function nf(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ar(e,t,r,i){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!i)&&(e.doc.scrollLeft=t,uf(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function qi(e){let t=e.display,r=t.gutters.offsetWidth,i=Math.round(e.doc.height+Ho(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:i,scrollHeight:i+Ot(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var gh=class{constructor(e,t,r){this.cm=r;let i=this.vert=ge("div",[ge("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n=this.horiz=ge("div",[ge("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=n.tabIndex=-1,e(i),e(n),be(i,"scroll",()=>{i.clientHeight&&t(i.scrollTop,"vertical")}),be(n,"scroll",()=>{n.clientWidth&&t(n.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ke&&Ne<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}update(e){let t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";let n=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+n)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?i+"px":"0",this.horiz.style.left=e.barLeft+"px";let n=e.viewWidth-e.barLeft-(r?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+n)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(i==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?i:0,bottom:t?i:0}}setScrollLeft(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")}setScrollTop(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")}zeroWidthHack(){let e=pt&&!lc?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Jr,this.disableVert=new Jr}enableZeroWidthBar(e,t,r){e.style.pointerEvents="auto";function i(){let n=e.getBoundingClientRect();(r=="vert"?document.elementFromPoint(n.right-1,(n.top+n.bottom)/2):document.elementFromPoint((n.right+n.left)/2,n.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,i)}t.set(1e3,i)}clear(){let e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},bh=class{update(){return{bottom:0,right:0}}setScrollLeft(){}setScrollTop(){}clear(){}};function Vr(e,t){t||(t=qi(e));let r=e.display.barWidth,i=e.display.barHeight;ya(e,t);for(let n=0;n<4&&r!=e.display.barWidth||i!=e.display.barHeight;n++)r!=e.display.barWidth&&e.options.lineWrapping&&il(e),ya(e,qi(e)),r=e.display.barWidth,i=e.display.barHeight}function ya(e,t){let r=e.display,i=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=i.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=i.bottom)+"px",r.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=i.bottom+"px",r.scrollbarFiller.style.width=i.right+"px"):r.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=i.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}var lf={native:gh,null:bh};function of(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&kr(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new lf[e.options.scrollbarStyle](t=>{e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),be(t,"mousedown",()=>{e.state.focused&&setTimeout(()=>e.display.input.focus(),0)}),t.setAttribute("cm-not-content","true")},(t,r)=>{r=="horizontal"?Ar(e,t):en(e,t)},e),e.display.scrollbars.addClass&&Er(e.display.wrapper,e.display.scrollbars.addClass)}var yh=0;function Lr(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++yh},qc(e.curOp)}function Mr(e){let t=e.curOp;t&&Xc(t,r=>{for(let i=0;i<r.ops.length;i++)r.ops[i].cm.curOp=null;mh(r)})}function mh(e){let t=e.ops;for(let r=0;r<t.length;r++)wh(t[r]);for(let r=0;r<t.length;r++)vh(t[r]);for(let r=0;r<t.length;r++)Sh(t[r]);for(let r=0;r<t.length;r++)xh(t[r]);for(let r=0;r<t.length;r++)_h(t[r])}function wh(e){let t=e.cm,r=t.display;kh(t),e.updateMaxLine&&$o(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new sf(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function vh(e){e.updatedDisplay=e.mustUpdate&&Qo(e.cm,e.update)}function Sh(e){let t=e.cm,r=t.display;e.updatedDisplay&&il(t),e.barMeasure=qi(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=ju(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Ot(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Tr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function xh(e){let t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ar(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);let r=e.focus&&e.focus==ht();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Vr(t,e.barMeasure),e.updatedDisplay&&ts(t,e.barMeasure),e.selectionChanged&&Xo(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&tf(e.cm)}function _h(e){let t=e.cm,r=t.display,i=t.doc;if(e.updatedDisplay&&af(t,e.update),r.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(r.wheelStartX=r.wheelStartY=null),e.scrollTop!=null&&nf(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Ar(t,e.scrollLeft,!0,!0),e.scrollToPos){let o=ch(t,we(i,e.scrollToPos.from),we(i,e.scrollToPos.to),e.scrollToPos.margin);dh(t,o)}let n=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(n)for(let o=0;o<n.length;++o)n[o].lines.length||We(n[o],"hide");if(l)for(let o=0;o<l.length;++o)l[o].lines.length&&We(l[o],"unhide");r.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&We(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function nt(e,t){if(e.curOp)return t();Lr(e);try{return t()}finally{Mr(e)}}function He(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Lr(e);try{return t.apply(e,arguments)}finally{Mr(e)}}}function Ke(e){return function(){if(this.curOp)return e.apply(this,arguments);Lr(this);try{return e.apply(this,arguments)}finally{Mr(this)}}}function $e(e){return function(){let t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Lr(t);try{return e.apply(this,arguments)}finally{Mr(t)}}}function tn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,ko(Ch,e))}function Ch(e){let t=e.doc;if(t.highlightFrontier>=e.display.viewTo)return;let r=+new Date+e.options.workTime,i=Qi(e,t.highlightFrontier),n=[];t.iter(i.line,Math.min(t.first+t.size,e.display.viewTo+500),l=>{if(i.line>=e.display.viewFrom){let o=l.styles,s=l.text.length>e.options.maxHighlightLength?br(t.mode,i.state):null,a=Eu(e,l,i,!0);s&&(i.state=s),l.styles=a.styles;let u=l.styleClasses,d=a.classes;d?l.styleClasses=d:u&&(l.styleClasses=null);let c=!o||o.length!=l.styles.length||u!=d&&(!u||!d||u.bgClass!=d.bgClass||u.textClass!=d.textClass);for(let g=0;!c&&g<o.length;++g)c=o[g]!=l.styles[g];c&&n.push(i.line),l.stateAfter=i.save(),i.nextLine()}else l.text.length<=e.options.maxHighlightLength&&Io(e,l.text,i),l.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>r)return tn(e,e.options.workDelay),!0}),t.highlightFrontier=i.line,t.modeFrontier=Math.max(t.modeFrontier,i.line),n.length&&nt(e,()=>{for(let l=0;l<n.length;l++)lr(e,n[l],"text")})}var sf=class{constructor(e,t,r){let i=e.display;this.viewport=t,this.visible=On(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Tr(e),this.force=r,this.dims=Go(e),this.events=[]}signal(e,t){gt(e,t)&&this.events.push(arguments)}finish(){for(let e=0;e<this.events.length;e++)We.apply(null,this.events[e])}};function kh(e){let t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ot(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ot(e)+"px",t.scrollbarsClipped=!0)}function Eh(e){if(e.hasFocus())return null;let t=ht();if(!t||!Zt(e.display.lineDiv,t))return null;let r={activeElt:t};if(window.getSelection){let i=window.getSelection();i.anchorNode&&i.extend&&Zt(e.display.lineDiv,i.anchorNode)&&(r.anchorNode=i.anchorNode,r.anchorOffset=i.anchorOffset,r.focusNode=i.focusNode,r.focusOffset=i.focusOffset)}return r}function Th(e){if(!(!e||!e.activeElt||e.activeElt==ht())&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&Zt(document.body,e.anchorNode)&&Zt(document.body,e.focusNode))){let t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Qo(e,t){let r=e.display,i=e.doc;if(t.editorIsHidden)return Kt(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&ga(e)==0)return!1;ff(e)&&(Kt(e),t.dims=Go(e));let n=i.first+i.size,l=Math.max(t.visible.from-e.options.viewportMargin,i.first),o=Math.min(n,t.visible.to+e.options.viewportMargin);r.viewFrom<l&&l-r.viewFrom<20&&(l=Math.max(i.first,r.viewFrom)),r.viewTo>o&&r.viewTo-o<20&&(o=Math.min(n,r.viewTo)),Bt&&(l=Wo(e.doc,l),o=Iu(e.doc,o));let s=l!=r.viewFrom||o!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;uh(e,l,o),r.viewOffset=zt(pe(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";let a=ga(e);if(!s&&a==0&&!t.force&&r.renderedView==r.view&&(r.updateLineNumbers==null||r.updateLineNumbers>=r.viewTo))return!1;let u=Eh(e);return a>4&&(r.lineDiv.style.display="none"),Ah(e,r.updateLineNumbers,t.dims),a>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,Th(u),Vt(r.cursorDiv),Vt(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,tn(e,400)),r.updateLineNumbers=null,!0}function af(e,t){let r=t.viewport;for(let i=!0;;i=!1){if(!i||!e.options.lineWrapping||t.oldDisplayWidth==Tr(e)){if(r&&r.top!=null&&(r={top:Math.min(e.doc.height+Ho(e.display)-Bo(e),r.top)}),t.visible=On(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else i&&(t.visible=On(e.display,e.doc,r));if(!Qo(e,t))break;il(e);let n=qi(e);ki(e),Vr(e,n),ts(e,n),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function so(e,t){let r=new sf(e,t);if(Qo(e,r)){il(e),af(e,r);let i=qi(e);ki(e),Vr(e,i),ts(e,i),r.finish()}}function Ah(e,t,r){let i=e.display,n=e.options.lineNumbers,l=i.lineDiv,o=l.firstChild;function s(d){let c=d.nextSibling;return Xe&&pt&&e.display.currentWheelTarget==d?d.style.display="none":d.parentNode.removeChild(d),c}let a=i.view,u=i.viewFrom;for(let d=0;d<a.length;d++){let c=a[d];if(!c.hidden)if(!c.node||c.node.parentNode!=l){let g=Qc(e,c,u,r);l.insertBefore(g,o)}else{for(;o!=c.node;)o=s(o);let g=n&&t!=null&&t<=u&&c.lineNumber;c.changes&&(Ue(c.changes,"gutter")>-1&&(g=!1),Wu(e,c,u,r)),g&&(Vt(c.lineNumber),c.lineNumber.appendChild(document.createTextNode(Oo(e.options,u)))),o=c.node.nextSibling}u+=c.size}for(;o;)o=s(o)}function es(e){let t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Be(e,"gutterChanged",e)}function ts(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Ot(e)+"px"}function uf(e){let t=e.display,r=t.view;if(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))return;let i=qo(t)-t.scroller.scrollLeft+e.doc.scrollLeft,n=t.gutters.offsetWidth,l=i+"px";for(let o=0;o<r.length;o++)if(!r[o].hidden){e.options.fixedGutter&&(r[o].gutter&&(r[o].gutter.style.left=l),r[o].gutterBackground&&(r[o].gutterBackground.style.left=l));let s=r[o].alignable;if(s)for(let a=0;a<s.length;a++)s[a].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=i+n+"px")}function ff(e){if(!e.options.lineNumbers)return!1;let t=e.doc,r=Oo(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){let n=i.measure.appendChild(ge("div",[ge("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=n.firstChild.offsetWidth,o=n.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-o)+1,i.lineNumWidth=i.lineNumInnerWidth+o,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",es(e.display),!0}return!1}function ao(e,t){let r=[],i=!1;for(let n=0;n<e.length;n++){let l=e[n],o=null;if(typeof l!="string"&&(o=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)i=!0;else continue;r.push({className:l,style:o})}return t&&!i&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function df(e){let t=e.gutters,r=e.gutterSpecs;Vt(t),e.lineGutter=null;for(let i=0;i<r.length;++i){let{className:n,style:l}=r[i],o=t.appendChild(ge("div",null,"CodeMirror-gutter "+n));l&&(o.style.cssText=l),n=="CodeMirror-linenumbers"&&(e.lineGutter=o,o.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",es(e)}function hi(e){df(e.display),et(e),uf(e)}function Lh(e,t,r,i){let n=this;this.input=r,n.scrollbarFiller=ge("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=ge("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=zr("div",null,"CodeMirror-code"),n.selectionDiv=ge("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=ge("div",null,"CodeMirror-cursors"),n.measure=ge("div",null,"CodeMirror-measure"),n.lineMeasure=ge("div",null,"CodeMirror-measure"),n.lineSpace=zr("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none");let l=zr("div",[n.lineSpace],"CodeMirror-lines");n.mover=ge("div",[l],null,"position: relative"),n.sizer=ge("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=ge("div",null,null,"position: absolute; height: "+yu+"px; width: 1px;"),n.gutters=ge("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=ge("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=ge("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),ke&&Ne<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),!Xe&&!(Ht&&Di)&&(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,n.gutterSpecs=ao(i.gutters,i.lineNumbers),df(n),r.init(n)}var pn=0,ot=null;ke?ot=-.53:Ht?ot=15:Gn?ot=-.7:qn&&(ot=-1/3);function cf(e){let t=e.wheelDeltaX,r=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),r==null&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:r==null&&(r=e.wheelDelta),{x:t,y:r}}function Mh(e){let t=cf(e);return t.x*=ot,t.y*=ot,t}function ma(e,t){let r=cf(t),i=r.x,n=r.y,l=e.display,o=l.scroller,s=o.scrollWidth>o.clientWidth,a=o.scrollHeight>o.clientHeight;if(i&&s||n&&a){if(n&&pt&&Xe){e:for(let u=t.target,d=l.view;u!=o;u=u.parentNode)for(let c=0;c<d.length;c++)if(d[c].node==u){e.display.currentWheelTarget=u;break e}}if(i&&!Ht&&!xt&&ot!=null){n&&a&&en(e,Math.max(0,o.scrollTop+n*ot)),Ar(e,Math.max(0,o.scrollLeft+i*ot)),(!n||n&&a)&&Qe(t),l.wheelStartX=null;return}if(n&&ot!=null){let u=n*ot,d=e.doc.scrollTop,c=d+l.wrapper.clientHeight;u<0?d=Math.max(0,d+u-50):c=Math.min(e.doc.height,c+u+50),so(e,{top:d,bottom:c})}pn<20&&(l.wheelStartX==null?(l.wheelStartX=o.scrollLeft,l.wheelStartY=o.scrollTop,l.wheelDX=i,l.wheelDY=n,setTimeout(()=>{if(l.wheelStartX==null)return;let u=o.scrollLeft-l.wheelStartX,d=o.scrollTop-l.wheelStartY,c=d&&l.wheelDY&&d/l.wheelDY||u&&l.wheelDX&&u/l.wheelDX;l.wheelStartX=l.wheelStartY=null,c&&(ot=(ot*pn+c)/(pn+1),++pn)},200)):(l.wheelDX+=i,l.wheelDY+=n))}}var or=class{constructor(e,t){this.ranges=e,this.primIndex=t}primary(){return this.ranges[this.primIndex]}equals(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(let t=0;t<this.ranges.length;t++){let r=this.ranges[t],i=e.ranges[t];if(!eo(r.anchor,i.anchor)||!eo(r.head,i.head))return!1}return!0}deepCopy(){let e=[];for(let t=0;t<this.ranges.length;t++)e[t]=new Me(to(this.ranges[t].anchor),to(this.ranges[t].head));return new or(e,this.primIndex)}somethingSelected(){for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1}contains(e,t){t||(t=e);for(let r=0;r<this.ranges.length;r++){let i=this.ranges[r];if(ve(t,i.from())>=0&&ve(e,i.to())<=0)return r}return-1}},Me=class{constructor(e,t){this.anchor=e,this.head=t}from(){return Zn(this.anchor,this.head)}to(){return Vn(this.anchor,this.head)}empty(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};function St(e,t,r){let i=e&&e.options.selectionsMayTouch,n=t[r];t.sort((l,o)=>ve(l.from(),o.from())),r=Ue(t,n);for(let l=1;l<t.length;l++){let o=t[l],s=t[l-1],a=ve(s.to(),o.from());if(i&&!o.empty()?a>0:a>=0){let u=Zn(s.from(),o.from()),d=Vn(s.to(),o.to()),c=s.empty()?o.from()==o.head:s.from()==s.head;l<=r&&--r,t.splice(--l,2,new Me(c?d:u,c?u:d))}}return new or(t,r)}function er(e,t){return new or([new Me(e,t||e)],0)}function tr(e){return e.text?K(e.from.line+e.text.length-1,Te(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function wa(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return tr(t);let r=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=tr(t).ch-t.to.ch),K(r,i)}function rs(e,t){let r=[];for(let i=0;i<e.sel.ranges.length;i++){let n=e.sel.ranges[i];r.push(new Me(wa(n.anchor,t),wa(n.head,t)))}return St(e.cm,r,e.sel.primIndex)}function va(e,t,r){return e.line==t.line?K(r.line,e.ch-t.ch+r.ch):K(r.line+(e.line-t.line),e.ch)}function Rh(e,t,r){let i=[],n=K(e.first,0),l=n;for(let o=0;o<t.length;o++){let s=t[o],a=va(s.from,n,l),u=va(tr(s),n,l);if(n=s.to,l=u,r=="around"){let d=e.sel.ranges[o],c=ve(d.head,d.anchor)<0;i[o]=new Me(c?u:a,c?a:u)}else i[o]=new Me(a,a)}return new or(i,e.sel.primIndex)}function uo(e){e.doc.mode=Ro(e.options,e.doc.modeOption),yi(e)}function yi(e){e.doc.iter(t=>{t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,tn(e,100),e.state.modeGen++,e.curOp&&et(e)}function hf(e,t){return t.from.ch==0&&t.to.ch==0&&Te(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function is(e,t,r,i){function n(A){return r?r[A]:null}function l(A,w,y){Wc(A,w,y,i),Be(A,"change",A,t)}function o(A,w){let y=[];for(let m=A;m<w;++m)y.push(new zi(u[m],n(m),i));return y}let s=t.from,a=t.to,u=t.text,d=pe(e,s.line),c=pe(e,a.line),g=Te(u),b=n(u.length-1),x=a.line-s.line;if(t.full)e.insert(0,o(0,u.length)),e.remove(u.length,e.size-u.length);else if(hf(e,t)){let A=o(0,u.length-1);l(c,c.text,b),x&&e.remove(s.line,x),A.length&&e.insert(s.line,A)}else if(d==c)if(u.length==1)l(d,d.text.slice(0,s.ch)+g+d.text.slice(a.ch),b);else{let A=o(1,u.length-1);A.push(new zi(g+d.text.slice(a.ch),b,i)),l(d,d.text.slice(0,s.ch)+u[0],n(0)),e.insert(s.line+1,A)}else if(u.length==1)l(d,d.text.slice(0,s.ch)+u[0]+c.text.slice(a.ch),n(0)),e.remove(s.line+1,x);else{l(d,d.text.slice(0,s.ch)+u[0],n(0)),l(c,g+c.text.slice(a.ch),b);let A=o(1,u.length-1);x>1&&e.remove(s.line+1,x-1),e.insert(s.line+1,A)}Be(e,"change",e,t)}function Yt(e,t,r){function i(n,l,o){if(n.linked)for(let s=0;s<n.linked.length;++s){let a=n.linked[s];if(a.doc==l)continue;let u=o&&a.sharedHist;r&&!u||(t(a.doc,u),i(a.doc,n,u))}}i(e,null,!0)}function pf(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ko(e),uo(e),gf(e),e.options.lineWrapping||$o(e),e.options.mode=t.modeOption,et(e)}function gf(e){(e.doc.direction=="rtl"?Er:kr)(e.display.lineDiv,"CodeMirror-rtl")}function Nh(e){nt(e,()=>{gf(e),et(e)})}function xn(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function fo(e,t){let r={from:to(t.from),to:tr(t),text:yr(e,t.from,t.to)};return Sa(e,r,t.from.line,t.to.line+1),Yt(e,i=>Sa(i,r,t.from.line,t.to.line+1),!0),r}function bf(e){for(;e.length&&Te(e).ranges;)e.pop()}function Oh(e,t){if(t)return bf(e.done),Te(e.done);if(e.done.length&&!Te(e.done).ranges)return Te(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),Te(e.done)}function yf(e,t,r,i){let n=e.history;n.undone.length=0;let l=+new Date,o,s;if((n.lastOp==i||n.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&n.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(o=Oh(n,n.lastOp==i)))s=Te(o.changes),ve(t.from,t.to)==0&&ve(t.from,s.to)==0?s.to=tr(t):o.changes.push(fo(e,t));else{let a=Te(n.done);for((!a||!a.ranges)&&In(e.sel,n.done),o={changes:[fo(e,t)],generation:n.generation},n.done.push(o);n.done.length>n.undoDepth;)n.done.shift(),n.done[0].ranges||n.done.shift()}n.done.push(r),n.generation=++n.maxGeneration,n.lastModTime=n.lastSelTime=l,n.lastOp=n.lastSelOp=i,n.lastOrigin=n.lastSelOrigin=t.origin,s||We(e,"historyAdded")}function Ih(e,t,r,i){let n=t.charAt(0);return n=="*"||n=="+"&&r.ranges.length==i.ranges.length&&r.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Dh(e,t,r,i){let n=e.history,l=i&&i.origin;r==n.lastSelOp||l&&n.lastSelOrigin==l&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==l||Ih(e,l,Te(n.done),t))?n.done[n.done.length-1]=t:In(t,n.done),n.lastSelTime=+new Date,n.lastSelOrigin=l,n.lastSelOp=r,i&&i.clearRedo!==!1&&bf(n.undone)}function In(e,t){let r=Te(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Sa(e,t,r,i){let n=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,i),o=>{o.markedSpans&&((n||(n=t["spans_"+e.id]={}))[l]=o.markedSpans),++l})}function Ph(e){if(!e)return null;let t;for(let r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Wh(e,t){let r=t["spans_"+e.id];if(!r)return null;let i=[];for(let n=0;n<t.text.length;++n)i.push(Ph(r[n]));return i}function xa(e,t){let r=Wh(e,t),i=ro(e,t);if(!r)return i;if(!i)return r;for(let n=0;n<r.length;++n){let l=r[n],o=i[n];if(l&&o)e:for(let s=0;s<o.length;++s){let a=o[s];for(let u=0;u<l.length;++u)if(l[u].marker==a.marker)continue e;l.push(a)}else o&&(r[n]=o)}return r}function Dr(e,t,r){let i=[];for(let l=0;l<e.length;++l){let o=e[l];if(o.ranges){i.push(r?or.prototype.deepCopy.call(o):o);continue}let s=o.changes,a=[];i.push({changes:a});for(let u=0;u<s.length;++u){let d=s[u],c;if(a.push({from:d.from,to:d.to,text:d.text}),t)for(var n in d)(c=n.match(/^spans_(\d+)$/))&&Ue(t,Number(c[1]))>-1&&(Te(a)[n]=d[n],delete d[n])}}return i}function ns(e,t,r,i){if(i){let n=e.anchor;if(r){let l=ve(t,n)<0;l!=ve(r,n)<0?(n=t,t=r):l!=ve(t,r)<0&&(t=r)}return new Me(n,t)}else return new Me(r||t,t)}function ll(e,t,r,i,n){n==null&&(n=e.cm&&(e.cm.display.shift||e.extend)),je(e,new or([ns(e.sel.primary(),t,r,n)],0),i)}function _a(e,t,r){let i=[],n=e.cm&&(e.cm.display.shift||e.extend);for(let o=0;o<e.sel.ranges.length;o++)i[o]=ns(e.sel.ranges[o],t[o],null,n);let l=St(e.cm,i,e.sel.primIndex);je(e,l,r)}function ls(e,t,r,i){let n=e.sel.ranges.slice(0);n[t]=r,je(e,St(e.cm,n,e.sel.primIndex),i)}function Ca(e,t,r,i){je(e,er(t,r),i)}function $h(e,t,r){let i={ranges:t.ranges,update:function(n){this.ranges=[];for(let l=0;l<n.length;l++)this.ranges[l]=new Me(we(e,n[l].anchor),we(e,n[l].head))},origin:r&&r.origin};return We(e,"beforeSelectionChange",e,i),e.cm&&We(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=t.ranges?St(e.cm,i.ranges,i.ranges.length-1):t}function mf(e,t,r){let i=e.history.done,n=Te(i);n&&n.ranges?(i[i.length-1]=t,ol(e,t,r)):je(e,t,r)}function je(e,t,r){ol(e,t,r),Dh(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function ol(e,t,r){(gt(e,"beforeSelectionChange")||e.cm&&gt(e.cm,"beforeSelectionChange"))&&(t=$h(e,t,r));let i=r&&r.bias||(ve(t.primary().head,e.sel.primary().head)<0?-1:1);wf(e,Sf(e,t,i,!0)),!(r&&r.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&li(e.cm)}function wf(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Su(e.cm)),Be(e,"cursorActivity",e))}function vf(e){wf(e,Sf(e,e.sel,null,!1))}function Sf(e,t,r,i){let n;for(let l=0;l<t.ranges.length;l++){let o=t.ranges[l],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],a=Dn(e,o.anchor,s&&s.anchor,r,i),u=Dn(e,o.head,s&&s.head,r,i);(n||a!=o.anchor||u!=o.head)&&(n||(n=t.ranges.slice(0,l)),n[l]=new Me(a,u))}return n?St(e.cm,n,t.primIndex):t}function Hr(e,t,r,i,n){let l=pe(e,t.line);if(l.markedSpans)for(let o=0;o<l.markedSpans.length;++o){let s=l.markedSpans[o],a=s.marker,u="selectLeft"in a?!a.selectLeft:a.inclusiveLeft,d="selectRight"in a?!a.selectRight:a.inclusiveRight;if((s.from==null||(u?s.from<=t.ch:s.from<t.ch))&&(s.to==null||(d?s.to>=t.ch:s.to>t.ch))){if(n&&(We(a,"beforeCursorEnter"),a.explicitlyCleared))if(l.markedSpans){--o;continue}else break;if(!a.atomic)continue;if(r){let g=a.find(i<0?1:-1),b;if((i<0?d:u)&&(g=ka(e,g,-i,g&&g.line==t.line?l:null)),g&&g.line==t.line&&(b=ve(g,r))&&(i<0?b<0:b>0))return Hr(e,g,t,i,n)}let c=a.find(i<0?-1:1);return(i<0?u:d)&&(c=ka(e,c,i,c.line==t.line?l:null)),c?Hr(e,c,t,i,n):null}}return t}function Dn(e,t,r,i,n){let l=i||1,o=Hr(e,t,r,l,n)||!n&&Hr(e,t,r,l,!0)||Hr(e,t,r,-l,n)||!n&&Hr(e,t,r,-l,!0);return o||(e.cantEdit=!0,K(e.first,0))}function ka(e,t,r,i){return r<0&&t.ch==0?t.line>e.first?we(e,K(t.line-1)):null:r>0&&t.ch==(i||pe(e,t.line)).text.length?t.line<e.first+e.size-1?K(t.line+1,0):null:new K(t.line,t.ch+r)}function xf(e){e.setSelection(K(e.firstLine(),0),K(e.lastLine()),Mt)}function _f(e,t,r){let i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:()=>i.canceled=!0};return r&&(i.update=(n,l,o,s)=>{n&&(i.from=we(e,n)),l&&(i.to=we(e,l)),o&&(i.text=o),s!==void 0&&(i.origin=s)}),We(e,"beforeChange",e,i),e.cm&&We(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Zr(e,t,r){if(e.cm){if(!e.cm.curOp)return He(e.cm,Zr)(e,t,r);if(e.cm.state.suppressEdits)return}if((gt(e,"beforeChange")||e.cm&&gt(e.cm,"beforeChange"))&&(t=_f(e,t,!0),!t))return;let i=Lu&&!r&&Oc(e,t.from,t.to);if(i)for(let n=i.length-1;n>=0;--n)Ea(e,{from:i[n].from,to:i[n].to,text:n?[""]:t.text,origin:t.origin});else Ea(e,t)}function Ea(e,t){if(t.text.length==1&&t.text[0]==""&&ve(t.from,t.to)==0)return;let r=rs(e,t);yf(e,t,r,e.cm?e.cm.curOp.id:NaN),Ki(e,t,r,ro(e,t));let i=[];Yt(e,(n,l)=>{!l&&Ue(i,n.history)==-1&&(Cf(n.history,t),i.push(n.history)),Ki(n,t,null,ro(n,t))})}function gn(e,t,r){let i=e.cm&&e.cm.state.suppressEdits;if(i&&!r)return;let n=e.history,l,o=e.sel,s=t=="undo"?n.done:n.undone,a=t=="undo"?n.undone:n.done,u=0;for(;u<s.length&&(l=s[u],!(r?l.ranges&&!l.equals(e.sel):!l.ranges));u++);if(u==s.length)return;for(n.lastOrigin=n.lastSelOrigin=null;;)if(l=s.pop(),l.ranges){if(In(l,a),r&&!l.equals(e.sel)){je(e,l,{clearRedo:!1});return}o=l}else if(i){s.push(l);return}else break;let d=[];In(o,a),a.push({changes:d,generation:n.generation}),n.generation=l.generation||++n.maxGeneration;let c=gt(e,"beforeChange")||e.cm&&gt(e.cm,"beforeChange");for(let g=l.changes.length-1;g>=0;--g){let b=l.changes[g];if(b.origin=t,c&&!_f(e,b,!1)){s.length=0;return}d.push(fo(e,b));let x=g?rs(e,b):Te(s);Ki(e,b,x,xa(e,b)),!g&&e.cm&&e.cm.scrollIntoView({from:b.from,to:tr(b)});let A=[];Yt(e,(w,y)=>{!y&&Ue(A,w.history)==-1&&(Cf(w.history,b),A.push(w.history)),Ki(w,b,null,xa(w,b))})}}function Ta(e,t){if(t!=0&&(e.first+=t,e.sel=new or(Jn(e.sel.ranges,r=>new Me(K(r.anchor.line+t,r.anchor.ch),K(r.head.line+t,r.head.ch))),e.sel.primIndex),e.cm)){et(e.cm,e.first,e.first-t,t);for(let r=e.cm.display,i=r.viewFrom;i<r.viewTo;i++)lr(e.cm,i,"gutter")}}function Ki(e,t,r,i){if(e.cm&&!e.cm.curOp)return He(e.cm,Ki)(e,t,r,i);if(t.to.line<e.first){Ta(e,t.text.length-1-(t.to.line-t.from.line));return}if(t.from.line>e.lastLine())return;if(t.from.line<e.first){let l=t.text.length-1-(e.first-t.from.line);Ta(e,l),t={from:K(e.first,0),to:K(t.to.line+l,t.to.ch),text:[Te(t.text)],origin:t.origin}}let n=e.lastLine();t.to.line>n&&(t={from:t.from,to:K(n,pe(e,n).text.length),text:[t.text[0]],origin:t.origin}),t.removed=yr(e,t.from,t.to),r||(r=rs(e,t)),e.cm?Fh(e.cm,t,i):is(e,t,i),ol(e,r,Mt),e.cantEdit&&Dn(e,K(e.firstLine(),0))&&(e.cantEdit=!1)}function Fh(e,t,r){let i=e.doc,n=e.display,l=t.from,o=t.to,s=!1,a=l.line;e.options.lineWrapping||(a=Ae(Nt(pe(i,l.line))),i.iter(a,o.line+1,g=>{if(g==n.maxLine)return s=!0,!0})),i.sel.contains(t.from,t.to)>-1&&Su(e),is(i,t,r,Zu(e)),e.options.lineWrapping||(i.iter(a,l.line+t.text.length,g=>{let b=Nn(g);b>n.maxLineLength&&(n.maxLine=g,n.maxLineLength=b,n.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Ec(i,l.line),tn(e,400);let u=t.text.length-(o.line-l.line)-1;t.full?et(e):l.line==o.line&&t.text.length==1&&!hf(e.doc,t)?lr(e,l.line,"text"):et(e,l.line,o.line+1,u);let d=gt(e,"changes"),c=gt(e,"change");if(c||d){let g={from:l,to:o,text:t.text,removed:t.removed,origin:t.origin};c&&Be(e,"change",e,g),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(g)}e.display.selForContextMenu=null}function oi(e,t,r,i,n){i||(i=r),ve(i,r)<0&&([r,i]=[i,r]),typeof t=="string"&&(t=e.splitLines(t)),Zr(e,{from:r,to:i,text:t,origin:n})}function Aa(e,t,r,i){r<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function La(e,t,r,i){for(let n=0;n<e.length;++n){let l=e[n],o=!0;if(l.ranges){l.copied||(l=e[n]=l.deepCopy(),l.copied=!0);for(let s=0;s<l.ranges.length;s++)Aa(l.ranges[s].anchor,t,r,i),Aa(l.ranges[s].head,t,r,i);continue}for(let s=0;s<l.changes.length;++s){let a=l.changes[s];if(r<a.from.line)a.from=K(a.from.line+i,a.from.ch),a.to=K(a.to.line+i,a.to.ch);else if(t<=a.to.line){o=!1;break}}o||(e.splice(0,n+1),n=0)}}function Cf(e,t){let r=t.from.line,i=t.to.line,n=t.text.length-(i-r)-1;La(e.done,r,i,n),La(e.undone,r,i,n)}function mi(e,t,r,i){let n=t,l=t;return typeof t=="number"?l=pe(e,ku(e,t)):n=Ae(t),n==null?null:(i(l,n)&&e.cm&&lr(e.cm,n,r),l)}function Ti(e){this.lines=e,this.parent=null;let t=0;for(let r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}Ti.prototype={chunkSize(){return this.lines.length},removeInner(e,t){for(let r=e,i=e+t;r<i;++r){let n=this.lines[r];this.height-=n.height,$c(n),Be(n,"delete")}this.lines.splice(e,t)},collapse(e){e.push.apply(e,this.lines)},insertInner(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(let i=0;i<t.length;++i)t[i].parent=this},iterN(e,t,r){for(let i=e+t;e<i;++e)if(r(this.lines[e]))return!0}};function Ai(e){this.children=e;let t=0,r=0;for(let i=0;i<e.length;++i){let n=e[i];t+=n.chunkSize(),r+=n.height,n.parent=this}this.size=t,this.height=r,this.parent=null}Ai.prototype={chunkSize(){return this.size},removeInner(e,t){this.size-=t;for(let r=0;r<this.children.length;++r){let i=this.children[r],n=i.chunkSize();if(e<n){let l=Math.min(t,n-e),o=i.height;if(i.removeInner(e,l),this.height-=o-i.height,n==l&&(this.children.splice(r--,1),i.parent=null),(t-=l)==0)break;e=0}else e-=n}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ti))){let r=[];this.collapse(r),this.children=[new Ti(r)],this.children[0].parent=this}},collapse(e){for(let t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner(e,t,r){this.size+=t.length,this.height+=r;for(let i=0;i<this.children.length;++i){let n=this.children[i],l=n.chunkSize();if(e<=l){if(n.insertInner(e,t,r),n.lines&&n.lines.length>50){let o=n.lines.length%25+25;for(let s=o;s<n.lines.length;){let a=new Ti(n.lines.slice(s,s+=25));n.height-=a.height,this.children.splice(++i,0,a),a.parent=this}n.lines=n.lines.slice(0,o),this.maybeSpill()}break}e-=l}},maybeSpill(){if(this.children.length<=10)return;let e=this;do{let t=e.children.splice(e.children.length-5,5),r=new Ai(t);if(e.parent){e.size-=r.size,e.height-=r.height;let i=Ue(e.parent.children,e);e.parent.children.splice(i+1,0,r)}else{let i=new Ai(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()},iterN(e,t,r){for(let i=0;i<this.children.length;++i){let n=this.children[i],l=n.chunkSize();if(e<l){let o=Math.min(t,l-e);if(n.iterN(e,o,r))return!0;if((t-=o)==0)break;e=0}else e-=l}}};var os=class{constructor(e,t,r){if(r)for(let i in r)r.hasOwnProperty(i)&&(this[i]=r[i]);this.doc=e,this.node=t}clear(){let e=this.doc.cm,t=this.line.widgets,r=this.line,i=Ae(r);if(i==null||!t)return;for(let l=0;l<t.length;++l)t[l]==this&&t.splice(l--,1);t.length||(r.widgets=null);let n=Ui(this);Rt(r,Math.max(0,r.height-n)),e&&(nt(e,()=>{Ma(e,r,-n),lr(e,i,"widget")}),Be(e,"lineWidgetCleared",e,this,i))}changed(){let e=this.height,t=this.doc.cm,r=this.line;this.height=null;let i=Ui(this)-e;i&&(Qt(this.doc,r)||Rt(r,r.height+i),t&&nt(t,()=>{t.curOp.forceUpdate=!0,Ma(t,r,i),Be(t,"lineWidgetChanged",t,this,Ae(r))}))}};ti(os);function Ma(e,t,r){zt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Zo(e,r)}function Hh(e,t,r,i){let n=new os(e,r,i),l=e.cm;return l&&n.noHScroll&&(l.display.alignWidgets=!0),mi(e,t,"widget",o=>{let s=o.widgets||(o.widgets=[]);if(n.insertAt==null?s.push(n):s.splice(Math.min(s.length,Math.max(0,n.insertAt)),0,n),n.line=o,l&&!Qt(e,o)){let a=zt(o)<e.scrollTop;Rt(o,o.height+Ui(n)),a&&Zo(l,n.height),l.curOp.forceUpdate=!0}return!0}),l&&Be(l,"lineWidgetAdded",l,n,typeof t=="number"?t:Ae(t)),n}var kf=0,ss=class{constructor(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++kf}clear(){if(this.explicitlyCleared)return;let e=this.doc.cm,t=e&&!e.curOp;if(t&&Lr(e),gt(this,"clear")){let n=this.find();n&&Be(this,"clear",n.from,n.to)}let r=null,i=null;for(let n=0;n<this.lines.length;++n){let l=this.lines[n],o=Bi(l.markedSpans,this);e&&!this.collapsed?lr(e,Ae(l),"text"):e&&(o.to!=null&&(i=Ae(l)),o.from!=null&&(r=Ae(l))),l.markedSpans=Lc(l.markedSpans,o),o.from==null&&this.collapsed&&!Qt(this.doc,l)&&e&&Rt(l,Yr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(let n=0;n<this.lines.length;++n){let l=Nt(this.lines[n]),o=Nn(l);o>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=o,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&et(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&vf(e.doc)),e&&Be(e,"markerCleared",e,this,r,i),t&&Mr(e),this.parent&&this.parent.clear()}find(e,t){e==null&&this.type=="bookmark"&&(e=1);let r,i;for(let n=0;n<this.lines.length;++n){let l=this.lines[n],o=Bi(l.markedSpans,this);if(o.from!=null&&(r=K(t?l:Ae(l),o.from),e==-1))return r;if(o.to!=null&&(i=K(t?l:Ae(l),o.to),e==1))return i}return r&&{from:r,to:i}}changed(){let e=this.find(-1,!0),t=this,r=this.doc.cm;!e||!r||nt(r,()=>{let i=e.line,n=Ae(e.line),l=zo(r,n);if(l&&(qu(l),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Qt(t.doc,i)&&t.height!=null){let o=t.height;t.height=null;let s=Ui(t)-o;s&&Rt(i,i.height+s)}Be(r,"markerChanged",r,this)})}attachLine(e){if(!this.lines.length&&this.doc.cm){let t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Ue(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)}detachLine(e){if(this.lines.splice(Ue(this.lines,e),1),!this.lines.length&&this.doc.cm){let t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}}};ti(ss);function Qr(e,t,r,i,n){if(i&&i.shared)return Bh(e,t,r,i,n);if(e.cm&&!e.cm.curOp)return He(e.cm,Qr)(e,t,r,i,n);let l=new ss(e,n),o=ve(t,r);if(i&&Sr(i,l,!1),o>0||o==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=zr("span",[l.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(ua(e,t.line,t,r,l)||t.line!=r.line&&ua(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ac()}l.addToHistory&&yf(e,{from:t,to:r,origin:"markText"},e.sel,NaN);let s=t.line,a=e.cm,u;if(e.iter(s,r.line+1,d=>{a&&l.collapsed&&!a.options.lineWrapping&&Nt(d)==a.display.maxLine&&(u=!0),l.collapsed&&s!=t.line&&Rt(d,0),Mc(d,new Qn(l,s==t.line?t.ch:null,s==r.line?r.ch:null)),++s}),l.collapsed&&e.iter(t.line,r.line+1,d=>{Qt(e,d)&&Rt(d,0)}),l.clearOnEnter&&be(l,"beforeCursorEnter",()=>l.clear()),l.readOnly&&(Tc(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++kf,l.atomic=!0),a){if(u&&(a.curOp.updateMaxLine=!0),l.collapsed)et(a,t.line,r.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(let d=t.line;d<=r.line;d++)lr(a,d,"text");l.atomic&&vf(a.doc),Be(a,"markerAdded",a,l)}return l}var as=class{constructor(e,t){this.markers=e,this.primary=t;for(let r=0;r<e.length;++r)e[r].parent=this}clear(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(let e=0;e<this.markers.length;++e)this.markers[e].clear();Be(this,"clear")}}find(e,t){return this.primary.find(e,t)}};ti(as);function Bh(e,t,r,i,n){i=Sr(i),i.shared=!1;let l=[Qr(e,t,r,i,n)],o=l[0],s=i.widgetNode;return Yt(e,a=>{s&&(i.widgetNode=s.cloneNode(!0)),l.push(Qr(a,we(a,t),we(a,r),i,n));for(let u=0;u<a.linked.length;++u)if(a.linked[u].isParent)return;o=Te(l)}),new as(l,o)}function Ra(e){return e.findMarks(K(e.first,0),e.clipPos(K(e.lastLine())),t=>t.parent)}function zh(e,t){for(let r=0;r<t.length;r++){let i=t[r],n=i.find(),l=e.clipPos(n.from),o=e.clipPos(n.to);if(ve(l,o)){let s=Qr(e,l,o,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}function jh(e){for(let t=0;t<e.length;t++){let r=e[t],i=[r.primary.doc];Yt(r.primary.doc,n=>i.push(n));for(let n=0;n<r.markers.length;n++){let l=r.markers[n];Ue(i,l.doc)==-1&&(l.parent=null,r.markers.splice(n--,1))}}}var Uh=0,Wt=function(e,t,r,i,n){if(!(this instanceof Wt))return new Wt(e,t,r,i,n);r==null&&(r=0),Ai.call(this,[new Ti([new zi("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;let l=K(r,0);this.sel=er(l),this.history=new xn(null),this.id=++Uh,this.modeOption=t,this.lineSep=i,this.direction=n=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),is(this,{from:l,to:l,text:e}),je(this,er(l),Mt)};Wt.prototype=mu(Ai.prototype,{constructor:Wt,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){let r=0;for(let i=0;i<t.length;++i)r+=t[i].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){let t=Gl(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:$e(function(e){let t=K(this.first,0),r=this.first+this.size-1;Zr(this,{from:t,to:K(r,pe(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ei(this.cm,0,0),je(this,er(t),Mt)}),replaceRange:function(e,t,r,i){t=we(this,t),r=r?we(this,r):t,oi(this,e,t,r,i)},getRange:function(e,t,r){let i=yr(this,we(this,e),we(this,t));return r===!1?i:i.join(r||this.lineSeparator())},getLine:function(e){let t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Hi(this,e))return pe(this,e)},getLineNumber:function(e){return Ae(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=pe(this,e)),Nt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return we(this,e)},getCursor:function(e){let t=this.sel.primary(),r;return e==null||e=="head"?r=t.head:e=="anchor"?r=t.anchor:e=="end"||e=="to"||e===!1?r=t.to():r=t.from(),r},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:$e(function(e,t,r){Ca(this,we(this,typeof e=="number"?K(e,t||0):e),null,r)}),setSelection:$e(function(e,t,r){Ca(this,we(this,e),we(this,t||e),r)}),extendSelection:$e(function(e,t,r){ll(this,we(this,e),t&&we(this,t),r)}),extendSelections:$e(function(e,t){_a(this,ia(this,e),t)}),extendSelectionsBy:$e(function(e,t){let r=Jn(this.sel.ranges,e);_a(this,ia(this,r),t)}),setSelections:$e(function(e,t,r){if(!e.length)return;let i=[];for(let n=0;n<e.length;n++)i[n]=new Me(we(this,e[n].anchor),we(this,e[n].head||e[n].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),je(this,St(this.cm,i,t),r)}),addSelection:$e(function(e,t,r){let i=this.sel.ranges.slice(0);i.push(new Me(we(this,e),we(this,t||e))),je(this,St(this.cm,i,i.length-1),r)}),getSelection:function(e){let t=this.sel.ranges,r;for(let i=0;i<t.length;i++){let n=yr(this,t[i].from(),t[i].to());r=r?r.concat(n):n}return e===!1?r:r.join(e||this.lineSeparator())},getSelections:function(e){let t=[],r=this.sel.ranges;for(let i=0;i<r.length;i++){let n=yr(this,r[i].from(),r[i].to());e!==!1&&(n=n.join(e||this.lineSeparator())),t[i]=n}return t},replaceSelection:function(e,t,r){let i=[];for(let n=0;n<this.sel.ranges.length;n++)i[n]=e;this.replaceSelections(i,t,r||"+input")},replaceSelections:$e(function(e,t,r){let i=[],n=this.sel;for(let o=0;o<n.ranges.length;o++){let s=n.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:r}}let l=t&&t!="end"&&Rh(this,i,t);for(let o=i.length-1;o>=0;o--)Zr(this,i[o]);l?mf(this,l):this.cm&&li(this.cm)}),undo:$e(function(){gn(this,"undo")}),redo:$e(function(){gn(this,"redo")}),undoSelection:$e(function(){gn(this,"undo",!0)}),redoSelection:$e(function(){gn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){let e=this.history,t=0,r=0;for(let i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(let i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new xn(this.history),Yt(this,e=>e.history=this.history,!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Dr(this.history.done),undone:Dr(this.history.undone)}},setHistory:function(e){let t=this.history=new xn(this.history);t.done=Dr(e.done.slice(0),null,!0),t.undone=Dr(e.undone.slice(0),null,!0)},setGutterMarker:$e(function(e,t,r){return mi(this,e,"gutter",i=>{let n=i.gutterMarkers||(i.gutterMarkers={});return n[t]=r,!r&&ra(n)&&(i.gutterMarkers=null),!0})}),clearGutter:$e(function(e){this.iter(t=>{t.gutterMarkers&&t.gutterMarkers[e]&&mi(this,t,"gutter",()=>(t.gutterMarkers[e]=null,ra(t.gutterMarkers)&&(t.gutterMarkers=null),!0))})}),lineInfo:function(e){let t;if(typeof e=="number"){if(!Hi(this,e)||(t=e,e=pe(this,e),!e))return null}else if(t=Ae(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:$e(function(e,t,r){return mi(this,e,t=="gutter"?"gutter":"class",i=>{let n=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!i[n])i[n]=r;else{if(Xr(r).test(i[n]))return!1;i[n]+=" "+r}return!0})}),removeLineClass:$e(function(e,t,r){return mi(this,e,t=="gutter"?"gutter":"class",i=>{let n=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=i[n];if(l)if(r==null)i[n]=null;else{let o=l.match(Xr(r));if(!o)return!1;let s=o.index+o[0].length;i[n]=l.slice(0,o.index)+(!o.index||s==l.length?"":" ")+l.slice(s)||null}else return!1;return!0})}),addLineWidget:$e(function(e,t,r){return Hh(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Qr(this,we(this,e),we(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){let r={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=we(this,e),Qr(this,e,e,r,"bookmark")},findMarksAt:function(e){e=we(this,e);let t=[],r=pe(this,e.line).markedSpans;if(r)for(let i=0;i<r.length;++i){let n=r[i];(n.from==null||n.from<=e.ch)&&(n.to==null||n.to>=e.ch)&&t.push(n.marker.parent||n.marker)}return t},findMarks:function(e,t,r){e=we(this,e),t=we(this,t);let i=[],n=e.line;return this.iter(e.line,t.line+1,l=>{let o=l.markedSpans;if(o)for(let s=0;s<o.length;s++){let a=o[s];!(a.to!=null&&n==e.line&&e.ch>=a.to||a.from==null&&n!=e.line||a.from!=null&&n==t.line&&a.from>=t.ch)&&(!r||r(a.marker))&&i.push(a.marker.parent||a.marker)}++n}),i},getAllMarks:function(){let e=[];return this.iter(t=>{let r=t.markedSpans;if(r)for(let i=0;i<r.length;++i)r[i].from!=null&&e.push(r[i].marker)}),e},posFromIndex:function(e){let t,r=this.first,i=this.lineSeparator().length;return this.iter(n=>{let l=n.text.length+i;if(l>e)return t=e,!0;e-=l,++r}),we(this,K(r,t))},indexFromPos:function(e){e=we(this,e);let t=e.ch;if(e.line<this.first||e.ch<0)return 0;let r=this.lineSeparator().length;return this.iter(this.first,e.line,i=>{t+=i.text.length+r}),t},copy:function(e){let t=new Wt(Gl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});let t=this.first,r=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<r&&(r=e.to);let i=new Wt(Gl(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],zh(i,Ra(this)),i},unlinkDoc:function(e){if(e instanceof yp&&(e=e.doc),this.linked){for(let t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),jh(Ra(this));break}}if(e.history==this.history){let t=[e.id];Yt(e,r=>t.push(r.id),!0),e.history=new xn(null),e.history.done=Dr(this.history.done,t),e.history.undone=Dr(this.history.undone,t)}},iterLinkedDocs:function(e){Yt(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Lo(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:$e(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(t=>t.order=null),this.cm&&Nh(this.cm))})});Wt.prototype.eachLine=Wt.prototype.iter;var mr=Wt,Ef=0;function Gh(e){let t=this;if(Tf(t),Fe(t,e)||jt(t.display,e))return;Qe(e),ke&&(Ef=+new Date);let r=xr(t,e,!0),i=e.dataTransfer.files;if(!(!r||t.isReadOnly()))if(i&&i.length&&window.FileReader&&window.File){let n=i.length,l=Array(n),o=0;const s=()=>{++o==n&&He(t,()=>{r=we(t.doc,r);let u={from:r,to:r,text:t.doc.splitLines(l.filter(d=>d!=null).join(t.doc.lineSeparator())),origin:"paste"};Zr(t.doc,u),mf(t.doc,er(we(t.doc,r),we(t.doc,tr(u))))})()},a=(u,d)=>{if(t.options.allowDropFileTypes&&Ue(t.options.allowDropFileTypes,u.type)==-1){s();return}let c=new FileReader;c.onerror=()=>s(),c.onload=()=>{let g=c.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(g)){s();return}l[d]=g,s()},c.readAsText(u)};for(let u=0;u<i.length;u++)a(i[u],u)}else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1){t.state.draggingText(e),setTimeout(()=>t.display.input.focus(),20);return}try{let n=e.dataTransfer.getData("Text");if(n){let l;if(t.state.draggingText&&!t.state.draggingText.copy&&(l=t.listSelections()),ol(t.doc,er(r,r)),l)for(let o=0;o<l.length;++o)oi(t.doc,"",l[o].anchor,l[o].head,"drag");t.replaceSelection(n,"around","paste"),t.display.input.focus()}}catch{}}}function qh(e,t){if(ke&&(!e.state.draggingText||+new Date-Ef<100)){Fi(t);return}if(!(Fe(e,t)||jt(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!qn)){let r=ge("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",xt&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),xt&&r.parentNode.removeChild(r)}}function Kh(e,t){let r=xr(e,t);if(!r)return;let i=document.createDocumentFragment();ef(e,r,i),e.display.dragCursor||(e.display.dragCursor=ge("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),at(e.display.dragCursor,i)}function Tf(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Na(e){if(!document.getElementsByClassName)return;let t=document.getElementsByClassName("CodeMirror"),r=[];for(let i=0;i<t.length;i++){let n=t[i].CodeMirror;n&&r.push(n)}r.length&&r[0].operation(()=>{for(let i=0;i<r.length;i++)e(r[i])})}var Oa=!1;function Xh(){Oa||(Jh(),Oa=!0)}function Jh(){let e;be(window,"resize",()=>{e==null&&(e=setTimeout(()=>{e=null,Na(Yh)},100))}),be(window,"blur",()=>Na(ni))}function Yh(e){let t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}var rr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};for(let e=0;e<10;e++)rr[e+48]=rr[e+96]=String(e);for(let e=65;e<=90;e++)rr[e]=String.fromCharCode(e);for(let e=1;e<=12;e++)rr[e+111]=rr[e+63235]="F"+e;var $t={};$t.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};$t.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};$t.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"};$t.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]};$t.default=pt?$t.macDefault:$t.pcDefault;function Vh(e){let t=e.split(/-(?!$)/);e=t[t.length-1];let r,i,n,l;for(let o=0;o<t.length-1;o++){let s=t[o];if(/^(cmd|meta|m)$/i.test(s))l=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))i=!0;else if(/^s(hift)?$/i.test(s))n=!0;else throw new Error("Unrecognized modifier name: "+s)}return r&&(e="Alt-"+e),i&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function Zh(e){let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if(i=="..."){delete e[r];continue}let n=Jn(r.split(" "),Vh);for(let l=0;l<n.length;l++){let o,s;l==n.length-1?(s=n.join(" "),o=i):(s=n.slice(0,l+1).join(" "),o="...");let a=t[s];if(!a)t[s]=o;else if(a!=o)throw new Error("Inconsistent bindings for "+s)}delete e[r]}for(let r in t)e[r]=t[r];return e}function Gr(e,t,r,i){t=Pn(t);let n=t.call?t.call(e,i):t[e];if(n===!1)return"nothing";if(n==="...")return"multi";if(n!=null&&r(n))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Gr(e,t.fallthrough,r,i);for(let l=0;l<t.fallthrough.length;l++){let o=Gr(e,t.fallthrough[l],r,i);if(o)return o}}}function Af(e){let t=typeof e=="string"?e:rr[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Lf(e,t,r){let i=e;return t.altKey&&i!="Alt"&&(e="Alt-"+e),(ea?t.metaKey:t.ctrlKey)&&i!="Ctrl"&&(e="Ctrl-"+e),(ea?t.ctrlKey:t.metaKey)&&i!="Mod"&&(e="Cmd-"+e),!r&&t.shiftKey&&i!="Shift"&&(e="Shift-"+e),e}function Mf(e,t){if(xt&&e.keyCode==34&&e.char)return!1;let r=rr[e.keyCode];return r==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(r=e.code),Lf(r,e,t))}function Pn(e){return typeof e=="string"?$t[e]:e}function Wr(e,t){let r=e.doc.sel.ranges,i=[];for(let n=0;n<r.length;n++){let l=t(r[n]);for(;i.length&&ve(l.from,Te(i).to)<=0;){let o=i.pop();if(ve(o.from,l.from)<0){l.from=o.from;break}}i.push(l)}nt(e,()=>{for(let n=i.length-1;n>=0;n--)oi(e.doc,"",i[n].from,i[n].to,"+delete");li(e)})}function us(e,t,r){let i=wu(e.text,t+r,r);return i<0||i>e.text.length?null:i}function co(e,t,r){let i=us(e,t.ch,r);return i==null?null:new K(t.line,i,r<0?"after":"before")}function fs(e,t,r,i,n){if(e){t.doc.direction=="rtl"&&(n=-n);let l=Gt(r,t.doc.direction);if(l){let o=n<0?Te(l):l[0],a=n<0==(o.level==1)?"after":"before",u;if(o.level>0||t.doc.direction=="rtl"){let d=ri(t,r);u=n<0?r.text.length-1:0;let c=It(t,d,u).top;u=Wi(g=>It(t,d,g).top==c,n<0==(o.level==1)?o.from:o.to-1,u),a=="before"&&(u=us(r,u,1))}else u=n<0?o.to:o.from;return new K(i,u,a)}}return new K(i,n<0?r.text.length:0,n<0?"before":"after")}function Qh(e,t,r,i){let n=Gt(t,e.doc.direction);if(!n)return co(t,r,i);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");let l=$i(n,r.ch,r.sticky),o=n[l];if(e.doc.direction=="ltr"&&o.level%2==0&&(i>0?o.to>r.ch:o.from<r.ch))return co(t,r,i);let s=(x,A)=>us(t,x instanceof K?x.ch:x,A),a,u=x=>e.options.lineWrapping?(a=a||ri(e,t),Vu(e,t,a,x)):{begin:0,end:t.text.length},d=u(r.sticky=="before"?s(r,-1):r.ch);if(e.doc.direction=="rtl"||o.level==1){let x=o.level==1==i<0,A=s(r,x?1:-1);if(A!=null&&(x?A<=o.to&&A<=d.end:A>=o.from&&A>=d.begin)){let w=x?"before":"after";return new K(r.line,A,w)}}let c=(x,A,w)=>{let y=(m,C)=>C?new K(r.line,s(m,1),"before"):new K(r.line,m,"after");for(;x>=0&&x<n.length;x+=A){let m=n[x],C=A>0==(m.level!=1),P=C?w.begin:s(w.end,-1);if(m.from<=P&&P<m.to||(P=C?m.from:s(m.to,-1),w.begin<=P&&P<w.end))return y(P,C)}},g=c(l+i,i,d);if(g)return g;let b=i>0?d.end:s(d.begin,-1);return b!=null&&!(i>0&&b==t.text.length)&&(g=c(i>0?0:n.length-1,i,u(b)),g)?g:null}var Xi={selectAll:xf,singleSelection:e=>e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Mt),killLine:e=>Wr(e,t=>{if(t.empty()){let r=pe(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:K(t.head.line+1,0)}:{from:t.head,to:K(t.head.line,r)}}else return{from:t.from(),to:t.to()}}),deleteLine:e=>Wr(e,t=>({from:K(t.from().line,0),to:we(e.doc,K(t.to().line+1,0))})),delLineLeft:e=>Wr(e,t=>({from:K(t.from().line,0),to:t.from()})),delWrappedLineLeft:e=>Wr(e,t=>{let r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}),delWrappedLineRight:e=>Wr(e,t=>{let r=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:i}}),undo:e=>e.undo(),redo:e=>e.redo(),undoSelection:e=>e.undoSelection(),redoSelection:e=>e.redoSelection(),goDocStart:e=>e.extendSelection(K(e.firstLine(),0)),goDocEnd:e=>e.extendSelection(K(e.lastLine())),goLineStart:e=>e.extendSelectionsBy(t=>Rf(e,t.head.line),{origin:"+move",bias:1}),goLineStartSmart:e=>e.extendSelectionsBy(t=>Ia(e,t.head),{origin:"+move",bias:1}),goLineEnd:e=>e.extendSelectionsBy(t=>ep(e,t.head.line),{origin:"+move",bias:-1}),goLineRight:e=>e.extendSelectionsBy(t=>{let r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},xi),goLineLeft:e=>e.extendSelectionsBy(t=>{let r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},xi),goLineLeftSmart:e=>e.extendSelectionsBy(t=>{let r=e.cursorCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:r},"div");return i.ch<e.getLine(i.line).search(/\S/)?Ia(e,t.head):i},xi),goLineUp:e=>e.moveV(-1,"line"),goLineDown:e=>e.moveV(1,"line"),goPageUp:e=>e.moveV(-1,"page"),goPageDown:e=>e.moveV(1,"page"),goCharLeft:e=>e.moveH(-1,"char"),goCharRight:e=>e.moveH(1,"char"),goColumnLeft:e=>e.moveH(-1,"column"),goColumnRight:e=>e.moveH(1,"column"),goWordLeft:e=>e.moveH(-1,"word"),goGroupRight:e=>e.moveH(1,"group"),goGroupLeft:e=>e.moveH(-1,"group"),goWordRight:e=>e.moveH(1,"word"),delCharBefore:e=>e.deleteH(-1,"codepoint"),delCharAfter:e=>e.deleteH(1,"char"),delWordBefore:e=>e.deleteH(-1,"word"),delWordAfter:e=>e.deleteH(1,"word"),delGroupBefore:e=>e.deleteH(-1,"group"),delGroupAfter:e=>e.deleteH(1,"group"),indentAuto:e=>e.indentSelection("smart"),indentMore:e=>e.indentSelection("add"),indentLess:e=>e.indentSelection("subtract"),insertTab:e=>e.replaceSelection("	"),insertSoftTab:e=>{let t=[],r=e.listSelections(),i=e.options.tabSize;for(let n=0;n<r.length;n++){let l=r[n].from(),o=ct(e.getLine(l.line),l.ch,i);t.push(Eo(i-o%i))}e.replaceSelections(t)},defaultTab:e=>{e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:e=>nt(e,()=>{let t=e.listSelections(),r=[];for(let i=0;i<t.length;i++){if(!t[i].empty())continue;let n=t[i].head,l=pe(e.doc,n.line).text;if(l){if(n.ch==l.length&&(n=new K(n.line,n.ch-1)),n.ch>0)n=new K(n.line,n.ch+1),e.replaceRange(l.charAt(n.ch-1)+l.charAt(n.ch-2),K(n.line,n.ch-2),n,"+transpose");else if(n.line>e.doc.first){let o=pe(e.doc,n.line-1).text;o&&(n=new K(n.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+o.charAt(o.length-1),K(n.line-1,o.length-1),n,"+transpose"))}}r.push(new Me(n,n))}e.setSelections(r)}),newlineAndIndent:e=>nt(e,()=>{let t=e.listSelections();for(let r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(let r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);li(e)}),openLine:e=>e.replaceSelection(`
`,"start"),toggleOverwrite:e=>e.toggleOverwrite()};function Rf(e,t){let r=pe(e.doc,t),i=Nt(r);return i!=r&&(t=Ae(i)),fs(!0,e,i,t,1)}function ep(e,t){let r=pe(e.doc,t),i=Dc(r);return i!=r&&(t=Ae(i)),fs(!0,e,r,t,-1)}function Ia(e,t){let r=Rf(e,t.line),i=pe(e.doc,r.line),n=Gt(i,e.doc.direction);if(!n||n[0].level==0){let l=Math.max(r.ch,i.text.search(/\S/)),o=t.line==r.line&&t.ch<=l&&t.ch;return K(r.line,o?0:l,r.sticky)}return r}function _n(e,t,r){if(typeof t=="string"&&(t=Xi[t],!t))return!1;e.display.input.ensurePolled();let i=e.display.shift,n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),n=t(e)!=Xn}finally{e.display.shift=i,e.state.suppressEdits=!1}return n}function tp(e,t,r){for(let i=0;i<e.state.keyMaps.length;i++){let n=Gr(t,e.state.keyMaps[i],r,e);if(n)return n}return e.options.extraKeys&&Gr(t,e.options.extraKeys,r,e)||Gr(t,e.options.keyMap,r,e)}var rp=new Jr;function Li(e,t,r,i){let n=e.state.keySeq;if(n){if(Af(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rp.set(50,()=>{e.state.keySeq==n&&(e.state.keySeq=null,e.display.input.reset())}),Da(e,n+" "+t,r,i))return!0}return Da(e,t,r,i)}function Da(e,t,r,i){let n=tp(e,t,i);return n=="multi"&&(e.state.keySeq=t),n=="handled"&&Be(e,"keyHandled",e,t,r),(n=="handled"||n=="multi")&&(Qe(r),Xo(e)),!!n}function Nf(e,t){let r=Mf(t,!0);return r?t.shiftKey&&!e.state.keySeq?Li(e,"Shift-"+r,t,i=>_n(e,i,!0))||Li(e,r,t,i=>{if(typeof i=="string"?/^go[A-Z]/.test(i):i.motion)return _n(e,i)}):Li(e,r,t,i=>_n(e,i)):!1}function ip(e,t,r){return Li(e,"'"+r+"'",t,i=>_n(e,i,!0))}var ho=null;function Of(e){let t=this;if(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=ht(),Fe(t,e)))return;ke&&Ne<11&&e.keyCode==27&&(e.returnValue=!1);let r=e.keyCode;t.display.shift=r==16||e.shiftKey;let i=Nf(t,e);xt&&(ho=i?r:null,!i&&r==88&&!mc&&(pt?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),Ht&&!pt&&!i&&r==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),r==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&np(t)}function np(e){let t=e.display.lineDiv;Er(t,"CodeMirror-crosshair");function r(i){(i.keyCode==18||!i.altKey)&&(kr(t,"CodeMirror-crosshair"),st(document,"keyup",r),st(document,"mouseover",r))}be(document,"keyup",r),be(document,"mouseover",r)}function If(e){e.keyCode==16&&(this.doc.sel.shift=!1),Fe(this,e)}function Df(e){let t=this;if(e.target&&e.target!=t.display.input.getField()||jt(t.display,e)||Fe(t,e)||e.ctrlKey&&!e.altKey||pt&&e.metaKey)return;let r=e.keyCode,i=e.charCode;if(xt&&r==ho){ho=null,Qe(e);return}if(xt&&(!e.which||e.which<10)&&Nf(t,e))return;let n=String.fromCharCode(i??r);n!="\b"&&(ip(t,e,n)||t.display.input.onKeyPress(e))}var lp=400,Pa=class{constructor(e,t,r){this.time=e,this.pos=t,this.button=r}compare(e,t,r){return this.time+lp>e&&ve(t,this.pos)==0&&r==this.button}},pi,gi;function op(e,t){let r=+new Date;return gi&&gi.compare(r,e,t)?(pi=gi=null,"triple"):pi&&pi.compare(r,e,t)?(gi=new Pa(r,e,t),pi=null,"double"):(pi=new Pa(r,e,t),gi=null,"single")}function Pf(e){let t=this,r=t.display;if(Fe(t,e)||r.activeTouch&&r.input.supportsTouch())return;if(r.input.ensurePolled(),r.shift=e.shiftKey,jt(r,e)){Xe||(r.scroller.draggable=!1,setTimeout(()=>r.scroller.draggable=!0,100));return}if(po(t,e))return;let i=xr(t,e),n=_u(e),l=i?op(i,n):"single";window.focus(),n==1&&t.state.selectingText&&t.state.selectingText(e),!(i&&sp(t,n,i,l,e))&&(n==1?i?up(t,i,l,e):Ao(e)==r.scroller&&Qe(e):n==2?(i&&ll(t.doc,i),setTimeout(()=>r.input.focus(),20)):n==3&&(Co?t.display.input.onContextMenu(e):Jo(t)))}function sp(e,t,r,i,n){let l="Click";return i=="double"?l="Double"+l:i=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,Li(e,Lf(l,n),n,o=>{if(typeof o=="string"&&(o=Xi[o]),!o)return!1;let s=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),s=o(e,r)!=Xn}finally{e.state.suppressEdits=!1}return s})}function ap(e,t,r){let i=e.getOption("configureMouse"),n=i?i(e,t,r):{};if(n.unit==null){let l=sc?r.shiftKey&&r.metaKey:r.altKey;n.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(n.extend==null||e.doc.extend)&&(n.extend=e.doc.extend||r.shiftKey),n.addNew==null&&(n.addNew=pt?r.metaKey:r.ctrlKey),n.moveOnDrag==null&&(n.moveOnDrag=!(pt?r.altKey:r.ctrlKey)),n}function up(e,t,r,i){ke?setTimeout(ko(tf,e),0):e.curOp.focus=ht();let n=ap(e,r,i),l=e.doc.sel,o;e.options.dragDrop&&pc&&!e.isReadOnly()&&r=="single"&&(o=l.contains(t))>-1&&(ve((o=l.ranges[o]).from(),t)<0||t.xRel>0)&&(ve(o.to(),t)>0||t.xRel<0)?fp(e,i,t,n):dp(e,i,t,n)}function fp(e,t,r,i){let n=e.display,l=!1,o=He(e,u=>{Xe&&(n.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Jo(e)),st(n.wrapper.ownerDocument,"mouseup",o),st(n.wrapper.ownerDocument,"mousemove",s),st(n.scroller,"dragstart",a),st(n.scroller,"drop",o),l||(Qe(u),i.addNew||ll(e.doc,r,null,null,i.extend),Xe&&!qn||ke&&Ne==9?setTimeout(()=>{n.wrapper.ownerDocument.body.focus({preventScroll:!0}),n.input.focus()},20):n.input.focus())}),s=function(u){l=l||Math.abs(t.clientX-u.clientX)+Math.abs(t.clientY-u.clientY)>=10},a=()=>l=!0;Xe&&(n.scroller.draggable=!0),e.state.draggingText=o,o.copy=!i.moveOnDrag,be(n.wrapper.ownerDocument,"mouseup",o),be(n.wrapper.ownerDocument,"mousemove",s),be(n.scroller,"dragstart",a),be(n.scroller,"drop",o),e.state.delayingBlurEvent=!0,setTimeout(()=>n.input.focus(),20),n.scroller.dragDrop&&n.scroller.dragDrop()}function Wa(e,t,r){if(r=="char")return new Me(t,t);if(r=="word")return e.findWordAt(t);if(r=="line")return new Me(K(t.line,0),we(e.doc,K(t.line+1,0)));let i=r(e,t);return new Me(i.from,i.to)}function dp(e,t,r,i){ke&&Jo(e);let n=e.display,l=e.doc;Qe(t);let o,s,a=l.sel,u=a.ranges;if(i.addNew&&!i.extend?(s=l.sel.contains(r),s>-1?o=u[s]:o=new Me(r,r)):(o=l.sel.primary(),s=l.sel.primIndex),i.unit=="rectangle")i.addNew||(o=new Me(r,r)),r=xr(e,t,!0,!0),s=-1;else{let m=Wa(e,r,i.unit);i.extend?o=ns(o,m.anchor,m.head,i.extend):o=m}i.addNew?s==-1?(s=u.length,je(l,St(e,u.concat([o]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&i.unit=="char"&&!i.extend?(je(l,St(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),a=l.sel):ls(l,s,o,Bl):(s=0,je(l,new or([o],0),Bl),a=l.sel);let d=r;function c(m){if(ve(d,m)!=0)if(d=m,i.unit=="rectangle"){let C=[],P=e.options.tabSize,$=ct(pe(l,r.line).text,r.ch,P),ne=ct(pe(l,m.line).text,m.ch,P),ae=Math.min($,ne),Z=Math.max($,ne);for(let _=Math.min(r.line,m.line),T=Math.min(e.lastLine(),Math.max(r.line,m.line));_<=T;_++){let h=pe(l,_).text,W=Yl(h,ae,P);ae==Z?C.push(new Me(K(_,W),K(_,W))):h.length>W&&C.push(new Me(K(_,W),K(_,Yl(h,Z,P))))}C.length||C.push(new Me(r,r)),je(l,St(e,a.ranges.slice(0,s).concat(C),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(m)}else{let C=o,P=Wa(e,m,i.unit),$=C.anchor,ne;ve(P.anchor,$)>0?(ne=P.head,$=Zn(C.from(),P.anchor)):(ne=P.anchor,$=Vn(C.to(),P.head));let ae=a.ranges.slice(0);ae[s]=cp(e,new Me(we(l,$),ne)),je(l,St(e,ae,s),Bl)}}let g=n.wrapper.getBoundingClientRect(),b=0;function x(m){let C=++b,P=xr(e,m,!0,i.unit=="rectangle");if(P)if(ve(P,d)!=0){e.curOp.focus=ht(),c(P);let $=On(n,l);(P.line>=$.to||P.line<$.from)&&setTimeout(He(e,()=>{b==C&&x(m)}),150)}else{let $=m.clientY<g.top?-20:m.clientY>g.bottom?20:0;$&&setTimeout(He(e,()=>{b==C&&(n.scroller.scrollTop+=$,x(m))}),50)}}function A(m){e.state.selectingText=!1,b=1/0,m&&(Qe(m),n.input.focus()),st(n.wrapper.ownerDocument,"mousemove",w),st(n.wrapper.ownerDocument,"mouseup",y),l.history.lastSelOrigin=null}let w=He(e,m=>{m.buttons===0||!_u(m)?A(m):x(m)}),y=He(e,A);e.state.selectingText=y,be(n.wrapper.ownerDocument,"mousemove",w),be(n.wrapper.ownerDocument,"mouseup",y)}function cp(e,t){let{anchor:r,head:i}=t,n=pe(e.doc,r.line);if(ve(r,i)==0&&r.sticky==i.sticky)return t;let l=Gt(n);if(!l)return t;let o=$i(l,r.ch,r.sticky),s=l[o];if(s.from!=r.ch&&s.to!=r.ch)return t;let a=o+(s.from==r.ch==(s.level!=1)?0:1);if(a==0||a==l.length)return t;let u;if(i.line!=r.line)u=(i.line-r.line)*(e.doc.direction=="ltr"?1:-1)>0;else{let x=$i(l,i.ch,i.sticky),A=x-o||(i.ch-r.ch)*(s.level==1?-1:1);x==a-1||x==a?u=A<0:u=A>0}let d=l[a+(u?-1:0)],c=u==(d.level==1),g=c?d.from:d.to,b=c?"after":"before";return r.ch==g&&r.sticky==b?t:new Me(new K(r.line,g,b),i)}function Wf(e,t,r,i){let n,l;if(t.touches)n=t.touches[0].clientX,l=t.touches[0].clientY;else try{n=t.clientX,l=t.clientY}catch{return!1}if(n>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Qe(t);let o=e.display,s=o.lineDiv.getBoundingClientRect();if(l>s.bottom||!gt(e,r))return Ql(t);l-=s.top-o.viewOffset;for(let a=0;a<e.display.gutterSpecs.length;++a){let u=o.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=n){let d=hr(e.doc,l),c=e.display.gutterSpecs[a];return We(e,r,e,d,c.className,t),Ql(t)}}}function po(e,t){return Wf(e,t,"gutterClick",!0)}function $a(e,t){jt(e.display,t)||hp(e,t)||Fe(e,t,"contextmenu")||Co||e.display.input.onContextMenu(t)}function hp(e,t){return gt(e,"gutterContextMenu")?Wf(e,t,"gutterContextMenu",!1):!1}function $f(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Gi(e)}var Br={toString:function(){return"CodeMirror.Init"}},Ff={},Cn={};function pp(e){let t=e.optionHandlers;function r(i,n,l,o){e.defaults[i]=n,l&&(t[i]=o?(s,a,u)=>{u!=Br&&l(s,a,u)}:l)}e.defineOption=r,e.Init=Br,r("value","",(i,n)=>i.setValue(n),!0),r("mode",null,(i,n)=>{i.doc.modeOption=n,uo(i)},!0),r("indentUnit",2,uo,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,i=>{yi(i),Gi(i),et(i)},!0),r("lineSeparator",null,(i,n)=>{if(i.doc.lineSep=n,!n)return;let l=[],o=i.doc.first;i.doc.iter(s=>{for(let a=0;;){let u=s.text.indexOf(n,a);if(u==-1)break;a=u+n.length,l.push(K(o,u))}o++});for(let s=l.length-1;s>=0;s--)oi(i.doc,n,l[s],K(l[s].line,l[s].ch+n.length))}),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(i,n,l)=>{i.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),l!=Br&&i.refresh()}),r("specialCharPlaceholder",Bc,i=>i.refresh(),!0),r("electricChars",!0),r("inputStyle",Di?"contenteditable":"textarea",()=>{throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),r("spellcheck",!1,(i,n)=>i.getInputField().spellcheck=n,!0),r("autocorrect",!1,(i,n)=>i.getInputField().autocorrect=n,!0),r("autocapitalize",!1,(i,n)=>i.getInputField().autocapitalize=n,!0),r("rtlMoveVisually",!ac),r("wholeLineUpdateBefore",!0),r("theme","default",i=>{$f(i),hi(i)},!0),r("keyMap","default",(i,n,l)=>{let o=Pn(n),s=l!=Br&&Pn(l);s&&s.detach&&s.detach(i,o),o.attach&&o.attach(i,s||null)}),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,bp,!0),r("gutters",[],(i,n)=>{i.display.gutterSpecs=ao(n,i.options.lineNumbers),hi(i)},!0),r("fixedGutter",!0,(i,n)=>{i.display.gutters.style.left=n?qo(i.display)+"px":"0",i.refresh()},!0),r("coverGutterNextToScrollbar",!1,i=>Vr(i),!0),r("scrollbarStyle","native",i=>{of(i),Vr(i),i.display.scrollbars.setScrollTop(i.doc.scrollTop),i.display.scrollbars.setScrollLeft(i.doc.scrollLeft)},!0),r("lineNumbers",!1,(i,n)=>{i.display.gutterSpecs=ao(i.options.gutters,n),hi(i)},!0),r("firstLineNumber",1,hi,!0),r("lineNumberFormatter",i=>i,hi,!0),r("showCursorWhenSelecting",!1,ki,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(i,n)=>{n=="nocursor"&&(ni(i),i.display.input.blur()),i.display.input.readOnlyChanged(n)}),r("screenReaderLabel",null,(i,n)=>{n=n===""?null:n,i.display.input.screenReaderLabelChanged(n)}),r("disableInput",!1,(i,n)=>{n||i.display.input.reset()},!0),r("dragDrop",!0,gp),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,ki,!0),r("singleCursorHeightPerLine",!0,ki,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,yi,!0),r("addModeClass",!1,yi,!0),r("pollInterval",100),r("undoDepth",200,(i,n)=>i.doc.history.undoDepth=n),r("historyEventDelay",1250),r("viewportMargin",10,i=>i.refresh(),!0),r("maxHighlightLength",1e4,yi,!0),r("moveInputWithCursor",!0,(i,n)=>{n||i.display.input.resetPosition()}),r("tabindex",null,(i,n)=>i.display.input.getField().tabIndex=n||""),r("autofocus",null),r("direction","ltr",(i,n)=>i.doc.setDirection(n),!0),r("phrases",null)}function gp(e,t,r){let i=r&&r!=Br;if(!t!=!i){let n=e.display.dragFunctions,l=t?be:st;l(e.display.scroller,"dragstart",n.start),l(e.display.scroller,"dragenter",n.enter),l(e.display.scroller,"dragover",n.over),l(e.display.scroller,"dragleave",n.leave),l(e.display.scroller,"drop",n.drop)}}function bp(e){e.options.lineWrapping?(Er(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(kr(e.display.wrapper,"CodeMirror-wrap"),$o(e)),Ko(e),et(e),Gi(e),setTimeout(()=>Vr(e),100)}function Ie(e,t){if(!(this instanceof Ie))return new Ie(e,t);this.options=t=t?Sr(t):{},Sr(Ff,t,!1);let r=t.value;typeof r=="string"?r=new mr(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;let i=new Ie.inputStyles[t.inputStyle](this),n=this.display=new Lh(e,r,i,t);n.wrapper.CodeMirror=this,$f(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),of(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Jr,keySeq:null,specialChars:null},t.autofocus&&!Di&&n.input.focus(),ke&&Ne<11&&setTimeout(()=>this.display.input.reset(!0),20),mp(this),Xh(),Lr(this),this.curOp.forceUpdate=!0,pf(this,r),t.autofocus&&!Di||this.hasFocus()?setTimeout(()=>{this.hasFocus()&&!this.state.focused&&Yo(this)},20):ni(this);for(let l in Cn)Cn.hasOwnProperty(l)&&Cn[l](this,t[l],Br);ff(this),t.finishInit&&t.finishInit(this);for(let l=0;l<go.length;++l)go[l](this);Mr(this),Xe&&t.lineWrapping&&getComputedStyle(n.lineDiv).textRendering=="optimizelegibility"&&(n.lineDiv.style.textRendering="auto")}Ie.defaults=Ff;Ie.optionHandlers=Cn;var yp=Ie;function mp(e){let t=e.display;be(t.scroller,"mousedown",He(e,Pf)),ke&&Ne<11?be(t.scroller,"dblclick",He(e,a=>{if(Fe(e,a))return;let u=xr(e,a);if(!u||po(e,a)||jt(e.display,a))return;Qe(a);let d=e.findWordAt(u);ll(e.doc,d.anchor,d.head)})):be(t.scroller,"dblclick",a=>Fe(e,a)||Qe(a)),be(t.scroller,"contextmenu",a=>$a(e,a)),be(t.input.getField(),"contextmenu",a=>{t.scroller.contains(a.target)||$a(e,a)});let r,i={end:0};function n(){t.activeTouch&&(r=setTimeout(()=>t.activeTouch=null,1e3),i=t.activeTouch,i.end=+new Date)}function l(a){if(a.touches.length!=1)return!1;let u=a.touches[0];return u.radiusX<=1&&u.radiusY<=1}function o(a,u){if(u.left==null)return!0;let d=u.left-a.left,c=u.top-a.top;return d*d+c*c>20*20}be(t.scroller,"touchstart",a=>{if(!Fe(e,a)&&!l(a)&&!po(e,a)){t.input.ensurePolled(),clearTimeout(r);let u=+new Date;t.activeTouch={start:u,moved:!1,prev:u-i.end<=300?i:null},a.touches.length==1&&(t.activeTouch.left=a.touches[0].pageX,t.activeTouch.top=a.touches[0].pageY)}}),be(t.scroller,"touchmove",()=>{t.activeTouch&&(t.activeTouch.moved=!0)}),be(t.scroller,"touchend",a=>{let u=t.activeTouch;if(u&&!jt(t,a)&&u.left!=null&&!u.moved&&new Date-u.start<300){let d=e.coordsChar(t.activeTouch,"page"),c;!u.prev||o(u,u.prev)?c=new Me(d,d):!u.prev.prev||o(u,u.prev.prev)?c=e.findWordAt(d):c=new Me(K(d.line,0),we(e.doc,K(d.line+1,0))),e.setSelection(c.anchor,c.head),e.focus(),Qe(a)}n()}),be(t.scroller,"touchcancel",n),be(t.scroller,"scroll",()=>{t.scroller.clientHeight&&(en(e,t.scroller.scrollTop),Ar(e,t.scroller.scrollLeft,!0),We(e,"scroll",e))}),be(t.scroller,"mousewheel",a=>ma(e,a)),be(t.scroller,"DOMMouseScroll",a=>ma(e,a)),be(t.wrapper,"scroll",()=>t.wrapper.scrollTop=t.wrapper.scrollLeft=0),t.dragFunctions={enter:a=>{Fe(e,a)||Fi(a)},over:a=>{Fe(e,a)||(Kh(e,a),Fi(a))},start:a=>qh(e,a),drop:He(e,Gh),leave:a=>{Fe(e,a)||Tf(e)}};let s=t.input.getField();be(s,"keyup",a=>If.call(e,a)),be(s,"keydown",He(e,Of)),be(s,"keypress",He(e,Df)),be(s,"focus",a=>Yo(e,a)),be(s,"blur",a=>ni(e,a))}var go=[];Ie.defineInitHook=e=>go.push(e);function Mi(e,t,r,i){let n=e.doc,l;r==null&&(r="add"),r=="smart"&&(n.mode.indent?l=Qi(e,t).state:r="prev");let o=e.options.tabSize,s=pe(n,t),a=ct(s.text,null,o);s.stateAfter&&(s.stateAfter=null);let u=s.text.match(/^\s*/)[0],d;if(!i&&!/\S/.test(s.text))d=0,r="not";else if(r=="smart"&&(d=n.mode.indent(l,s.text.slice(u.length),s.text),d==Xn||d>150)){if(!i)return;r="prev"}r=="prev"?t>n.first?d=ct(pe(n,t-1).text,null,o):d=0:r=="add"?d=a+e.options.indentUnit:r=="subtract"?d=a-e.options.indentUnit:typeof r=="number"&&(d=a+r),d=Math.max(0,d);let c="",g=0;if(e.options.indentWithTabs)for(let b=Math.floor(d/o);b;--b)g+=o,c+="	";if(g<d&&(c+=Eo(d-g)),c!=u)return oi(n,c,K(t,0),K(t,u.length),"+input"),s.stateAfter=null,!0;for(let b=0;b<n.sel.ranges.length;b++){let x=n.sel.ranges[b];if(x.head.line==t&&x.head.ch<u.length){let A=K(t,u.length);ls(n,b,new Me(A,A));break}}}var wt=null;function Wn(e){wt=e}function ds(e,t,r,i,n){let l=e.doc;e.display.shift=!1,i||(i=l.sel);let o=+new Date-200,s=n=="paste"||e.state.pasteIncoming>o,a=Lo(t),u=null;if(s&&i.ranges.length>1)if(wt&&wt.text.join(`
`)==t){if(i.ranges.length%wt.text.length==0){u=[];for(let c=0;c<wt.text.length;c++)u.push(l.splitLines(wt.text[c]))}}else a.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(u=Jn(a,c=>[c]));let d=e.curOp.updateInput;for(let c=i.ranges.length-1;c>=0;c--){let g=i.ranges[c],b=g.from(),x=g.to();g.empty()&&(r&&r>0?b=K(b.line,b.ch-r):e.state.overwrite&&!s?x=K(x.line,Math.min(pe(l,x.line).text.length,x.ch+Te(a).length)):s&&wt&&wt.lineWise&&wt.text.join(`
`)==a.join(`
`)&&(b=x=K(b.line,0)));let A={from:b,to:x,text:u?u[c%u.length]:a,origin:n||(s?"paste":e.state.cutIncoming>o?"cut":"+input")};Zr(e.doc,A),Be(e,"inputRead",e,A)}t&&!s&&Bf(e,t),li(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Hf(e,t){let r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&nt(t,()=>ds(t,r,0,null,"paste")),!0}function Bf(e,t){if(!e.options.electricChars||!e.options.smartIndent)return;let r=e.doc.sel;for(let i=r.ranges.length-1;i>=0;i--){let n=r.ranges[i];if(n.head.ch>100||i&&r.ranges[i-1].head.line==n.head.line)continue;let l=e.getModeAt(n.head),o=!1;if(l.electricChars){for(let s=0;s<l.electricChars.length;s++)if(t.indexOf(l.electricChars.charAt(s))>-1){o=Mi(e,n.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(pe(e.doc,n.head.line).text.slice(0,n.head.ch))&&(o=Mi(e,n.head.line,"smart"));o&&Be(e,"electricInput",e,n.head.line)}}function zf(e){let t=[],r=[];for(let i=0;i<e.doc.sel.ranges.length;i++){let n=e.doc.sel.ranges[i].head.line,l={anchor:K(n,0),head:K(n+1,0)};r.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:r}}function jf(e,t,r,i){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",i?"":"off"),e.setAttribute("spellcheck",!!t)}function Uf(){let e=ge("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=ge("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Xe?e.style.width="1000px":e.setAttribute("wrap","off"),Zi&&(e.style.border="1px solid black"),jf(e),t}function wp(e){let t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(i,n){let l=this.options,o=l[i];l[i]==n&&i!="mode"||(l[i]=n,t.hasOwnProperty(i)&&He(this,t[i])(this,n,o),We(this,"optionChange",this,i))},getOption:function(i){return this.options[i]},getDoc:function(){return this.doc},addKeyMap:function(i,n){this.state.keyMaps[n?"push":"unshift"](Pn(i))},removeKeyMap:function(i){let n=this.state.keyMaps;for(let l=0;l<n.length;++l)if(n[l]==i||n[l].name==i)return n.splice(l,1),!0},addOverlay:Ke(function(i,n){let l=i.token?i:e.getMode(this.options,i);if(l.startState)throw new Error("Overlays may not be stateful.");uc(this.state.overlays,{mode:l,modeSpec:i,opaque:n&&n.opaque,priority:n&&n.priority||0},o=>o.priority),this.state.modeGen++,et(this)}),removeOverlay:Ke(function(i){let n=this.state.overlays;for(let l=0;l<n.length;++l){let o=n[l].modeSpec;if(o==i||typeof i=="string"&&o.name==i){n.splice(l,1),this.state.modeGen++,et(this);return}}}),indentLine:Ke(function(i,n,l){typeof n!="string"&&typeof n!="number"&&(n==null?n=this.options.smartIndent?"smart":"prev":n=n?"add":"subtract"),Hi(this.doc,i)&&Mi(this,i,n,l)}),indentSelection:Ke(function(i){let n=this.doc.sel.ranges,l=-1;for(let o=0;o<n.length;o++){let s=n[o];if(s.empty())s.head.line>l&&(Mi(this,s.head.line,i,!0),l=s.head.line,o==this.doc.sel.primIndex&&li(this));else{let a=s.from(),u=s.to(),d=Math.max(l,a.line);l=Math.min(this.lastLine(),u.line-(u.ch?0:1))+1;for(let g=d;g<l;++g)Mi(this,g,i);let c=this.doc.sel.ranges;a.ch==0&&n.length==c.length&&c[o].from().ch>0&&ls(this.doc,o,new Me(a,c[o].to()),Mt)}}}),getTokenAt:function(i,n){return la(this,i,n)},getLineTokens:function(i,n){return la(this,K(i),n,!0)},getTokenTypeAt:function(i){i=we(this.doc,i);let n=Tu(this,pe(this.doc,i.line)),l=0,o=(n.length-1)/2,s=i.ch,a;if(s==0)a=n[2];else for(;;){let d=l+o>>1;if((d?n[d*2-1]:0)>=s)o=d;else if(n[d*2+1]<s)l=d+1;else{a=n[d*2+2];break}}let u=a?a.indexOf("overlay "):-1;return u<0?a:u==0?null:a.slice(0,u-1)},getModeAt:function(i){let n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(i).state).mode:n},getHelper:function(i,n){return this.getHelpers(i,n)[0]},getHelpers:function(i,n){let l=[];if(!r.hasOwnProperty(n))return l;let o=r[n],s=this.getModeAt(i);if(typeof s[n]=="string")o[s[n]]&&l.push(o[s[n]]);else if(s[n])for(let a=0;a<s[n].length;a++){let u=o[s[n][a]];u&&l.push(u)}else s.helperType&&o[s.helperType]?l.push(o[s.helperType]):o[s.name]&&l.push(o[s.name]);for(let a=0;a<o._global.length;a++){let u=o._global[a];u.pred(s,this)&&Ue(l,u.val)==-1&&l.push(u.val)}return l},getStateAfter:function(i,n){let l=this.doc;return i=ku(l,i??l.first+l.size-1),Qi(this,i+1,n).state},cursorCoords:function(i,n){let l,o=this.doc.sel.primary();return i==null?l=o.head:typeof i=="object"?l=we(this.doc,i):l=i?o.from():o.to(),vt(this,l,n||"page")},charCoords:function(i,n){return no(this,we(this.doc,i),n||"page")},coordsChar:function(i,n){return i=ha(this,i,n||"page"),Uo(this,i.left,i.top)},lineAtHeight:function(i,n){return i=ha(this,{top:i,left:0},n||"page").top,hr(this.doc,i+this.display.viewOffset)},heightAtLine:function(i,n,l){let o=!1,s;if(typeof i=="number"){let a=this.doc.first+this.doc.size-1;i<this.doc.first?i=this.doc.first:i>a&&(i=a,o=!0),s=pe(this.doc,i)}else s=i;return rl(this,s,{top:0,left:0},n||"page",l||o).top+(o?this.doc.height-zt(s):0)},defaultTextHeight:function(){return Yr(this.display)},defaultCharWidth:function(){return ii(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(i,n,l,o,s){let a=this.display;i=vt(this,we(this.doc,i));let u=i.bottom,d=i.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),a.sizer.appendChild(n),o=="over")u=i.top;else if(o=="above"||o=="near"){let c=Math.max(a.wrapper.clientHeight,this.doc.height),g=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);(o=="above"||i.bottom+n.offsetHeight>c)&&i.top>n.offsetHeight?u=i.top-n.offsetHeight:i.bottom+n.offsetHeight<=c&&(u=i.bottom),d+n.offsetWidth>g&&(d=g-n.offsetWidth)}n.style.top=u+"px",n.style.left=n.style.right="",s=="right"?(d=a.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):(s=="left"?d=0:s=="middle"&&(d=(a.sizer.clientWidth-n.offsetWidth)/2),n.style.left=d+"px"),l&&hh(this,{left:d,top:u,right:d+n.offsetWidth,bottom:u+n.offsetHeight})},triggerOnKeyDown:Ke(Of),triggerOnKeyPress:Ke(Df),triggerOnKeyUp:If,triggerOnMouseDown:Ke(Pf),execCommand:function(i){if(Xi.hasOwnProperty(i))return Xi[i].call(null,this)},triggerElectric:Ke(function(i){Bf(this,i)}),findPosH:function(i,n,l,o){let s=1;n<0&&(s=-1,n=-n);let a=we(this.doc,i);for(let u=0;u<n&&(a=ql(this.doc,a,s,l,o),!a.hitSide);++u);return a},moveH:Ke(function(i,n){this.extendSelectionsBy(l=>this.display.shift||this.doc.extend||l.empty()?ql(this.doc,l.head,i,n,this.options.rtlMoveVisually):i<0?l.from():l.to(),xi)}),deleteH:Ke(function(i,n){let l=this.doc.sel,o=this.doc;l.somethingSelected()?o.replaceSelection("",null,"+delete"):Wr(this,s=>{let a=ql(o,s.head,i,n,!1);return i<0?{from:a,to:s.head}:{from:s.head,to:a}})}),findPosV:function(i,n,l,o){let s=1,a=o;n<0&&(s=-1,n=-n);let u=we(this.doc,i);for(let d=0;d<n;++d){let c=vt(this,u,"div");if(a==null?a=c.left:c.left=a,u=Fa(this,c,s,l),u.hitSide)break}return u},moveV:Ke(function(i,n){let l=this.doc,o=[],s=!this.display.shift&&!l.extend&&l.sel.somethingSelected();if(l.extendSelectionsBy(a=>{if(s)return i<0?a.from():a.to();let u=vt(this,a.head,"div");a.goalColumn!=null&&(u.left=a.goalColumn),o.push(u.left);let d=Fa(this,u,i,n);return n=="page"&&a==l.sel.primary()&&Zo(this,no(this,d,"div").top-u.top),d},xi),o.length)for(let a=0;a<l.sel.ranges.length;a++)l.sel.ranges[a].goalColumn=o[a]}),findWordAt:function(i){let n=this.doc,l=pe(n,i.line).text,o=i.ch,s=i.ch;if(l){let a=this.getHelper(i,"wordChars");(i.sticky=="before"||s==l.length)&&o?--o:++s;let u=l.charAt(o),d=vn(u,a)?c=>vn(c,a):/\s/.test(u)?c=>/\s/.test(c):c=>!/\s/.test(c)&&!vn(c);for(;o>0&&d(l.charAt(o-1));)--o;for(;s<l.length&&d(l.charAt(s));)++s}return new Me(K(i.line,o),K(i.line,s))},toggleOverwrite:function(i){i!=null&&i==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Er(this.display.cursorDiv,"CodeMirror-overwrite"):kr(this.display.cursorDiv,"CodeMirror-overwrite"),We(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ht()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Ke(function(i,n){Ei(this,i,n)}),getScrollInfo:function(){let i=this.display.scroller;return{left:i.scrollLeft,top:i.scrollTop,height:i.scrollHeight-Ot(this)-this.display.barHeight,width:i.scrollWidth-Ot(this)-this.display.barWidth,clientHeight:Bo(this),clientWidth:Tr(this)}},scrollIntoView:Ke(function(i,n){i==null?(i={from:this.doc.sel.primary().head,to:null},n==null&&(n=this.options.cursorScrollMargin)):typeof i=="number"?i={from:K(i,0),to:null}:i.from==null&&(i={from:i,to:null}),i.to||(i.to=i.from),i.margin=n||0,i.from.line!=null?ph(this,i):rf(this,i.from,i.to,i.margin)}),setSize:Ke(function(i,n){let l=s=>typeof s=="number"||/^\d+$/.test(String(s))?s+"px":s;i!=null&&(this.display.wrapper.style.width=l(i)),n!=null&&(this.display.wrapper.style.height=l(n)),this.options.lineWrapping&&Ku(this);let o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,s=>{if(s.widgets){for(let a=0;a<s.widgets.length;a++)if(s.widgets[a].noHScroll){lr(this,o,"widget");break}}++o}),this.curOp.forceUpdate=!0,We(this,"refresh",this)}),operation:function(i){return nt(this,i)},startOperation:function(){return Lr(this)},endOperation:function(){return Mr(this)},refresh:Ke(function(){let i=this.display.cachedTextHeight;et(this),this.curOp.forceUpdate=!0,Gi(this),Ei(this,this.doc.scrollLeft,this.doc.scrollTop),es(this.display),(i==null||Math.abs(i-Yr(this.display))>.5||this.options.lineWrapping)&&Ko(this),We(this,"refresh",this)}),swapDoc:Ke(function(i){let n=this.doc;return n.cm=null,this.state.selectingText&&this.state.selectingText(),pf(this,i),Gi(this),this.display.input.reset(),Ei(this,i.scrollLeft,i.scrollTop),this.curOp.forceScroll=!0,Be(this,"swapDoc",this,n),n}),phrase:function(i){let n=this.options.phrases;return n&&Object.prototype.hasOwnProperty.call(n,i)?n[i]:i},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ti(e),e.registerHelper=function(i,n,l){r.hasOwnProperty(i)||(r[i]=e[i]={_global:[]}),r[i][n]=l},e.registerGlobalHelper=function(i,n,l,o){e.registerHelper(i,n,o),r[i]._global.push({pred:l,val:o})}}function ql(e,t,r,i,n){let l=t,o=r,s=pe(e,t.line),a=n&&e.direction=="rtl"?-r:r;function u(){let g=t.line+a;return g<e.first||g>=e.first+e.size?!1:(t=new K(g,t.ch,t.sticky),s=pe(e,g))}function d(g){let b;if(i=="codepoint"){let x=s.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(x))b=null;else{let A=r>0?x>=55296&&x<56320:x>=56320&&x<57343;b=new K(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*(A?2:1))),-r)}}else n?b=Qh(e.cm,s,t,r):b=co(s,t,r);if(b==null)if(!g&&u())t=fs(n,e.cm,s,t.line,a);else return!1;else t=b;return!0}if(i=="char"||i=="codepoint")d();else if(i=="column")d(!0);else if(i=="word"||i=="group"){let g=null,b=i=="group",x=e.cm&&e.cm.getHelper(t,"wordChars");for(let A=!0;!(r<0&&!d(!A));A=!1){let w=s.text.charAt(t.ch)||`
`,y=vn(w,x)?"w":b&&w==`
`?"n":!b||/\s/.test(w)?null:"p";if(b&&!A&&!y&&(y="s"),g&&g!=y){r<0&&(r=1,d(),t.sticky="after");break}if(y&&(g=y),r>0&&!d(!A))break}}let c=Dn(e,t,l,o,!0);return eo(l,c)&&(c.hitSide=!0),c}function Fa(e,t,r,i){let n=e.doc,l=t.left,o;if(i=="page"){let a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(a-.5*Yr(e.display),3);o=(r>0?t.bottom:t.top)+r*u}else i=="line"&&(o=r>0?t.bottom+3:t.top-3);let s;for(;s=Uo(e,l,o),!!s.outside;){if(r<0?o<=0:o>=n.height){s.hitSide=!0;break}o+=r*5}return s}var Gf=class{constructor(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Jr,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null}init(e){let t=this,r=t.cm,i=t.div=e.lineDiv;i.contentEditable=!0,jf(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function n(o){for(let s=o.target;s;s=s.parentNode){if(s==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(s.className))break}return!1}be(i,"paste",o=>{!n(o)||Fe(r,o)||Hf(o,r)||Ne<=11&&setTimeout(He(r,()=>this.updateFromDOM()),20)}),be(i,"compositionstart",o=>{this.composing={data:o.data,done:!1}}),be(i,"compositionupdate",o=>{this.composing||(this.composing={data:o.data,done:!1})}),be(i,"compositionend",o=>{this.composing&&(o.data!=this.composing.data&&this.readFromDOMSoon(),this.composing.done=!0)}),be(i,"touchstart",()=>t.forceCompositionEnd()),be(i,"input",()=>{this.composing||this.readFromDOMSoon()});function l(o){if(!n(o)||Fe(r,o))return;if(r.somethingSelected())Wn({lineWise:!1,text:r.getSelections()}),o.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){let d=zf(r);Wn({lineWise:!0,text:d.text}),o.type=="cut"&&r.operation(()=>{r.setSelections(d.ranges,0,Mt),r.replaceSelection("",null,"cut")})}else return;if(o.clipboardData){o.clipboardData.clearData();let d=wt.text.join(`
`);if(o.clipboardData.setData("Text",d),o.clipboardData.getData("Text")==d){o.preventDefault();return}}let s=Uf(),a=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),a.value=wt.text.join(`
`);let u=ht();Pi(a),setTimeout(()=>{r.display.lineSpace.removeChild(s),u.focus(),u==i&&t.showPrimarySelection()},50)}be(i,"copy",l),be(i,"cut",l)}screenReaderLabelChanged(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")}prepareSelection(){let e=Qu(this.cm,!1);return e.focus=ht()==this.div,e}showSelection(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))}getSelection(){return this.cm.display.wrapper.ownerDocument.getSelection()}showPrimarySelection(){let e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),n=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||n.line<t.display.viewFrom){e.removeAllRanges();return}let l=bn(t,e.anchorNode,e.anchorOffset),o=bn(t,e.focusNode,e.focusOffset);if(l&&!l.bad&&o&&!o.bad&&ve(Zn(l,o),i)==0&&ve(Vn(l,o),n)==0)return;let s=t.display.view,a=i.line>=t.display.viewFrom&&Ha(t,i)||{node:s[0].measure.map[2],offset:0},u=n.line<t.display.viewTo&&Ha(t,n);if(!u){let g=s[s.length-1].measure,b=g.maps?g.maps[g.maps.length-1]:g.map;u={node:b[b.length-1],offset:b[b.length-2]-b[b.length-3]}}if(!a||!u){e.removeAllRanges();return}let d=e.rangeCount&&e.getRangeAt(0),c;try{c=vr(a.node,a.offset,u.offset,u.node)}catch{}c&&(!Ht&&t.state.focused?(e.collapse(a.node,a.offset),c.collapsed||(e.removeAllRanges(),e.addRange(c))):(e.removeAllRanges(),e.addRange(c)),d&&e.anchorNode==null?e.addRange(d):Ht&&this.startGracePeriod()),this.rememberSelection()}startGracePeriod(){clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(()=>{this.gracePeriod=!1,this.selectionChanged()&&this.cm.operation(()=>this.cm.curOp.selectionChanged=!0)},20)}showMultipleSelections(e){at(this.cm.display.cursorDiv,e.cursors),at(this.cm.display.selectionDiv,e.selection)}rememberSelection(){let e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset}selectionInEditor(){let e=this.getSelection();if(!e.rangeCount)return!1;let t=e.getRangeAt(0).commonAncestorContainer;return Zt(this.div,t)}focus(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ht()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())}blur(){this.div.blur()}getField(){return this.div}supportsTouch(){return!0}receivedFocus(){let e=this;this.selectionInEditor()?this.pollSelection():nt(this.cm,()=>e.cm.curOp.selectionChanged=!0);function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.polling.set(this.cm.options.pollInterval,t)}selectionChanged(){let e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset}pollSelection(){if(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())return;let e=this.getSelection(),t=this.cm;if(Kn&&Gn&&this.cm.display.gutterSpecs.length&&Sp(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(this.composing)return;this.rememberSelection();let r=bn(t,e.anchorNode,e.anchorOffset),i=bn(t,e.focusNode,e.focusOffset);r&&i&&nt(t,()=>{je(t.doc,er(r,i),Mt),(r.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}pollContent(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);let e=this.cm,t=e.display,r=e.doc.sel.primary(),i=r.from(),n=r.to();if(i.ch==0&&i.line>e.firstLine()&&(i=K(i.line-1,pe(e.doc,i.line-1).length)),n.ch==pe(e.doc,n.line).text.length&&n.line<e.lastLine()&&(n=K(n.line+1,0)),i.line<t.viewFrom||n.line>t.viewTo-1)return!1;let l,o,s;i.line==t.viewFrom||(l=_r(e,i.line))==0?(o=Ae(t.view[0].line),s=t.view[0].node):(o=Ae(t.view[l].line),s=t.view[l-1].node.nextSibling);let a=_r(e,n.line),u,d;if(a==t.view.length-1?(u=t.viewTo-1,d=t.lineDiv.lastChild):(u=Ae(t.view[a+1].line)-1,d=t.view[a+1].node.previousSibling),!s)return!1;let c=e.doc.splitLines(xp(e,s,d,o,u)),g=yr(e.doc,K(o,0),K(u,pe(e.doc,u).text.length));for(;c.length>1&&g.length>1;)if(Te(c)==Te(g))c.pop(),g.pop(),u--;else if(c[0]==g[0])c.shift(),g.shift(),o++;else break;let b=0,x=0,A=c[0],w=g[0],y=Math.min(A.length,w.length);for(;b<y&&A.charCodeAt(b)==w.charCodeAt(b);)++b;let m=Te(c),C=Te(g),P=Math.min(m.length-(c.length==1?b:0),C.length-(g.length==1?b:0));for(;x<P&&m.charCodeAt(m.length-x-1)==C.charCodeAt(C.length-x-1);)++x;if(c.length==1&&g.length==1&&o==i.line)for(;b&&b>i.ch&&m.charCodeAt(m.length-x-1)==C.charCodeAt(C.length-x-1);)b--,x++;c[c.length-1]=m.slice(0,m.length-x).replace(/^\u200b+/,""),c[0]=c[0].slice(b).replace(/\u200b+$/,"");let $=K(o,b),ne=K(u,g.length?Te(g).length-x:0);if(c.length>1||c[0]||ve($,ne))return oi(e.doc,c,$,ne,"+input"),!0}ensurePolled(){this.forceCompositionEnd()}reset(){this.forceCompositionEnd()}forceCompositionEnd(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())}readFromDOMSoon(){this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(()=>{if(this.readDOMTimeout=null,this.composing)if(this.composing.done)this.composing=null;else return;this.updateFromDOM()},80))}updateFromDOM(){(this.cm.isReadOnly()||!this.pollContent())&&nt(this.cm,()=>et(this.cm))}setUneditable(e){e.contentEditable="false"}onKeyPress(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||He(this.cm,ds)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))}readOnlyChanged(e){this.div.contentEditable=String(e!="nocursor")}onContextMenu(){}resetPosition(){}},vp=Gf;Gf.prototype.needsContentAttribute=!0;function Ha(e,t){let r=zo(e,t.line);if(!r||r.hidden)return null;let i=pe(e.doc,t.line),n=zu(r,i,t.line),l=Gt(i,e.doc.direction),o="left";l&&(o=$i(l,t.ch)%2?"right":"left");let s=Gu(n.map,t.ch,o);return s.offset=s.collapse=="right"?s.end:s.start,s}function Sp(e){for(let t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function $r(e,t){return t&&(e.bad=!0),e}function xp(e,t,r,i,n){let l="",o=!1,s=e.doc.lineSeparator(),a=!1;function u(b){return x=>x.id==b}function d(){o&&(l+=s,a&&(l+=s),o=a=!1)}function c(b){b&&(d(),l+=b)}function g(b){if(b.nodeType==1){let x=b.getAttribute("cm-text");if(x){c(x);return}let A=b.getAttribute("cm-marker"),w;if(A){let m=e.findMarks(K(i,0),K(n+1,0),u(+A));m.length&&(w=m[0].find(0))&&c(yr(e.doc,w.from,w.to).join(s));return}if(b.getAttribute("contenteditable")=="false")return;let y=/^(pre|div|p|li|table|br)$/i.test(b.nodeName);if(!/^br$/i.test(b.nodeName)&&b.textContent.length==0)return;y&&d();for(let m=0;m<b.childNodes.length;m++)g(b.childNodes[m]);/^(pre|p)$/i.test(b.nodeName)&&(a=!0),y&&(o=!0)}else b.nodeType==3&&c(b.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;g(t),t!=r;)t=t.nextSibling,a=!1;return l}function bn(e,t,r){let i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[r],!i)return $r(e.clipPos(K(e.display.viewTo-1)),!0);t=null,r=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(let n=0;n<e.display.view.length;n++){let l=e.display.view[n];if(l.node==i)return _p(l,t,r)}}function _p(e,t,r){let i=e.text.firstChild,n=!1;if(!t||!Zt(i,t))return $r(K(Ae(e.line),0),!0);if(t==i&&(n=!0,t=i.childNodes[r],r=0,!t)){let c=e.rest?Te(e.rest):e.line;return $r(K(Ae(c),c.text.length),n)}let l=t.nodeType==3?t:null,o=t;for(!l&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(l=t.firstChild,r&&(r=l.nodeValue.length));o.parentNode!=i;)o=o.parentNode;let s=e.measure,a=s.maps;function u(c,g,b){for(let x=-1;x<(a?a.length:0);x++){let A=x<0?s.map:a[x];for(let w=0;w<A.length;w+=3){let y=A[w+2];if(y==c||y==g){let m=Ae(x<0?e.line:e.rest[x]),C=A[w]+b;return(b<0||y!=c)&&(C=A[w+(b?1:0)]),K(m,C)}}}}let d=u(l,o,r);if(d)return $r(d,n);for(let c=o.nextSibling,g=l?l.nodeValue.length-r:0;c;c=c.nextSibling){if(d=u(c,c.firstChild,0),d)return $r(K(d.line,d.ch-g),n);g+=c.textContent.length}for(let c=o.previousSibling,g=r;c;c=c.previousSibling){if(d=u(c,c.firstChild,-1),d)return $r(K(d.line,d.ch+g),n);g+=c.textContent.length}}var qf=class{constructor(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Jr,this.hasSelection=!1,this.composing=null}init(e){let t=this,r=this.cm;this.createField(e);const i=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Zi&&(i.style.width="0px"),be(i,"input",()=>{ke&&Ne>=9&&this.hasSelection&&(this.hasSelection=null),t.poll()}),be(i,"paste",l=>{Fe(r,l)||Hf(l,r)||(r.state.pasteIncoming=+new Date,t.fastPoll())});function n(l){if(!Fe(r,l)){if(r.somethingSelected())Wn({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){let o=zf(r);Wn({lineWise:!0,text:o.text}),l.type=="cut"?r.setSelections(o.ranges,null,Mt):(t.prevInput="",i.value=o.text.join(`
`),Pi(i))}else return;l.type=="cut"&&(r.state.cutIncoming=+new Date)}}be(i,"cut",n),be(i,"copy",n),be(e.scroller,"paste",l=>{if(jt(e,l)||Fe(r,l))return;if(!i.dispatchEvent){r.state.pasteIncoming=+new Date,t.focus();return}const o=new Event("paste");o.clipboardData=l.clipboardData,i.dispatchEvent(o)}),be(e.lineSpace,"selectstart",l=>{jt(e,l)||Qe(l)}),be(i,"compositionstart",()=>{let l=r.getCursor("from");t.composing&&t.composing.range.clear(),t.composing={start:l,range:r.markText(l,r.getCursor("to"),{className:"CodeMirror-composing"})}}),be(i,"compositionend",()=>{t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})}createField(e){this.wrapper=Uf(),this.textarea=this.wrapper.firstChild}screenReaderLabelChanged(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")}prepareSelection(){let e=this.cm,t=e.display,r=e.doc,i=Qu(e);if(e.options.moveInputWithCursor){let n=vt(e,r.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,n.top+o.top-l.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,n.left+o.left-l.left))}return i}showSelection(e){let t=this.cm,r=t.display;at(r.cursorDiv,e.cursors),at(r.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")}reset(e){if(this.contextMenuPending||this.composing)return;let t=this.cm;if(t.somethingSelected()){this.prevInput="";let r=t.getSelection();this.textarea.value=r,t.state.focused&&Pi(this.textarea),ke&&Ne>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",ke&&Ne>=9&&(this.hasSelection=null))}getField(){return this.textarea}supportsTouch(){return!1}focus(){if(this.cm.options.readOnly!="nocursor"&&(!Di||ht()!=this.textarea))try{this.textarea.focus()}catch{}}blur(){this.textarea.blur()}resetPosition(){this.wrapper.style.top=this.wrapper.style.left=0}receivedFocus(){this.slowPoll()}slowPoll(){this.pollingFast||this.polling.set(this.cm.options.pollInterval,()=>{this.poll(),this.cm.state.focused&&this.slowPoll()})}fastPoll(){let e=!1,t=this;t.pollingFast=!0;function r(){!t.poll()&&!e?(e=!0,t.polling.set(60,r)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,r)}poll(){let e=this.cm,t=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||yc(t)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;let i=t.value;if(i==r&&!e.somethingSelected())return!1;if(ke&&Ne>=9&&this.hasSelection===i||pt&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){let o=i.charCodeAt(0);if(o==8203&&!r&&(r="​"),o==8666)return this.reset(),this.cm.execCommand("undo")}let n=0,l=Math.min(r.length,i.length);for(;n<l&&r.charCodeAt(n)==i.charCodeAt(n);)++n;return nt(e,()=>{ds(e,i.slice(n),r.length-n,null,this.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?t.value=this.prevInput="":this.prevInput=i,this.composing&&(this.composing.range.clear(),this.composing.range=e.markText(this.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0}ensurePolled(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)}onKeyPress(){ke&&Ne>=9&&(this.hasSelection=null),this.fastPoll()}onContextMenu(e){let t=this,r=t.cm,i=r.display,n=t.textarea;t.contextMenuPending&&t.contextMenuPending();let l=xr(r,e),o=i.scroller.scrollTop;if(!l||xt)return;r.options.resetSelectionOnContextMenu&&r.doc.sel.contains(l)==-1&&He(r,je)(r.doc,er(l),Mt);let a=n.style.cssText,u=t.wrapper.style.cssText,d=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",n.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: ${e.clientY-d.top-5}px; left: ${e.clientX-d.left-5}px;
      z-index: 1000; background: ${ke?"rgba(255, 255, 255, .05)":"transparent"};
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;let c;Xe&&(c=window.scrollY),i.input.focus(),Xe&&window.scrollTo(null,c),i.input.reset(),r.somethingSelected()||(n.value=t.prevInput=" "),t.contextMenuPending=b,i.selForContextMenu=r.doc.sel,clearTimeout(i.detectingSelectAll);function g(){if(n.selectionStart!=null){let x=r.somethingSelected(),A="​"+(x?n.value:"");n.value="⇚",n.value=A,t.prevInput=x?"":"​",n.selectionStart=1,n.selectionEnd=A.length,i.selForContextMenu=r.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=u,n.style.cssText=a,ke&&Ne<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=o),n.selectionStart!=null)){(!ke||ke&&Ne<9)&&g();let x=0,A=()=>{i.selForContextMenu==r.doc.sel&&n.selectionStart==0&&n.selectionEnd>0&&t.prevInput=="​"?He(r,xf)(r):x++<10?i.detectingSelectAll=setTimeout(A,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(A,200)}}if(ke&&Ne>=9&&g(),Co){Fi(e);let x=()=>{st(window,"mouseup",x),setTimeout(b,20)};be(window,"mouseup",x)}else setTimeout(b,50)}readOnlyChanged(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e}setUneditable(){}},Cp=qf;qf.prototype.needsContentAttribute=!1;function kp(e,t){if(t=t?Sr(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){let l=ht();t.autofocus=l==e||e.getAttribute("autofocus")!=null&&l==document.body}function r(){e.value=n.getValue()}let i;if(e.form&&(be(e.form,"submit",r),!t.leaveSubmitMethodAlone)){let l=e.form;i=l.submit;try{let o=l.submit=()=>{r(),l.submit=i,l.submit(),l.submit=o}}catch{}}t.finishInit=l=>{l.save=r,l.getTextArea=()=>e,l.toTextArea=()=>{l.toTextArea=isNaN,r(),e.parentNode.removeChild(l.getWrapperElement()),e.style.display="",e.form&&(st(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=i))}},e.style.display="none";let n=Ie(l=>e.parentNode.insertBefore(l,e.nextSibling),t);return n}function Ep(e){e.off=st,e.on=be,e.wheelEventPixels=Mh,e.Doc=mr,e.splitLines=Lo,e.countColumn=ct,e.findColumn=Yl,e.isWordChar=Vl,e.Pass=Xn,e.signal=We,e.Line=zi,e.changeEnd=tr,e.scrollbarModel=lf,e.Pos=K,e.cmpPos=ve,e.modes=Mo,e.mimeModes=Fr,e.resolveMode=An,e.getMode=Ro,e.modeExtensions=jr,e.extendMode=xc,e.copyState=br,e.startState=Cu,e.innerMode=No,e.commands=Xi,e.keyMap=$t,e.keyName=Mf,e.isModifierKey=Af,e.lookupKey=Gr,e.normalizeKeyMap=Zh,e.StringStream=Yn,e.SharedTextMarker=as,e.TextMarker=ss,e.LineWidget=os,e.e_preventDefault=Qe,e.e_stopPropagation=xu,e.e_stop=Fi,e.addClass=Er,e.contains=Zt,e.rmClass=kr,e.keyNames=rr}pp(Ie);wp(Ie);var Tp="iter insert remove copy getEditor constructor".split(" ");for(let e in mr.prototype)mr.prototype.hasOwnProperty(e)&&Ue(Tp,e)<0&&(Ie.prototype[e]=function(t){return function(){return t.apply(this.doc,arguments)}}(mr.prototype[e]));ti(mr);Ie.inputStyles={textarea:Cp,contenteditable:vp};Ie.defineMode=function(e){!Ie.defaults.mode&&e!="null"&&(Ie.defaults.mode=e),vc.apply(this,arguments)};Ie.defineMIME=Sc;Ie.defineMode("null",()=>({token:e=>e.skipToEnd()}));Ie.defineMIME("text/plain","null");Ie.defineExtension=(e,t)=>{Ie.prototype[e]=t};Ie.defineDocExtension=(e,t)=>{mr.prototype[e]=t};Ie.fromTextArea=kp;Ep(Ie);Ie.version="5.61.0";var kn=Ie;document.body.insertAdjacentHTML("beforeend",`
<style>
/* BASICS */

.CodeMirror {
  /* Set height, width, borders, and global font properties here */
  font-family: monospace;
  height: auto;
  color: black;
  direction: ltr;
}

/* PADDING */

.CodeMirror-lines {
  padding: 4px 0; /* Vertical padding around content */
}
.CodeMirror pre.CodeMirror-line,
.CodeMirror pre.CodeMirror-line-like {
  padding: 0 4px; /* Horizontal padding of content */
}

.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {
  background-color: white; /* The little square between H and V scrollbars */
}

/* GUTTER */

.CodeMirror-gutters {
  border-right: 1px solid #ddd;
  background-color: #f7f7f7;
  white-space: nowrap;
}
.CodeMirror-linenumbers {}
.CodeMirror-linenumber {
  padding: 0 3px 0 5px;
  min-width: 20px;
  text-align: right;
  color: #999;
  white-space: nowrap;
}

.CodeMirror-guttermarker { color: black; }
.CodeMirror-guttermarker-subtle { color: #999; }

/* CURSOR */

.CodeMirror-cursor {
  border-left: 1px solid black;
  border-right: none;
  width: 0;
}
/* Shown when moving in bi-directional text */
.CodeMirror div.CodeMirror-secondarycursor {
  border-left: 1px solid silver;
}
.cm-fat-cursor .CodeMirror-cursor {
  width: auto;
  border: 0 !important;
  background: #7e7;
}
.cm-fat-cursor div.CodeMirror-cursors {
  z-index: 1;
}
.cm-fat-cursor-mark {
  background-color: rgba(20, 255, 20, 0.5);
  -webkit-animation: blink 1.06s steps(1) infinite;
  -moz-animation: blink 1.06s steps(1) infinite;
  animation: blink 1.06s steps(1) infinite;
}
.cm-animate-fat-cursor {
  width: auto;
  border: 0;
  -webkit-animation: blink 1.06s steps(1) infinite;
  -moz-animation: blink 1.06s steps(1) infinite;
  animation: blink 1.06s steps(1) infinite;
  background-color: #7e7;
}
@-moz-keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}
@-webkit-keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}
@keyframes blink {
  0% {}
  50% { background-color: transparent; }
  100% {}
}

/* Can style cursor different in overwrite (non-insert) mode */
.CodeMirror-overwrite .CodeMirror-cursor {}

.cm-tab { display: inline-block; text-decoration: inherit; }

.CodeMirror-rulers {
  position: absolute;
  left: 0; right: 0; top: -50px; bottom: 0;
  overflow: hidden;
}
.CodeMirror-ruler {
  border-left: 1px solid #ccc;
  top: 0; bottom: 0;
  position: absolute;
}

/* DEFAULT THEME */

.cm-s-default .cm-header {color: blue;}
.cm-s-default .cm-quote {color: #090;}
.cm-negative {color: #d44;}
.cm-positive {color: #292;}
.cm-header, .cm-strong {font-weight: bold;}
.cm-em {font-style: italic;}
.cm-link {text-decoration: underline;}
.cm-strikethrough {text-decoration: line-through;}

.cm-s-default .cm-keyword {color: #708;}
.cm-s-default .cm-atom {color: #219;}
.cm-s-default .cm-number {color: #164;}
.cm-s-default .cm-def {color: #00f;}
.cm-s-default .cm-variable,
.cm-s-default .cm-punctuation,
.cm-s-default .cm-property,
.cm-s-default .cm-operator {}
.cm-s-default .cm-variable-2 {color: #05a;}
.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}
.cm-s-default .cm-comment {color: #a50;}
.cm-s-default .cm-string {color: #a11;}
.cm-s-default .cm-string-2 {color: #f50;}
.cm-s-default .cm-meta {color: #555;}
.cm-s-default .cm-qualifier {color: #555;}
.cm-s-default .cm-builtin {color: #30a;}
.cm-s-default .cm-bracket {color: #997;}
.cm-s-default .cm-tag {color: #170;}
.cm-s-default .cm-attribute {color: #00c;}
.cm-s-default .cm-hr {color: #999;}
.cm-s-default .cm-link {color: #00c;}

.cm-s-default .cm-error {color: #f00;}
.cm-invalidchar {color: #f00;}

.CodeMirror-composing { border-bottom: 2px solid; }

/* Default styles for common addons */

div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}
div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}
.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }
.CodeMirror-activeline-background {background: #e8f2ff;}

/* STOP */

/* The rest of this file contains styles related to the mechanics of
    the editor. You probably shouldn't touch them. */

.CodeMirror {
  position: relative;
  overflow: hidden;
  background: white;
}

.CodeMirror-scroll {
  overflow: scroll !important; /* Things will break if this is overridden */
  /* 50px is the magic margin used to hide the element's real scrollbars */
  /* See overflow: hidden in .CodeMirror */
  margin-bottom: -50px; margin-right: -50px;
  padding-bottom: 50px;
  height: 100%;
  outline: none; /* Prevent dragging from highlighting the element */
  position: relative;
}
.CodeMirror-sizer {
  position: relative;
  border-right: 50px solid transparent;
}

/* The fake, visible scrollbars. Used to force redraw during scrolling
    before actual scrolling happens, thus preventing shaking and
    flickering artifacts. */
.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {
  position: absolute;
  z-index: 6;
  display: none;
}
.CodeMirror-vscrollbar {
  right: 0; top: 0;
  overflow-x: hidden;
  overflow-y: scroll;
}
.CodeMirror-hscrollbar {
  bottom: 0; left: 0;
  overflow-y: hidden;
  overflow-x: scroll;
}
.CodeMirror-scrollbar-filler {
  right: 0; bottom: 0;
}
.CodeMirror-gutter-filler {
  left: 0; bottom: 0;
}

.CodeMirror-gutters {
  position: absolute; left: 0; top: 0;
  min-height: 100%;
  z-index: 3;
}
.CodeMirror-gutter {
  white-space: normal;
  height: 100%;
  display: inline-block;
  vertical-align: top;
  margin-bottom: -50px;
}
.CodeMirror-gutter-wrapper {
  position: absolute;
  z-index: 4;
  background: none !important;
  border: none !important;
}
.CodeMirror-gutter-background {
  position: absolute;
  top: 0; bottom: 0;
  z-index: 4;
}
.CodeMirror-gutter-elt {
  position: absolute;
  cursor: default;
  z-index: 4;
}
.CodeMirror-gutter-wrapper ::selection { background-color: transparent }
.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }

.CodeMirror-lines {
  cursor: text;
  min-height: 1px; /* prevents collapsing before first draw */
}
.CodeMirror pre.CodeMirror-line,
.CodeMirror pre.CodeMirror-line-like {
  /* Reset some styles that the rest of the page might have set */
  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;
  border-width: 0;
  background: transparent;
  font-family: inherit;
  font-size: inherit;
  margin: 0;
  white-space: pre;
  word-wrap: normal;
  line-height: inherit;
  color: inherit;
  z-index: 2;
  position: relative;
  overflow: visible;
  -webkit-tap-highlight-color: transparent;
  -webkit-font-variant-ligatures: contextual;
  font-variant-ligatures: contextual;
}
.CodeMirror-wrap pre.CodeMirror-line,
.CodeMirror-wrap pre.CodeMirror-line-like {
  word-wrap: break-word;
  white-space: pre-wrap;
  word-break: normal;
}

.CodeMirror-linebackground {
  position: absolute;
  left: 0; right: 0; top: 0; bottom: 0;
  z-index: 0;
}

.CodeMirror-linewidget {
  position: relative;
  z-index: 2;
  padding: 0.1px; /* Force widget margins to stay inside of the container */
}

.CodeMirror-widget {}

.CodeMirror-rtl pre { direction: rtl; }

.CodeMirror-code {
  outline: none;
}

/* Force content-box sizing for the elements where we expect it */
.CodeMirror-scroll,
.CodeMirror-sizer,
.CodeMirror-gutter,
.CodeMirror-gutters,
.CodeMirror-linenumber {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

.CodeMirror-measure {
  position: absolute;
  width: 100%;
  height: 0;
  overflow: hidden;
  visibility: hidden;
}

.CodeMirror-cursor {
  position: absolute;
  pointer-events: none;
}
.CodeMirror-measure pre { position: static; }

div.CodeMirror-cursors {
  visibility: hidden;
  position: relative;
  z-index: 3;
}
div.CodeMirror-dragcursors {
  visibility: visible;
}

.CodeMirror-focused div.CodeMirror-cursors {
  visibility: visible;
}

.CodeMirror-selected { background: #d9d9d9; }
.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }
.CodeMirror-crosshair { cursor: crosshair; }
.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }
.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }

.cm-searching {
  background-color: #ffa;
  background-color: rgba(255, 255, 0, .4);
}

/* Used to force a border model for a node */
.cm-force-border { padding-right: .1px; }

@media print {
  /* Hide the cursor when printing */
  .CodeMirror div.CodeMirror-cursors {
    visibility: hidden;
  }
}

/* See issue #2901 */
.cm-tab-wrap-hack:after { content: ''; }

/* Help users use markselection to safely style text background */
span.CodeMirror-selectedtext { background: none; }
</style>
`);self.CodeMirror=kn;var bo=class extends HTMLElement{static get observedAttributes(){return["src","readonly","mode","theme"]}attributeChangedCallback(e,t,r){this.__initialized&&t!==r&&(e==="readonly"?this[e]=r!==null:this[e]=r)}get readonly(){return this.editor.getOption("readOnly")}set readonly(e){this.editor.setOption("readOnly",e)}get mode(){return this.editor.getOption("mode")}set mode(e){this.editor.setOption("mode",e)}get theme(){return this.editor.getOption("theme")}set theme(e){this.editor.setOption("theme",e)}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e),this.setSrc()}get value(){return this.editor.getValue()}set value(e){this.setValue(e)}constructor(){super(),this.__initialized=!1,this.__element=null,this.editor=null}async connectedCallback(){const e=document.createElement("template");e.innerHTML=bo.template(),this.appendChild(e.content.cloneNode(!0)),this.style.display="block",this.__element=this.querySelector("textarea");const t=this.hasAttribute("mode")?this.getAttribute("mode"):"null",r=this.hasAttribute("theme")?this.getAttribute("theme"):"default";let i=this.getAttribute("readonly");i===""?i=!0:i!=="nocursor"&&(i=!1);let n="";const l=this.querySelector("script");l&&l.getAttribute("type")==="wc-content"&&(n=bo.dedentText(l.innerHTML),n=n.replace(/&lt;(\/?script)(.*?)&gt;/g,"<$1$2>"));let o=kn.defaults.viewportMargin;if(this.hasAttribute("viewport-margin")){const s=this.getAttribute("viewport-margin").toLowerCase();o=s==="infinity"?1/0:parseInt(s)}this.editor=kn.fromTextArea(this.__element,{lineNumbers:!0,readOnly:i,mode:t,theme:r,viewportMargin:o}),this.hasAttribute("src")?this.setSrc(this.getAttribute("src")):(await new Promise(s=>setTimeout(s,50)),this.value=n),this.__initialized=!0}disconnectedCallback(){this.editor&&this.editor.toTextArea(),this.editor=null,this.__initialized=!1}async setSrc(){const e=this.getAttribute("src"),t=await this.fetchSrc(e);this.value=t}async setValue(e){this.editor.swapDoc(kn.Doc(e,this.getAttribute("mode"))),this.editor.refresh()}async fetchSrc(e){return(await fetch(e)).text()}static template(){return`
      <textarea style="display:inherit; width:inherit; height:inherit;"></textarea>
    `}static dedentText(e){const t=e.split(`
`);t[0]===""&&t.splice(0,1);const r=t[0];let i=0;const l=r[0]==="	"?"	":" ";for(;r[i]===l;)i+=1;const o=[];for(const s of t){let a=s;for(let u=0;u<i&&a[0]===l;u++)a=a.substring(1);o.push(a)}return o[o.length-1]===""&&o.splice(o.length-1,1),o.join(`
`)}};customElements.define("wc-codemirror",bo);function Ba(e,t,r,i){var n,l=!1,o=0;function s(){n&&clearTimeout(n)}function a(){s(),l=!0}typeof t!="boolean"&&(i=r,r=t,t=void 0);function u(){for(var d=arguments.length,c=new Array(d),g=0;g<d;g++)c[g]=arguments[g];var b=this,x=Date.now()-o;if(l)return;function A(){o=Date.now(),r.apply(b,c)}function w(){n=void 0}i&&!n&&A(),s(),i===void 0&&x>e?A():t!==!0&&(n=setTimeout(i?w:A,i===void 0?e-x:e))}return u.cancel=a,u}function Ap(e,t,r){return r===void 0?Ba(e,t,!1):Ba(e,r,t!==!1)}const qt=Symbol("Initial value"),Kl=Symbol("Editor dirty"),Pt=Symbol("ParseHandler");function Lp(e){let i=0;return new Promise((n,l)=>{const o=setInterval(()=>{if(e()){clearInterval(o),n();return}i+=1,i===100&&(clearInterval(o),l(new Error("Value did not become truthy in time")))},10)})}class Mp extends Si{static get styles(){return $d`
      :host {
        display: block;
        text-align: left;
      }

      [part='error'] {
        text-decoration: underline;
        text-decoration-color: red;
        text-decoration-style: wavy;
      }

      wc-codemirror,
      #wrapper {
        width: 100%;
        height: 100%;
      }

      :host(:not([ready])) #wrapper {
        display: none;
      }
    `}static get properties(){return{value:{type:String,noAccessor:!0},readonly:{type:Boolean,reflect:!0},prefixes:{type:String,attribute:"prefixes"},isParsing:{type:Boolean,attribute:"is-parsing",reflect:!0},autoParse:{type:Boolean,attribute:"auto-parse"},parseDelay:{type:Number},customPrefixes:{type:Object}}}constructor(){super(),this.parseDelay=250,this[qt]="",this.customPrefixes={},navigator.onLine&&(this.__style=document.createElement("link"),this.__style.rel="stylesheet",this.__style.href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.61.1/codemirror.min.css")}connectedCallback(){const t=new Promise(r=>{this.__style.onload=r});super.connectedCallback(),this.ready=Promise.resolve().then(async()=>{await t,await this.requestUpdate(),await Lp(()=>this.codeMirror&&this.codeMirror.editor&&this.codeMirror.__initialized),await this._initializeCodeMirror(),[...this.renderRoot.querySelectorAll("[class^=CodeMirror]")].forEach(r=>{r.classList.forEach(i=>{i.match(/^CodeMirror/)&&r.setAttribute("part",i)})}),this.setAttribute("ready",""),this.codeMirror.editor.refresh(),this[qt]&&this.codeMirror.editor.setValue(this[qt])})}get _prefixes(){return async()=>(this.prefixes||"").split(",").map(r=>r.trim()).reduce((r,i)=>i in Xl?{...r,[i]:Xl[i]().value}:r,{})}get codeMirror(){return this.renderRoot.querySelector("wc-codemirror")}get value(){return this.hasAttribute("ready")?this.codeMirror.editor.getValue():this[qt]||""}set value(t){typeof t=="string"&&(this.hasAttribute("ready")?this.value!==t&&(this.codeMirror.editor.setValue(t),this[Pt]()):this[qt]=t)}async firstUpdated(t){super.firstUpdated(t),this[qt]&&(await this.ready,this.codeMirror.editor.setValue(this[qt]),this[Pt](),this[qt]=void 0)}updated(t){super.updated(t),(t.has("autoParse")||t.has("parseDelay"))&&this.__setParseHandler()}render(){return Yd`${this.__style}
      <div id="wrapper">
        <wc-codemirror mode="${this.format}" ?readonly="${this.readonly}">
        </wc-codemirror>
      </div>`}async parse(){if(!this.isParsing){this.__errorMarker&&this.__errorMarker.clear(),this.isParsing=!0;try{await this._parse()}catch(t){typeof this._errorLine=="function"&&await this.__highlightError(this._errorLine(t)),this.dispatchEvent(new CustomEvent("parsing-failed",{detail:{error:t}}))}finally{this.isParsing=!1}}}async _initializeCodeMirror(){this.codeMirror.editor.setSize("100%","100%"),this.__setParseHandler(),this.codeMirror.editor.on("change",()=>{this[Kl]=!0})}__setParseHandler(){this.codeMirror.editor&&(this[Pt]&&(this.codeMirror.editor.off("blur",this[Pt]),this.codeMirror.editor.off("change",this[Pt])),this.autoParse?(this[Pt]=Ap(this.parseDelay,this.__beginParse.bind(this)),this.codeMirror.editor.on("change",this[Pt])):(this[Pt]=this.__beginParse.bind(this),this.codeMirror.editor.on("blur",this[Pt])))}async __beginParse(){this[Kl]&&await this.parse(),this[Kl]=!1}async __highlightError(t){if(!this.ready)return;let r={line:0,ch:0},i={line:0,ch:Number.MAX_SAFE_INTEGER};t&&t.from&&(r=t.from,this.codeMirror.editor.scrollIntoView(r)),t&&t.to&&(i=t.to);const n=t?t.message:"";await this.ready,this.__errorMarker=this.codeMirror.editor.getDoc().markText(r,i,{attributes:{part:"error",title:n}})}async _combinePrefixes(){return Object.entries(this.customPrefixes).reduce((t,[r,i])=>!i||!r||typeof i!="string"||typeof r!="string"?t:{...t,[r]:i},await this._prefixes())}}var za={},ja;function Rp(){return ja||(ja=1,window.CodeMirror.defineMode("javascript",function(e,t){var r=e.indentUnit,i=t.statementIndent,n=t.jsonld,l=t.json||n,o=t.typescript,s=t.wordCharacters||/[\w$\xa1-\uffff]/,a=function(){function p(Ze){return{type:Ze,style:"keyword"}}var k=p("keyword a"),G=p("keyword b"),V=p("keyword c"),xe=p("keyword d"),Ee=p("operator"),Re={type:"atom",style:"atom"};return{if:p("if"),while:k,with:k,else:G,do:G,try:G,finally:G,return:xe,break:xe,continue:xe,new:p("new"),delete:V,void:V,throw:V,debugger:p("debugger"),var:p("var"),const:p("var"),let:p("var"),function:p("function"),catch:p("catch"),for:p("for"),switch:p("switch"),case:p("case"),default:p("default"),in:Ee,typeof:Ee,instanceof:Ee,true:Re,false:Re,null:Re,undefined:Re,NaN:Re,Infinity:Re,this:p("this"),class:p("class"),super:p("atom"),yield:V,export:p("export"),import:p("import"),extends:V,await:V}}(),u=/[+\-*&%=<>!?|~^@]/,d=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function c(p){for(var k=!1,G,V=!1;(G=p.next())!=null;){if(!k){if(G=="/"&&!V)return;G=="["?V=!0:V&&G=="]"&&(V=!1)}k=!k&&G=="\\"}}var g,b;function x(p,k,G){return g=p,b=G,k}function A(p,k){var G=p.next();if(G=='"'||G=="'")return k.tokenize=w(G),k.tokenize(p,k);if(G=="."&&p.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return x("number","number");if(G=="."&&p.match(".."))return x("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(G))return x(G);if(G=="="&&p.eat(">"))return x("=>","operator");if(G=="0"&&p.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return x("number","number");if(/\d/.test(G))return p.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),x("number","number");if(G=="/")return p.eat("*")?(k.tokenize=y,y(p,k)):p.eat("/")?(p.skipToEnd(),x("comment","comment")):hs(p,k,1)?(c(p),p.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),x("regexp","string-2")):(p.eat("="),x("operator","operator",p.current()));if(G=="`")return k.tokenize=m,m(p,k);if(G=="#")return p.skipToEnd(),x("error","error");if(G=="<"&&p.match("!--")||G=="-"&&p.match("->"))return p.skipToEnd(),x("comment","comment");if(u.test(G))return(G!=">"||!k.lexical||k.lexical.type!=">")&&(p.eat("=")?(G=="!"||G=="=")&&p.eat("="):/[<>*+\-]/.test(G)&&(p.eat(G),G==">"&&p.eat(G))),x("operator","operator",p.current());if(s.test(G)){p.eatWhile(s);var V=p.current();if(k.lastType!="."){if(a.propertyIsEnumerable(V)){var xe=a[V];return x(xe.type,xe.style,V)}if(V=="async"&&p.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return x("async","keyword",V)}return x("variable","variable",V)}}function w(p){return function(k,G){var V=!1,xe;if(n&&k.peek()=="@"&&k.match(d))return G.tokenize=A,x("jsonld-keyword","meta");for(;(xe=k.next())!=null&&!(xe==p&&!V);)V=!V&&xe=="\\";return V||(G.tokenize=A),x("string","string")}}function y(p,k){for(var G=!1,V;V=p.next();){if(V=="/"&&G){k.tokenize=A;break}G=V=="*"}return x("comment","comment")}function m(p,k){for(var G=!1,V;(V=p.next())!=null;){if(!G&&(V=="`"||V=="$"&&p.eat("{"))){k.tokenize=A;break}G=!G&&V=="\\"}return x("quasi","string-2",p.current())}var C="([{}])";function P(p,k){k.fatArrowAt&&(k.fatArrowAt=null);var G=p.string.indexOf("=>",p.start);if(!(G<0)){if(o){var V=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(p.string.slice(p.start,G));V&&(G=V.index)}for(var xe=0,Ee=!1,Re=G-1;Re>=0;--Re){var Ze=p.string.charAt(Re),At=C.indexOf(Ze);if(At>=0&&At<3){if(!xe){++Re;break}if(--xe==0){Ze=="("&&(Ee=!0);break}}else if(At>=3&&At<6)++xe;else if(s.test(Ze))Ee=!0;else if(/["'\/`]/.test(Ze))for(;;--Re){if(Re==0)return;var Vf=p.string.charAt(Re-1);if(Vf==Ze&&p.string.charAt(Re-2)!="\\"){Re--;break}}else if(Ee&&!xe){++Re;break}}Ee&&!xe&&(k.fatArrowAt=Re)}}var $={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function ne(p,k,G,V,xe,Ee){this.indented=p,this.column=k,this.type=G,this.prev=xe,this.info=Ee,V!=null&&(this.align=V)}function ae(p,k){for(var G=p.localVars;G;G=G.next)if(G.name==k)return!0;for(var V=p.context;V;V=V.prev)for(var G=V.vars;G;G=G.next)if(G.name==k)return!0}function Z(p,k,G,V,xe){var Ee=p.cc;for(_.state=p,_.stream=xe,_.marked=null,_.cc=Ee,_.style=k,p.lexical.hasOwnProperty("align")||(p.lexical.align=!0);;){var Re=Ee.length?Ee.pop():l?te:se;if(Re(G,V)){for(;Ee.length&&Ee[Ee.length-1].lex;)Ee.pop()();return _.marked?_.marked:G=="variable"&&ae(p,V)?"variable-2":k}}}var _={state:null,marked:null,cc:null};function T(){for(var p=arguments.length-1;p>=0;p--)_.cc.push(arguments[p])}function h(){return T.apply(null,arguments),!0}function W(p,k){for(var G=k;G;G=G.next)if(G.name==p)return!0;return!1}function M(p){var k=_.state;if(_.marked="def",k.context){if(k.lexical.info=="var"&&k.context&&k.context.block){var G=X(p,k.context);if(G!=null){k.context=G;return}}else if(!W(p,k.localVars)){k.localVars=new ye(p,k.localVars);return}}t.globalVars&&!W(p,k.globalVars)&&(k.globalVars=new ye(p,k.globalVars))}function X(p,k){if(k)if(k.block){var G=X(p,k.prev);return G?G==k.prev?k:new fe(G,k.vars,!0):null}else return W(p,k.vars)?k:new fe(k.prev,new ye(p,k.vars),!1);else return null}function le(p){return p=="public"||p=="private"||p=="protected"||p=="abstract"||p=="readonly"}function fe(p,k,G){this.prev=p,this.vars=k,this.block=G}function ye(p,k){this.name=p,this.next=k}var U=new ye("this",new ye("arguments",null));function ie(){_.state.context=new fe(_.state.context,_.state.localVars,!1),_.state.localVars=U}function L(){_.state.context=new fe(_.state.context,_.state.localVars,!0),_.state.localVars=null}function B(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}B.lex=!0;function j(p,k){var G=function(){var V=_.state,xe=V.indented;if(V.lexical.type=="stat")xe=V.lexical.indented;else for(var Ee=V.lexical;Ee&&Ee.type==")"&&Ee.align;Ee=Ee.prev)xe=Ee.indented;V.lexical=new ne(xe,_.stream.column(),p,null,V.lexical,k)};return G.lex=!0,G}function D(){var p=_.state;p.lexical.prev&&(p.lexical.type==")"&&(p.indented=p.lexical.indented),p.lexical=p.lexical.prev)}D.lex=!0;function Y(p){function k(G){return G==p?h():p==";"||G=="}"||G==")"||G=="]"?T():h(k)}return k}function se(p,k){return p=="var"?h(j("vardef",k),Nr,Y(";"),D):p=="keyword a"?h(j("form"),q,se,D):p=="keyword b"?h(j("form"),se,D):p=="keyword d"?_.stream.match(/^\s*$/,!1)?h():h(j("stat"),he,Y(";"),D):p=="debugger"?h(Y(";")):p=="{"?h(j("}"),L,Ge,D,B):p==";"?h():p=="if"?(_.state.lexical.info=="else"&&_.state.cc[_.state.cc.length-1]==D&&_.state.cc.pop()(),h(j("form"),q,se,D,S)):p=="function"?h(de):p=="for"?h(j("form"),E,se,D):p=="class"||o&&k=="interface"?(_.marked="keyword",h(j("form",p=="class"?p:k),ai,D)):p=="variable"?o&&k=="declare"?(_.marked="keyword",h(se)):o&&(k=="module"||k=="enum"||k=="type")&&_.stream.match(/^\s*\w/,!1)?(_.marked="keyword",k=="enum"?h(cs):k=="type"?h(Ve,Y("operator"),Le,Y(";")):h(j("form"),Ye,Y("{"),j("}"),Ge,D,D)):o&&k=="namespace"?(_.marked="keyword",h(j("form"),te,se,D)):o&&k=="abstract"?(_.marked="keyword",h(se)):h(j("stat"),R):p=="switch"?h(j("form"),q,Y("{"),j("}","switch"),L,Ge,D,D,B):p=="case"?h(te,Y(":")):p=="default"?h(Y(":")):p=="catch"?h(j("form"),ie,_e,se,D,B):p=="export"?h(j("stat"),ui,D):p=="import"?h(j("stat"),fi,D):p=="async"?h(se):k=="@"?h(te,se):T(j("stat"),te,Y(";"),D)}function _e(p){if(p=="(")return h(kt,Y(")"))}function te(p,k){return ue(p,k,!1)}function F(p,k){return ue(p,k,!0)}function q(p){return p!="("?T():h(j(")"),te,Y(")"),D)}function ue(p,k,G){if(_.state.fatArrowAt==_.stream.start){var V=G?Q:J;if(p=="(")return h(ie,j(")"),Se(kt,")"),D,Y("=>"),V,B);if(p=="variable")return T(ie,Ye,Y("=>"),V,B)}var xe=G?N:ce;return $.hasOwnProperty(p)?h(xe):p=="function"?h(de,xe):p=="class"||o&&k=="interface"?(_.marked="keyword",h(j("form"),Dt,D)):p=="keyword c"||p=="async"?h(G?F:te):p=="("?h(j(")"),he,Y(")"),D,xe):p=="operator"||p=="spread"?h(G?F:te):p=="["?h(j("]"),Xf,D,xe):p=="{"?Oe(oe,"}",null,xe):p=="quasi"?T(I,xe):p=="new"?h(z(G)):p=="import"?h(te):h()}function he(p){return p.match(/[;\}\)\],]/)?T():T(te)}function ce(p,k){return p==","?h(te):N(p,k,!1)}function N(p,k,G){var V=G==!1?ce:N,xe=G==!1?te:F;if(p=="=>")return h(ie,G?Q:J,B);if(p=="operator")return/\+\+|--/.test(k)||o&&k=="!"?h(V):o&&k=="<"&&_.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?h(j(">"),Se(Le,">"),D,V):k=="?"?h(te,Y(":"),xe):h(xe);if(p=="quasi")return T(I,V);if(p!=";"){if(p=="(")return Oe(F,")","call",V);if(p==".")return h(O,V);if(p=="[")return h(j("]"),he,Y("]"),D,V);if(o&&k=="as")return _.marked="keyword",h(Le,V);if(p=="regexp")return _.state.lastType=_.marked="operator",_.stream.backUp(_.stream.pos-_.stream.start-1),h(xe)}}function I(p,k){return p!="quasi"?T():k.slice(k.length-2)!="${"?h(I):h(te,H)}function H(p){if(p=="}")return _.marked="string-2",_.state.tokenize=m,h(I)}function J(p){return P(_.stream,_.state),T(p=="{"?se:te)}function Q(p){return P(_.stream,_.state),T(p=="{"?se:F)}function z(p){return function(k){return k=="."?h(p?v:f):k=="variable"&&o?h(nn,p?N:ce):T(p?F:te)}}function f(p,k){if(k=="target")return _.marked="keyword",h(ce)}function v(p,k){if(k=="target")return _.marked="keyword",h(N)}function R(p){return p==":"?h(D,se):T(ce,Y(";"),D)}function O(p){if(p=="variable")return _.marked="property",h()}function oe(p,k){if(p=="async")return _.marked="property",h(oe);if(p=="variable"||_.style=="keyword"){if(_.marked="property",k=="get"||k=="set")return h(Ce);var G;return o&&_.state.fatArrowAt==_.stream.start&&(G=_.stream.match(/^\s*:\s*/,!1))&&(_.state.fatArrowAt=_.stream.pos+G[0].length),h(me)}else{if(p=="number"||p=="string")return _.marked=n?"property":_.style+" property",h(me);if(p=="jsonld-keyword")return h(me);if(o&&le(k))return _.marked="keyword",h(oe);if(p=="[")return h(te,Je,Y("]"),me);if(p=="spread")return h(F,me);if(k=="*")return _.marked="keyword",h(oe);if(p==":")return T(me)}}function Ce(p){return p!="variable"?T(me):(_.marked="property",h(de))}function me(p){if(p==":")return h(F);if(p=="(")return T(de)}function Se(p,k,G){function V(xe,Ee){if(G?G.indexOf(xe)>-1:xe==","){var Re=_.state.lexical;return Re.info=="call"&&(Re.pos=(Re.pos||0)+1),h(function(Ze,At){return Ze==k||At==k?T():T(p)},V)}return xe==k||Ee==k?h():G&&G.indexOf(";")>-1?T(p):h(Y(k))}return function(xe,Ee){return xe==k||Ee==k?h():T(p,V)}}function Oe(p,k,G){for(var V=3;V<arguments.length;V++)_.cc.push(arguments[V]);return h(j(k,G),Se(p,k),D)}function Ge(p){return p=="}"?h():T(se,Ge)}function Je(p,k){if(o){if(p==":")return h(Le);if(k=="?")return h(Je)}}function Rr(p,k){if(o&&(p==":"||k=="in"))return h(Le)}function qe(p){if(o&&p==":")return _.stream.match(/^\s*\w+\s+is\b/,!1)?h(te,sl,Le):h(Le)}function sl(p,k){if(k=="is")return _.marked="keyword",h()}function Le(p,k){if(k=="keyof"||k=="typeof"||k=="infer")return _.marked="keyword",h(k=="typeof"?F:Le);if(p=="variable"||k=="void")return _.marked="type",h(Ct);if(k=="|"||k=="&")return h(Le);if(p=="string"||p=="number"||p=="atom")return h(Ct);if(p=="[")return h(j("]"),Se(Le,"]",","),D,Ct);if(p=="{")return h(j("}"),Se(sr,"}",",;"),D,Ct);if(p=="(")return h(Se(si,")"),rn,Ct);if(p=="<")return h(Se(Le,">"),Le)}function rn(p){if(p=="=>")return h(Le)}function sr(p,k){if(p=="variable"||_.style=="keyword")return _.marked="property",h(sr);if(k=="?"||p=="number"||p=="string")return h(sr);if(p==":")return h(Le);if(p=="[")return h(Y("variable"),Rr,Y("]"),sr);if(p=="(")return T(De,sr)}function si(p,k){return p=="variable"&&_.stream.match(/^\s*[?:]/,!1)||k=="?"?h(si):p==":"?h(Le):p=="spread"?h(si):T(Le)}function Ct(p,k){if(k=="<")return h(j(">"),Se(Le,">"),D,Ct);if(k=="|"||p=="."||k=="&")return h(Le);if(p=="[")return h(Le,Y("]"),Ct);if(k=="extends"||k=="implements")return _.marked="keyword",h(Le);if(k=="?")return h(Le,Y(":"),Le)}function nn(p,k){if(k=="<")return h(j(">"),Se(Le,">"),D,Ct)}function ar(){return T(Le,al)}function al(p,k){if(k=="=")return h(Le)}function Nr(p,k){return k=="enum"?(_.marked="keyword",h(cs)):T(Ye,Je,ft,on)}function Ye(p,k){if(o&&le(k))return _.marked="keyword",h(Ye);if(p=="variable")return M(k),h();if(p=="spread")return h(Ye);if(p=="[")return Oe(ul,"]");if(p=="{")return Oe(ln,"}")}function ln(p,k){return p=="variable"&&!_.stream.match(/^\s*:/,!1)?(M(k),h(ft)):(p=="variable"&&(_.marked="property"),p=="spread"?h(Ye):p=="}"?T():p=="["?h(te,Y("]"),Y(":"),ln):h(Y(":"),Ye,ft))}function ul(){return T(Ye,ft)}function ft(p,k){if(k=="=")return h(F)}function on(p){if(p==",")return h(Nr)}function S(p,k){if(p=="keyword b"&&k=="else")return h(j("form","else"),se,D)}function E(p,k){if(k=="await")return h(E);if(p=="(")return h(j(")"),re,D)}function re(p){return p=="var"?h(Nr,ee):p=="variable"?h(ee):T(ee)}function ee(p,k){return p==")"?h():p==";"?h(ee):k=="in"||k=="of"?(_.marked="keyword",h(te,ee)):T(te,ee)}function de(p,k){if(k=="*")return _.marked="keyword",h(de);if(p=="variable")return M(k),h(de);if(p=="(")return h(ie,j(")"),Se(kt,")"),D,qe,se,B);if(o&&k=="<")return h(j(">"),Se(ar,">"),D,de)}function De(p,k){if(k=="*")return _.marked="keyword",h(De);if(p=="variable")return M(k),h(De);if(p=="(")return h(ie,j(")"),Se(kt,")"),D,qe,B);if(o&&k=="<")return h(j(">"),Se(ar,">"),D,De)}function Ve(p,k){if(p=="keyword"||p=="variable")return _.marked="type",h(Ve);if(k=="<")return h(j(">"),Se(ar,">"),D)}function kt(p,k){return k=="@"&&h(te,kt),p=="spread"?h(kt):o&&le(k)?(_.marked="keyword",h(kt)):o&&p=="this"?h(Je,ft):T(Ye,Je,ft)}function Dt(p,k){return p=="variable"?ai(p,k):Or(p,k)}function ai(p,k){if(p=="variable")return M(k),h(Or)}function Or(p,k){if(k=="<")return h(j(">"),Se(ar,">"),D,Or);if(k=="extends"||k=="implements"||o&&p==",")return k=="implements"&&(_.marked="keyword"),h(o?Le:te,Or);if(p=="{")return h(j("}"),dt,D)}function dt(p,k){if(p=="async"||p=="variable"&&(k=="static"||k=="get"||k=="set"||o&&le(k))&&_.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return _.marked="keyword",h(dt);if(p=="variable"||_.style=="keyword")return _.marked="property",h(o?ur:de,dt);if(p=="number"||p=="string")return h(o?ur:de,dt);if(p=="[")return h(te,Je,Y("]"),o?ur:de,dt);if(k=="*")return _.marked="keyword",h(dt);if(o&&p=="(")return T(De,dt);if(p==";"||p==",")return h(dt);if(p=="}")return h();if(k=="@")return h(te,dt)}function ur(p,k){if(k=="?")return h(ur);if(p==":")return h(Le,ft);if(k=="=")return h(F);var G=_.state.lexical.prev,V=G&&G.info=="interface";return T(V?De:de)}function ui(p,k){return k=="*"?(_.marked="keyword",h(fl,Y(";"))):k=="default"?(_.marked="keyword",h(te,Y(";"))):p=="{"?h(Se(Ir,"}"),fl,Y(";")):T(se)}function Ir(p,k){if(k=="as")return _.marked="keyword",h(Y("variable"));if(p=="variable")return T(F,Ir)}function fi(p){return p=="string"?h():p=="("?T(te):T(Et,Tt,fl)}function Et(p,k){return p=="{"?Oe(Et,"}"):(p=="variable"&&M(k),k=="*"&&(_.marked="keyword"),h(mt))}function Tt(p){if(p==",")return h(Et,Tt)}function mt(p,k){if(k=="as")return _.marked="keyword",h(Et)}function fl(p,k){if(k=="from")return _.marked="keyword",h(te)}function Xf(p){return p=="]"?h():T(Se(F,"]"))}function cs(){return T(j("form"),Ye,Y("{"),j("}"),Se(Jf,"}"),D,D)}function Jf(){return T(Ye,ft)}function Yf(p,k){return p.lastType=="operator"||p.lastType==","||u.test(k.charAt(0))||/[,.]/.test(k.charAt(0))}function hs(p,k,G){return k.tokenize==A&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(k.lastType)||k.lastType=="quasi"&&/\{\s*$/.test(p.string.slice(0,p.pos-(G||0)))}return{startState:function(p){var k={tokenize:A,lastType:"sof",cc:[],lexical:new ne((p||0)-r,0,"block",!1),localVars:t.localVars,context:t.localVars&&new fe(null,null,!1),indented:p||0};return t.globalVars&&typeof t.globalVars=="object"&&(k.globalVars=t.globalVars),k},token:function(p,k){if(p.sol()&&(k.lexical.hasOwnProperty("align")||(k.lexical.align=!1),k.indented=p.indentation(),P(p,k)),k.tokenize!=y&&p.eatSpace())return null;var G=k.tokenize(p,k);return g=="comment"?G:(k.lastType=g=="operator"&&(b=="++"||b=="--")?"incdec":g,Z(k,G,g,b,p))},indent:function(p,k){if(p.tokenize==y)return CodeMirror.Pass;if(p.tokenize!=A)return 0;var G=k&&k.charAt(0),V=p.lexical,xe;if(!/^\s*else\b/.test(k))for(var Ee=p.cc.length-1;Ee>=0;--Ee){var Re=p.cc[Ee];if(Re==D)V=V.prev;else if(Re!=S)break}for(;(V.type=="stat"||V.type=="form")&&(G=="}"||(xe=p.cc[p.cc.length-1])&&(xe==ce||xe==N)&&!/^[,\.=+\-*:?[\(]/.test(k));)V=V.prev;i&&V.type==")"&&V.prev.type=="stat"&&(V=V.prev);var Ze=V.type,At=G==Ze;return Ze=="vardef"?V.indented+(p.lastType=="operator"||p.lastType==","?V.info.length+1:0):Ze=="form"&&G=="{"?V.indented:Ze=="form"?V.indented+r:Ze=="stat"?V.indented+(Yf(p,k)?i||r:0):V.info=="switch"&&!At&&t.doubleIndentSwitch!=!1?V.indented+(/^(?:case|default)\b/.test(k)?r:2*r):V.align?V.column+(At?0:1):V.indented+(At?0:r)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:n,jsonMode:l,expressionAllowed:hs,skipExpression:function(p){var k=p.cc[p.cc.length-1];(k==te||k==F)&&p.cc.pop()}}}),CodeMirror.registerHelper("wordChars","javascript",/[\w$]/),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/x-javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0})),za}Rp();window.CodeMirror.defineMode("turtle",function(e){var t=e.indentUnit,r;function i(d){return new RegExp("^(?:"+d.join("|")+")$","i")}i([]);var n=i(["@prefix","@base","a"]),l=/[*+\-<>=&|]/;function o(d,c){var g=d.next();if(r=null,g=="<"&&!d.match(/^[\s\u00a0=]/,!1))return d.match(/^[^\s\u00a0>]*>?/),"atom";if(g=='"'||g=="'")return c.tokenize=s(g),c.tokenize(d,c);if(/[{}\(\),\.;\[\]]/.test(g))return r=g,null;if(g=="#")return d.skipToEnd(),"comment";if(l.test(g))return d.eatWhile(l),null;if(g==":")return"operator";if(d.eatWhile(/[_\w\d]/),d.peek()==":")return"variable-3";var b=d.current();return n.test(b)?"meta":g>="A"&&g<="Z"?"comment":"keyword";var b=d.current()}function s(d){return function(c,g){for(var b=!1,x;(x=c.next())!=null;){if(x==d&&!b){g.tokenize=o;break}b=!b&&x=="\\"}return"string"}}function a(d,c,g){d.context={prev:d.context,indent:d.indent,col:g,type:c}}function u(d){d.indent=d.context.indent,d.context=d.context.prev}return{startState:function(){return{tokenize:o,context:null,indent:0,col:0}},token:function(d,c){if(d.sol()&&(c.context&&c.context.align==null&&(c.context.align=!1),c.indent=d.indentation()),d.eatSpace())return null;var g=c.tokenize(d,c);if(g!="comment"&&c.context&&c.context.align==null&&c.context.type!="pattern"&&(c.context.align=!0),r=="(")a(c,")",d.column());else if(r=="[")a(c,"]",d.column());else if(r=="{")a(c,"}",d.column());else if(/[\]\}\)]/.test(r)){for(;c.context&&c.context.type=="pattern";)u(c);c.context&&r==c.context.type&&u(c)}else r=="."&&c.context&&c.context.type=="pattern"?u(c):/atom|string|variable/.test(g)&&c.context&&(/[\}\]]/.test(c.context.type)?a(c,"pattern",d.column()):c.context.type=="pattern"&&!c.context.align&&(c.context.align=!0,c.context.col=d.column()));return g},indent:function(d,c){var g=c&&c.charAt(0),b=d.context;if(/[\]\}]/.test(g))for(;b&&b.type=="pattern";)b=b.prev;var x=b&&g==b.type;return b?b.type=="pattern"?b.col:b.align?b.col+(x?0:1):b.indent+(x?0:t):0},lineComment:"#"}});CodeMirror.defineMIME("text/turtle","turtle");CodeMirror.defineMIME("text/n3","turtle");CodeMirror.defineMIME("application/trig","turtle");window.CodeMirror.defineMode("ntriples",function(){var e={PRE_SUBJECT:0,WRITING_SUB_URI:1,WRITING_BNODE_URI:2,PRE_PRED:3,WRITING_PRED_URI:4,PRE_OBJ:5,WRITING_OBJ_URI:6,WRITING_OBJ_BNODE:7,WRITING_OBJ_LITERAL:8,WRITING_LIT_LANG:9,WRITING_LIT_TYPE:10,POST_OBJ:11,ERROR:12};function t(r,i){var n=r.location,l;n==e.PRE_SUBJECT&&i=="<"?l=e.WRITING_SUB_URI:n==e.PRE_SUBJECT&&i=="_"?l=e.WRITING_BNODE_URI:n==e.PRE_PRED&&i=="<"?l=e.WRITING_PRED_URI:n==e.PRE_OBJ&&i=="<"?l=e.WRITING_OBJ_URI:n==e.PRE_OBJ&&i=="_"?l=e.WRITING_OBJ_BNODE:n==e.PRE_OBJ&&i=='"'?l=e.WRITING_OBJ_LITERAL:n==e.WRITING_SUB_URI&&i==">"||n==e.WRITING_BNODE_URI&&i==" "?l=e.PRE_PRED:n==e.WRITING_PRED_URI&&i==">"?l=e.PRE_OBJ:n==e.WRITING_OBJ_URI&&i==">"||n==e.WRITING_OBJ_BNODE&&i==" "||n==e.WRITING_OBJ_LITERAL&&i=='"'||n==e.WRITING_LIT_LANG&&i==" "||n==e.WRITING_LIT_TYPE&&i==">"?l=e.POST_OBJ:n==e.WRITING_OBJ_LITERAL&&i=="@"?l=e.WRITING_LIT_LANG:n==e.WRITING_OBJ_LITERAL&&i=="^"?l=e.WRITING_LIT_TYPE:i==" "&&(n==e.PRE_SUBJECT||n==e.PRE_PRED||n==e.PRE_OBJ||n==e.POST_OBJ)?l=n:n==e.POST_OBJ&&i=="."?l=e.PRE_SUBJECT:l=e.ERROR,r.location=l}return{startState:function(){return{location:e.PRE_SUBJECT,uris:[],anchors:[],bnodes:[],langs:[],types:[]}},token:function(r,i){var n=r.next();if(n=="<"){t(i,n);var l="";return r.eatWhile(function(d){return d!="#"&&d!=">"?(l+=d,!0):!1}),i.uris.push(l),r.match("#",!1)||(r.next(),t(i,">")),"variable"}if(n=="#"){var o="";return r.eatWhile(function(d){return d!=">"&&d!=" "?(o+=d,!0):!1}),i.anchors.push(o),"variable-2"}if(n==">")return t(i,">"),"variable";if(n=="_"){t(i,n);var s="";return r.eatWhile(function(d){return d!=" "?(s+=d,!0):!1}),i.bnodes.push(s),r.next(),t(i," "),"builtin"}if(n=='"')return t(i,n),r.eatWhile(function(d){return d!='"'}),r.next(),r.peek()!="@"&&r.peek()!="^"&&t(i,'"'),"string";if(n=="@"){t(i,"@");var a="";return r.eatWhile(function(d){return d!=" "?(a+=d,!0):!1}),i.langs.push(a),r.next(),t(i," "),"string-2"}if(n=="^"){r.next(),t(i,"^");var u="";return r.eatWhile(function(d){return d!=">"?(u+=d,!0):!1}),i.types.push(u),r.next(),t(i,">"),"variable"}n==" "&&t(i,n),n=="."&&t(i,n)}}});CodeMirror.defineMIME("application/n-triples","ntriples");CodeMirror.defineMIME("application/n-quads","ntriples");CodeMirror.defineMIME("text/n-triples","ntriples");var Np={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},Op={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};window.CodeMirror.defineMode("xml",function(e,t){var r=e.indentUnit,i={},n=t.htmlMode?Np:Op;for(var l in n)i[l]=n[l];for(var l in t)i[l]=t[l];var o,s;function a(_,T){function h(X){return T.tokenize=X,X(_,T)}var W=_.next();if(W=="<")return _.eat("!")?_.eat("[")?_.match("CDATA[")?h(c("atom","]]>")):null:_.match("--")?h(c("comment","-->")):_.match("DOCTYPE",!0,!0)?(_.eatWhile(/[\w\._\-]/),h(g(1))):null:_.eat("?")?(_.eatWhile(/[\w\._\-]/),T.tokenize=c("meta","?>"),"meta"):(o=_.eat("/")?"closeTag":"openTag",T.tokenize=u,"tag bracket");if(W=="&"){var M;return _.eat("#")?_.eat("x")?M=_.eatWhile(/[a-fA-F\d]/)&&_.eat(";"):M=_.eatWhile(/[\d]/)&&_.eat(";"):M=_.eatWhile(/[\w\.\-:]/)&&_.eat(";"),M?"atom":"error"}else return _.eatWhile(/[^&<]/),null}a.isInText=!0;function u(_,T){var h=_.next();if(h==">"||h=="/"&&_.eat(">"))return T.tokenize=a,o=h==">"?"endTag":"selfcloseTag","tag bracket";if(h=="=")return o="equals",null;if(h=="<"){T.tokenize=a,T.state=w,T.tagName=T.tagStart=null;var W=T.tokenize(_,T);return W?W+" tag error":"tag error"}else return/[\'\"]/.test(h)?(T.tokenize=d(h),T.stringStartCol=_.column(),T.tokenize(_,T)):(_.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(_){var T=function(h,W){for(;!h.eol();)if(h.next()==_){W.tokenize=u;break}return"string"};return T.isInAttribute=!0,T}function c(_,T){return function(h,W){for(;!h.eol();){if(h.match(T)){W.tokenize=a;break}h.next()}return _}}function g(_){return function(T,h){for(var W;(W=T.next())!=null;){if(W=="<")return h.tokenize=g(_+1),h.tokenize(T,h);if(W==">")if(_==1){h.tokenize=a;break}else return h.tokenize=g(_-1),h.tokenize(T,h)}return"meta"}}function b(_,T,h){this.prev=_.context,this.tagName=T,this.indent=_.indented,this.startOfLine=h,(i.doNotIndent.hasOwnProperty(T)||_.context&&_.context.noIndent)&&(this.noIndent=!0)}function x(_){_.context&&(_.context=_.context.prev)}function A(_,T){for(var h;;){if(!_.context||(h=_.context.tagName,!i.contextGrabbers.hasOwnProperty(h)||!i.contextGrabbers[h].hasOwnProperty(T)))return;x(_)}}function w(_,T,h){return _=="openTag"?(h.tagStart=T.column(),y):_=="closeTag"?m:w}function y(_,T,h){return _=="word"?(h.tagName=T.current(),s="tag",$):i.allowMissingTagName&&_=="endTag"?(s="tag bracket",$(_,T,h)):(s="error",y)}function m(_,T,h){if(_=="word"){var W=T.current();return h.context&&h.context.tagName!=W&&i.implicitlyClosed.hasOwnProperty(h.context.tagName)&&x(h),h.context&&h.context.tagName==W||i.matchClosing===!1?(s="tag",C):(s="tag error",P)}else return i.allowMissingTagName&&_=="endTag"?(s="tag bracket",C(_,T,h)):(s="error",P)}function C(_,T,h){return _!="endTag"?(s="error",C):(x(h),w)}function P(_,T,h){return s="error",C(_,T,h)}function $(_,T,h){if(_=="word")return s="attribute",ne;if(_=="endTag"||_=="selfcloseTag"){var W=h.tagName,M=h.tagStart;return h.tagName=h.tagStart=null,_=="selfcloseTag"||i.autoSelfClosers.hasOwnProperty(W)?A(h,W):(A(h,W),h.context=new b(h,W,M==h.indented)),w}return s="error",$}function ne(_,T,h){return _=="equals"?ae:(i.allowMissing||(s="error"),$(_,T,h))}function ae(_,T,h){return _=="string"?Z:_=="word"&&i.allowUnquoted?(s="string",$):(s="error",$(_,T,h))}function Z(_,T,h){return _=="string"?Z:$(_,T,h)}return{startState:function(_){var T={tokenize:a,state:w,indented:_||0,tagName:null,tagStart:null,context:null};return _!=null&&(T.baseIndent=_),T},token:function(_,T){if(!T.tagName&&_.sol()&&(T.indented=_.indentation()),_.eatSpace())return null;o=null;var h=T.tokenize(_,T);return(h||o)&&h!="comment"&&(s=null,T.state=T.state(o||h,_,T),s&&(h=s=="error"?h+" error":s)),h},indent:function(_,T,h){var W=_.context;if(_.tokenize.isInAttribute)return _.tagStart==_.indented?_.stringStartCol+1:_.indented+r;if(W&&W.noIndent)return CodeMirror.Pass;if(_.tokenize!=u&&_.tokenize!=a)return h?h.match(/^(\s*)/)[0].length:0;if(_.tagName)return i.multilineTagIndentPastTag!==!1?_.tagStart+_.tagName.length+2:_.tagStart+r*(i.multilineTagIndentFactor||1);if(i.alignCDATA&&/<!\[CDATA\[/.test(T))return 0;var M=T&&/^<(\/)?([\w_:\.-]*)/.exec(T);if(M&&M[1])for(;W;)if(W.tagName==M[2]){W=W.prev;break}else if(i.implicitlyClosed.hasOwnProperty(W.tagName))W=W.prev;else break;else if(M)for(;W;){var X=i.contextGrabbers[W.tagName];if(X&&X.hasOwnProperty(M[2]))W=W.prev;else break}for(;W&&W.prev&&!W.startOfLine;)W=W.prev;return W?W.indent+r:_.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:i.htmlMode?"html":"xml",helperType:i.htmlMode?"html":"xml",skipAttribute:function(_){_.state==ae&&(_.state=$)},xmlCurrentTag:function(_){return _.tagName?{name:_.tagName,close:_.type=="closeTag"}:null},xmlCurrentContext:function(_){for(var T=[],h=_.context;h;h=h.prev)h.tagName&&T.push(h.tagName);return T.reverse()}}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});const yn=Symbol("parsed quads");class Ip extends Mp{static get properties(){return{format:{type:String,reflect:!0},quads:{type:Array},noReserialize:{type:Boolean,attribute:"no-reserialize"}}}constructor(){super(),this.isParsing=!1,this.noReserialize=!1}disconnectedCallback(){super.disconnectedCallback(),this.ready=null}get quads(){return this[yn]}set quads(t){if(typeof t>"u"||t===null)return;const r=this[yn];this[yn]=t,this.requestUpdate("quads",r)}async updated(t){super.updated(t);let r=!1,i=!1;const n=this.quads&&this.quads.length>0;t.has("format")&&(r=n&&!this.noReserialize,i=!r),t.has("quads")&&(r=!0),(t.has("prefixes")||t.has("customPrefixes"))&&(r=n),i?this.parse():r&&this.__serialize()}async _parse(){const{toStream:t}=await lt(async()=>{const{toStream:o}=await import("./stream-DfaxZOSM.js");return{toStream:o}},__vite__mapDeps([23,2,16])),r=t(this.value),i=[],n={},l=this.$rdf.formats.parsers.import(this.format,r);if(!l){this.dispatchEvent(new CustomEvent("parsing-failed",{detail:{notFound:!0}}));return}l.on("prefix",(o,s)=>{n[o]=s});for await(const o of l)i.push(o);this[yn]=i,this.dispatchEvent(new CustomEvent("quads-changed",{detail:{value:i}})),this.__notifyParsedPrefixes(n)}async __serialize(){if(!this.format)return;await this.ready;const{Readable:t}=await lt(async()=>{const{Readable:o}=await import("./stream-DfaxZOSM.js");return{Readable:o}},__vite__mapDeps([23,2,16])),r=[...this.quads||[]],i=new t({objectMode:!0,read(){if(r.length===0){this.push(null);return}this.push(r.shift())}}),n=this.$rdf.formats.serializers.import(this.format,i,{prefixes:await this._combinePrefixes()});if(!n){this.value=`No serializer found for media type ${this.format}`;return}let l="";for await(const o of n)l+=o;this.format===_t.jsonLd&&(l=JSON.stringify(JSON.parse(l),null,2)),this.value=l,this.dispatchEvent(new CustomEvent("serialized",{detail:{value:l}}))}_errorLine(t){const r={message:t.message};return t.context&&t.context.line&&(r.from={line:t.context.line-1,ch:0},r.to={line:t.context.line-1,ch:Number.MAX_SAFE_INTEGER}),r}__notifyParsedPrefixes(t){const r={},i={...t};for(const[n,l]of Object.entries(t))n in Xl&&(r[n]=l,delete i[n]);this.dispatchEvent(new CustomEvent("prefixes-parsed",{detail:{prefixes:{...r,...i}}}))}}const Kf=new td([rd,id]);Kf.formats.import(yt);window.customElements.define("rdf-editor",class extends nd(Ip,Kf){});export{gd as a,md as b,tu as c,Ld as d,_t as m,Ad as r};
