import{a6 as $e,a7 as Oe}from"./index-BfYWPPsp.js";import{r as Qe,a as De}from"./rdf-editor-BIh2fq8w.js";import{a as J,r as it}from"./browser-2j7IlWdf.js";var re={exports:{}},he,Ne;function Je(){return Ne||(Ne=1,he=$e().EventEmitter),he}var ce,qe;function nt(){if(qe)return ce;qe=1;function S(l,d){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(l);d&&(o=o.filter(function(w){return Object.getOwnPropertyDescriptor(l,w).enumerable})),n.push.apply(n,o)}return n}function E(l){for(var d=1;d<arguments.length;d++){var n=arguments[d]!=null?arguments[d]:{};d%2?S(Object(n),!0).forEach(function(o){T(l,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(o){Object.defineProperty(l,o,Object.getOwnPropertyDescriptor(n,o))})}return l}function T(l,d,n){return d=y(d),d in l?Object.defineProperty(l,d,{value:n,enumerable:!0,configurable:!0,writable:!0}):l[d]=n,l}function D(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}function L(l,d){for(var n=0;n<d.length;n++){var o=d[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(l,y(o.key),o)}}function h(l,d,n){return d&&L(l.prototype,d),Object.defineProperty(l,"prototype",{writable:!1}),l}function y(l){var d=u(l,"string");return typeof d=="symbol"?d:String(d)}function u(l,d){if(typeof l!="object"||l===null)return l;var n=l[Symbol.toPrimitive];if(n!==void 0){var o=n.call(l,d);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}var f=Oe(),b=f.Buffer,R=Qe,p=R.inspect,a=p&&p.custom||"inspect";function _(l,d,n){b.prototype.copy.call(l,d,n)}return ce=function(){function l(){D(this,l),this.head=null,this.tail=null,this.length=0}return h(l,[{key:"push",value:function(n){var o={data:n,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}},{key:"unshift",value:function(n){var o={data:n,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length}},{key:"shift",value:function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(n){if(this.length===0)return"";for(var o=this.head,w=""+o.data;o=o.next;)w+=n+o.data;return w}},{key:"concat",value:function(n){if(this.length===0)return b.alloc(0);for(var o=b.allocUnsafe(n>>>0),w=this.head,g=0;w;)_(w.data,o,g),g+=w.data.length,w=w.next;return o}},{key:"consume",value:function(n,o){var w;return n<this.head.data.length?(w=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?w=this.shift():w=o?this._getString(n):this._getBuffer(n),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var o=this.head,w=1,g=o.data;for(n-=g.length;o=o.next;){var m=o.data,O=n>m.length?m.length:n;if(O===m.length?g+=m:g+=m.slice(0,n),n-=O,n===0){O===m.length?(++w,o.next?this.head=o.next:this.head=this.tail=null):(this.head=o,o.data=m.slice(O));break}++w}return this.length-=w,g}},{key:"_getBuffer",value:function(n){var o=b.allocUnsafe(n),w=this.head,g=1;for(w.data.copy(o),n-=w.data.length;w=w.next;){var m=w.data,O=n>m.length?m.length:n;if(m.copy(o,o.length-n,0,O),n-=O,n===0){O===m.length?(++g,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=m.slice(O));break}++g}return this.length-=g,o}},{key:a,value:function(n,o){return p(this,E(E({},o),{},{depth:0,customInspect:!1}))}}]),l}(),ce}var pe,je;function Xe(){if(je)return pe;je=1;function S(y,u){var f=this,b=this._readableState&&this._readableState.destroyed,R=this._writableState&&this._writableState.destroyed;return b||R?(u?u(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(L,this,y)):process.nextTick(L,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(p){!u&&p?f._writableState?f._writableState.errorEmitted?process.nextTick(T,f):(f._writableState.errorEmitted=!0,process.nextTick(E,f,p)):process.nextTick(E,f,p):u?(process.nextTick(T,f),u(p)):process.nextTick(T,f)}),this)}function E(y,u){L(y,u),T(y)}function T(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function D(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function L(y,u){y.emit("error",u)}function h(y,u){var f=y._readableState,b=y._writableState;f&&f.autoDestroy||b&&b.autoDestroy?y.destroy(u):y.emit("error",u)}return pe={destroy:S,undestroy:D,errorOrDestroy:h},pe}var be={},Ce;function K(){if(Ce)return be;Ce=1;function S(u,f){u.prototype=Object.create(f.prototype),u.prototype.constructor=u,u.__proto__=f}var E={};function T(u,f,b){b||(b=Error);function R(a,_,l){return typeof f=="string"?f:f(a,_,l)}var p=function(a){S(_,a);function _(l,d,n){return a.call(this,R(l,d,n))||this}return _}(b);p.prototype.name=b.name,p.prototype.code=u,E[u]=p}function D(u,f){if(Array.isArray(u)){var b=u.length;return u=u.map(function(R){return String(R)}),b>2?"one of ".concat(f," ").concat(u.slice(0,b-1).join(", "),", or ")+u[b-1]:b===2?"one of ".concat(f," ").concat(u[0]," or ").concat(u[1]):"of ".concat(f," ").concat(u[0])}else return"of ".concat(f," ").concat(String(u))}function L(u,f,b){return u.substr(0,f.length)===f}function h(u,f,b){return(b===void 0||b>u.length)&&(b=u.length),u.substring(b-f.length,b)===f}function y(u,f,b){return typeof b!="number"&&(b=0),b+f.length>u.length?!1:u.indexOf(f,b)!==-1}return T("ERR_INVALID_OPT_VALUE",function(u,f){return'The value "'+f+'" is invalid for option "'+u+'"'},TypeError),T("ERR_INVALID_ARG_TYPE",function(u,f,b){var R;typeof f=="string"&&L(f,"not ")?(R="must not be",f=f.replace(/^not /,"")):R="must be";var p;if(h(u," argument"))p="The ".concat(u," ").concat(R," ").concat(D(f,"type"));else{var a=y(u,".")?"property":"argument";p='The "'.concat(u,'" ').concat(a," ").concat(R," ").concat(D(f,"type"))}return p+=". Received type ".concat(typeof b),p},TypeError),T("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),T("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),T("ERR_STREAM_PREMATURE_CLOSE","Premature close"),T("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),T("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),T("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),T("ERR_STREAM_WRITE_AFTER_END","write after end"),T("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),T("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),T("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),be.codes=E,be}var _e,We;function ze(){if(We)return _e;We=1;var S=K().codes.ERR_INVALID_OPT_VALUE;function E(D,L,h){return D.highWaterMark!=null?D.highWaterMark:L?D[h]:null}function T(D,L,h,y){var u=E(L,y,h);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var f=y?h:"highWaterMark";throw new S(f,u)}return Math.floor(u)}return D.objectMode?16:16*1024}return _e={getHighWaterMark:T},_e}var we,Ie;function Ze(){if(Ie)return we;Ie=1,we=j;function S(i){var r=this;this.next=null,this.entry=null,this.finish=function(){le(r,i)}}var E;j.WritableState=P;var T={deprecate:it()},D=Je(),L=Oe().Buffer,h=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function y(i){return L.from(i)}function u(i){return L.isBuffer(i)||i instanceof h}var f=Xe(),b=ze(),R=b.getHighWaterMark,p=K().codes,a=p.ERR_INVALID_ARG_TYPE,_=p.ERR_METHOD_NOT_IMPLEMENTED,l=p.ERR_MULTIPLE_CALLBACK,d=p.ERR_STREAM_CANNOT_PIPE,n=p.ERR_STREAM_DESTROYED,o=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,g=p.ERR_UNKNOWN_ENCODING,m=f.errorOrDestroy;J()(j,D);function O(){}function P(i,r,c){E=E||Y(),i=i||{},typeof c!="boolean"&&(c=r instanceof E),this.objectMode=!!i.objectMode,c&&(this.objectMode=this.objectMode||!!i.writableObjectMode),this.highWaterMark=R(this,i,"writableHighWaterMark",c),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var M=i.decodeStrings===!1;this.decodeStrings=!M,this.defaultEncoding=i.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){ae(r,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=i.emitClose!==!1,this.autoDestroy=!!i.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new S(this)}P.prototype.getBuffer=function(){for(var r=this.bufferedRequest,c=[];r;)c.push(r),r=r.next;return c},function(){try{Object.defineProperty(P.prototype,"buffer",{get:T.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(r){return I.call(this,r)?!0:this!==j?!1:r&&r._writableState instanceof P}})):I=function(r){return r instanceof this};function j(i){E=E||Y();var r=this instanceof E;if(!r&&!I.call(j,this))return new j(i);this._writableState=new P(i,this,r),this.writable=!0,i&&(typeof i.write=="function"&&(this._write=i.write),typeof i.writev=="function"&&(this._writev=i.writev),typeof i.destroy=="function"&&(this._destroy=i.destroy),typeof i.final=="function"&&(this._final=i.final)),D.call(this)}j.prototype.pipe=function(){m(this,new d)};function A(i,r){var c=new w;m(i,c),process.nextTick(r,c)}function B(i,r,c,M){var q;return c===null?q=new o:typeof c!="string"&&!r.objectMode&&(q=new a("chunk",["string","Buffer"],c)),q?(m(i,q),process.nextTick(M,q),!1):!0}j.prototype.write=function(i,r,c){var M=this._writableState,q=!1,e=!M.objectMode&&u(i);return e&&!L.isBuffer(i)&&(i=y(i)),typeof r=="function"&&(c=r,r=null),e?r="buffer":r||(r=M.defaultEncoding),typeof c!="function"&&(c=O),M.ending?A(this,c):(e||B(this,M,i,c))&&(M.pendingcb++,q=ie(this,M,e,i,r,c)),q},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var i=this._writableState;i.corked&&(i.corked--,!i.writing&&!i.corked&&!i.bufferProcessing&&i.bufferedRequest&&F(this,i))},j.prototype.setDefaultEncoding=function(r){if(typeof r=="string"&&(r=r.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((r+"").toLowerCase())>-1))throw new g(r);return this._writableState.defaultEncoding=r,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function $(i,r,c){return!i.objectMode&&i.decodeStrings!==!1&&typeof r=="string"&&(r=L.from(r,c)),r}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ie(i,r,c,M,q,e){if(!c){var t=$(r,M,q);M!==t&&(c=!0,q="buffer",M=t)}var s=r.objectMode?1:M.length;r.length+=s;var v=r.length<r.highWaterMark;if(v||(r.needDrain=!0),r.writing||r.corked){var W=r.lastBufferedRequest;r.lastBufferedRequest={chunk:M,encoding:q,isBuf:c,callback:e,next:null},W?W.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1}else U(i,r,!1,s,M,q,e);return v}function U(i,r,c,M,q,e,t){r.writelen=M,r.writecb=t,r.writing=!0,r.sync=!0,r.destroyed?r.onwrite(new n("write")):c?i._writev(q,r.onwrite):i._write(q,e,r.onwrite),r.sync=!1}function ne(i,r,c,M,q){--r.pendingcb,c?(process.nextTick(q,M),process.nextTick(k,i,r),i._writableState.errorEmitted=!0,m(i,M)):(q(M),i._writableState.errorEmitted=!0,m(i,M),k(i,r))}function X(i){i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0}function ae(i,r){var c=i._writableState,M=c.sync,q=c.writecb;if(typeof q!="function")throw new l;if(X(c),r)ne(i,c,M,r,q);else{var e=Z(c)||i.destroyed;!e&&!c.corked&&!c.bufferProcessing&&c.bufferedRequest&&F(i,c),M?process.nextTick(x,i,c,e,q):x(i,c,e,q)}}function x(i,r,c,M){c||z(i,r),r.pendingcb--,M(),k(i,r)}function z(i,r){r.length===0&&r.needDrain&&(r.needDrain=!1,i.emit("drain"))}function F(i,r){r.bufferProcessing=!0;var c=r.bufferedRequest;if(i._writev&&c&&c.next){var M=r.bufferedRequestCount,q=new Array(M),e=r.corkedRequestsFree;e.entry=c;for(var t=0,s=!0;c;)q[t]=c,c.isBuf||(s=!1),c=c.next,t+=1;q.allBuffers=s,U(i,r,!0,r.length,q,"",e.finish),r.pendingcb++,r.lastBufferedRequest=null,e.next?(r.corkedRequestsFree=e.next,e.next=null):r.corkedRequestsFree=new S(r),r.bufferedRequestCount=0}else{for(;c;){var v=c.chunk,W=c.encoding,N=c.callback,C=r.objectMode?1:v.length;if(U(i,r,!1,C,v,W,N),c=c.next,r.bufferedRequestCount--,r.writing)break}c===null&&(r.lastBufferedRequest=null)}r.bufferedRequest=c,r.bufferProcessing=!1}j.prototype._write=function(i,r,c){c(new _("_write()"))},j.prototype._writev=null,j.prototype.end=function(i,r,c){var M=this._writableState;return typeof i=="function"?(c=i,i=null,r=null):typeof r=="function"&&(c=r,r=null),i!=null&&this.write(i,r),M.corked&&(M.corked=1,this.uncork()),M.ending||fe(this,M,c),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Z(i){return i.ending&&i.length===0&&i.bufferedRequest===null&&!i.finished&&!i.writing}function oe(i,r){i._final(function(c){r.pendingcb--,c&&m(i,c),r.prefinished=!0,i.emit("prefinish"),k(i,r)})}function ee(i,r){!r.prefinished&&!r.finalCalled&&(typeof i._final=="function"&&!r.destroyed?(r.pendingcb++,r.finalCalled=!0,process.nextTick(oe,i,r)):(r.prefinished=!0,i.emit("prefinish")))}function k(i,r){var c=Z(r);if(c&&(ee(i,r),r.pendingcb===0&&(r.finished=!0,i.emit("finish"),r.autoDestroy))){var M=i._readableState;(!M||M.autoDestroy&&M.endEmitted)&&i.destroy()}return c}function fe(i,r,c){r.ending=!0,k(i,r),c&&(r.finished?process.nextTick(c):i.once("finish",c)),r.ended=!0,i.writable=!1}function le(i,r,c){var M=i.entry;for(i.entry=null;M;){var q=M.callback;r.pendingcb--,q(c),M=M.next}r.corkedRequestsFree.next=i}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(r){this._writableState&&(this._writableState.destroyed=r)}}),j.prototype.destroy=f.destroy,j.prototype._undestroy=f.undestroy,j.prototype._destroy=function(i,r){r(i)},we}var ge,Be;function Y(){if(Be)return ge;Be=1;var S=Object.keys||function(b){var R=[];for(var p in b)R.push(p);return R};ge=y;var E=et(),T=Ze();J()(y,E);for(var D=S(T.prototype),L=0;L<D.length;L++){var h=D[L];y.prototype[h]||(y.prototype[h]=T.prototype[h])}function y(b){if(!(this instanceof y))return new y(b);E.call(this,b),T.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||process.nextTick(f,this)}function f(b){b.end()}return Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(R){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=R,this._writableState.destroyed=R)}}),ge}var ye,xe;function Pe(){if(xe)return ye;xe=1;var S=K().codes.ERR_STREAM_PREMATURE_CLOSE;function E(h){var y=!1;return function(){if(!y){y=!0;for(var u=arguments.length,f=new Array(u),b=0;b<u;b++)f[b]=arguments[b];h.apply(this,f)}}}function T(){}function D(h){return h.setHeader&&typeof h.abort=="function"}function L(h,y,u){if(typeof y=="function")return L(h,null,y);y||(y={}),u=E(u||T);var f=y.readable||y.readable!==!1&&h.readable,b=y.writable||y.writable!==!1&&h.writable,R=function(){h.writable||a()},p=h._writableState&&h._writableState.finished,a=function(){b=!1,p=!0,f||u.call(h)},_=h._readableState&&h._readableState.endEmitted,l=function(){f=!1,_=!0,b||u.call(h)},d=function(g){u.call(h,g)},n=function(){var g;if(f&&!_)return(!h._readableState||!h._readableState.ended)&&(g=new S),u.call(h,g);if(b&&!p)return(!h._writableState||!h._writableState.ended)&&(g=new S),u.call(h,g)},o=function(){h.req.on("finish",a)};return D(h)?(h.on("complete",a),h.on("abort",n),h.req?o():h.on("request",o)):b&&!h._writableState&&(h.on("end",R),h.on("close",R)),h.on("end",l),h.on("finish",a),y.error!==!1&&h.on("error",d),h.on("close",n),function(){h.removeListener("complete",a),h.removeListener("abort",n),h.removeListener("request",o),h.req&&h.req.removeListener("finish",a),h.removeListener("end",R),h.removeListener("close",R),h.removeListener("finish",a),h.removeListener("end",l),h.removeListener("error",d),h.removeListener("close",n)}}return ye=L,ye}var ve,ke;function at(){if(ke)return ve;ke=1;var S;function E(g,m,O){return m=T(m),m in g?Object.defineProperty(g,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):g[m]=O,g}function T(g){var m=D(g,"string");return typeof m=="symbol"?m:String(m)}function D(g,m){if(typeof g!="object"||g===null)return g;var O=g[Symbol.toPrimitive];if(O!==void 0){var P=O.call(g,m);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}var L=Pe(),h=Symbol("lastResolve"),y=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),b=Symbol("lastPromise"),R=Symbol("handlePromise"),p=Symbol("stream");function a(g,m){return{value:g,done:m}}function _(g){var m=g[h];if(m!==null){var O=g[p].read();O!==null&&(g[b]=null,g[h]=null,g[y]=null,m(a(O,!1)))}}function l(g){process.nextTick(_,g)}function d(g,m){return function(O,P){g.then(function(){if(m[f]){O(a(void 0,!0));return}m[R](O,P)},P)}}var n=Object.getPrototypeOf(function(){}),o=Object.setPrototypeOf((S={get stream(){return this[p]},next:function(){var m=this,O=this[u];if(O!==null)return Promise.reject(O);if(this[f])return Promise.resolve(a(void 0,!0));if(this[p].destroyed)return new Promise(function(A,B){process.nextTick(function(){m[u]?B(m[u]):A(a(void 0,!0))})});var P=this[b],I;if(P)I=new Promise(d(P,this));else{var j=this[p].read();if(j!==null)return Promise.resolve(a(j,!1));I=new Promise(this[R])}return this[b]=I,I}},E(S,Symbol.asyncIterator,function(){return this}),E(S,"return",function(){var m=this;return new Promise(function(O,P){m[p].destroy(null,function(I){if(I){P(I);return}O(a(void 0,!0))})})}),S),n),w=function(m){var O,P=Object.create(o,(O={},E(O,p,{value:m,writable:!0}),E(O,h,{value:null,writable:!0}),E(O,y,{value:null,writable:!0}),E(O,u,{value:null,writable:!0}),E(O,f,{value:m._readableState.endEmitted,writable:!0}),E(O,R,{value:function(j,A){var B=P[p].read();B?(P[b]=null,P[h]=null,P[y]=null,j(a(B,!1))):(P[h]=j,P[y]=A)},writable:!0}),O));return P[b]=null,L(m,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=P[y];j!==null&&(P[b]=null,P[h]=null,P[y]=null,j(I)),P[u]=I;return}var A=P[h];A!==null&&(P[b]=null,P[h]=null,P[y]=null,A(a(void 0,!0))),P[f]=!0}),m.on("readable",l.bind(null,P)),P};return ve=w,ve}var Re,Ue;function ot(){return Ue||(Ue=1,Re=function(){throw new Error("Readable.from is not available in the browser")}),Re}var Ee,Fe;function et(){if(Fe)return Ee;Fe=1,Ee=A;var S;A.ReadableState=j,$e().EventEmitter;var E=function(t,s){return t.listeners(s).length},T=Je(),D=Oe().Buffer,L=(typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(e){return D.from(e)}function y(e){return D.isBuffer(e)||e instanceof L}var u=Qe,f;u&&u.debuglog?f=u.debuglog("stream"):f=function(){};var b=nt(),R=Xe(),p=ze(),a=p.getHighWaterMark,_=K().codes,l=_.ERR_INVALID_ARG_TYPE,d=_.ERR_STREAM_PUSH_AFTER_EOF,n=_.ERR_METHOD_NOT_IMPLEMENTED,o=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,g,m;J()(A,T);var O=R.errorOrDestroy,P=["error","close","destroy","pause","resume"];function I(e,t,s){if(typeof e.prependListener=="function")return e.prependListener(t,s);!e._events||!e._events[t]?e.on(t,s):Array.isArray(e._events[t])?e._events[t].unshift(s):e._events[t]=[s,e._events[t]]}function j(e,t,s){S=S||Y(),e=e||{},typeof s!="boolean"&&(s=t instanceof S),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=a(this,e,"readableHighWaterMark",s),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(w||(w=De().StringDecoder),this.decoder=new w(e.encoding),this.encoding=e.encoding)}function A(e){if(S=S||Y(),!(this instanceof A))return new A(e);var t=this instanceof S;this._readableState=new j(e,this,t),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),T.call(this)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),A.prototype.destroy=R.destroy,A.prototype._undestroy=R.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var s=this._readableState,v;return s.objectMode?v=!0:typeof e=="string"&&(t=t||s.defaultEncoding,t!==s.encoding&&(e=D.from(e,t),t=""),v=!0),B(this,e,t,!1,v)},A.prototype.unshift=function(e){return B(this,e,null,!0,!1)};function B(e,t,s,v,W){f("readableAddChunk",t);var N=e._readableState;if(t===null)N.reading=!1,ae(e,N);else{var C;if(W||(C=ie(N,t)),C)O(e,C);else if(N.objectMode||t&&t.length>0)if(typeof t!="string"&&!N.objectMode&&Object.getPrototypeOf(t)!==D.prototype&&(t=h(t)),v)N.endEmitted?O(e,new o):$(e,N,t,!0);else if(N.ended)O(e,new d);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!s?(t=N.decoder.write(t),N.objectMode||t.length!==0?$(e,N,t,!1):F(e,N)):$(e,N,t,!1)}else v||(N.reading=!1,F(e,N))}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function $(e,t,s,v){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit("data",s)):(t.length+=t.objectMode?1:s.length,v?t.buffer.unshift(s):t.buffer.push(s),t.needReadable&&x(e)),F(e,t)}function ie(e,t){var s;return!y(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(s=new l("chunk",["string","Buffer","Uint8Array"],t)),s}A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(e){w||(w=De().StringDecoder);var t=new w(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var s=this._readableState.buffer.head,v="";s!==null;)v+=t.write(s.data),s=s.next;return this._readableState.buffer.clear(),v!==""&&this._readableState.buffer.push(v),this._readableState.length=v.length,this};var U=1073741824;function ne(e){return e>=U?e=U:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function X(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=ne(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}A.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,s=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended))return f("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?c(this):x(this),null;if(e=X(e,t),e===0&&t.ended)return t.length===0&&c(this),null;var v=t.needReadable;f("need readable",v),(t.length===0||t.length-e<t.highWaterMark)&&(v=!0,f("length less than watermark",v)),t.ended||t.reading?(v=!1,f("reading or ended",v)):v&&(f("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=X(s,t)));var W;return e>0?W=r(e,t):W=null,W===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),s!==e&&t.ended&&c(this)),W!==null&&this.emit("data",W),W};function ae(e,t){if(f("onEofChunk"),!t.ended){if(t.decoder){var s=t.decoder.end();s&&s.length&&(t.buffer.push(s),t.length+=t.objectMode?1:s.length)}t.ended=!0,t.sync?x(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,z(e)))}}function x(e){var t=e._readableState;f("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(z,e))}function z(e){var t=e._readableState;f("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,i(e)}function F(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(Z,e,t))}function Z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var s=t.length;if(f("maybeReadMore read 0"),e.read(0),s===t.length)break}t.readingMore=!1}A.prototype._read=function(e){O(this,new n("_read()"))},A.prototype.pipe=function(e,t){var s=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=e;break;case 1:v.pipes=[v.pipes,e];break;default:v.pipes.push(e);break}v.pipesCount+=1,f("pipe count=%d opts=%j",v.pipesCount,t);var W=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,N=W?H:Q;v.endEmitted?process.nextTick(N):s.once("end",N),e.on("unpipe",C);function C(G,V){f("onunpipe"),G===s&&V&&V.hasUnpiped===!1&&(V.hasUnpiped=!0,rt())}function H(){f("onend"),e.end()}var te=oe(s);e.on("drain",te);var Ae=!1;function rt(){f("cleanup"),e.removeListener("close",se),e.removeListener("finish",de),e.removeListener("drain",te),e.removeListener("error",ue),e.removeListener("unpipe",C),s.removeListener("end",H),s.removeListener("end",Q),s.removeListener("data",Le),Ae=!0,v.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&te()}s.on("data",Le);function Le(G){f("ondata");var V=e.write(G);f("dest.write",V),V===!1&&((v.pipesCount===1&&v.pipes===e||v.pipesCount>1&&q(v.pipes,e)!==-1)&&!Ae&&(f("false write response, pause",v.awaitDrain),v.awaitDrain++),s.pause())}function ue(G){f("onerror",G),Q(),e.removeListener("error",ue),E(e,"error")===0&&O(e,G)}I(e,"error",ue);function se(){e.removeListener("finish",de),Q()}e.once("close",se);function de(){f("onfinish"),e.removeListener("close",se),Q()}e.once("finish",de);function Q(){f("unpipe"),s.unpipe(e)}return e.emit("pipe",s),v.flowing||(f("pipe resume"),s.resume()),e};function oe(e){return function(){var s=e._readableState;f("pipeOnDrain",s.awaitDrain),s.awaitDrain&&s.awaitDrain--,s.awaitDrain===0&&E(e,"data")&&(s.flowing=!0,i(e))}}A.prototype.unpipe=function(e){var t=this._readableState,s={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,s),this);if(!e){var v=t.pipes,W=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var N=0;N<W;N++)v[N].emit("unpipe",this,{hasUnpiped:!1});return this}var C=q(t.pipes,e);return C===-1?this:(t.pipes.splice(C,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,s),this)},A.prototype.on=function(e,t){var s=T.prototype.on.call(this,e,t),v=this._readableState;return e==="data"?(v.readableListening=this.listenerCount("readable")>0,v.flowing!==!1&&this.resume()):e==="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,f("on readable",v.length,v.reading),v.length?x(this):v.reading||process.nextTick(k,this)),s},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var s=T.prototype.removeListener.call(this,e,t);return e==="readable"&&process.nextTick(ee,this),s},A.prototype.removeAllListeners=function(e){var t=T.prototype.removeAllListeners.apply(this,arguments);return(e==="readable"||e===void 0)&&process.nextTick(ee,this),t};function ee(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function k(e){f("readable nexttick read 0"),e.read(0)}A.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!e.readableListening,fe(this,e)),e.paused=!1,this};function fe(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(le,e,t))}function le(e,t){f("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),i(e),t.flowing&&!t.reading&&e.read(0)}A.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function i(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&e.read()!==null;);}A.prototype.wrap=function(e){var t=this,s=this._readableState,v=!1;e.on("end",function(){if(f("wrapped end"),s.decoder&&!s.ended){var C=s.decoder.end();C&&C.length&&t.push(C)}t.push(null)}),e.on("data",function(C){if(f("wrapped data"),s.decoder&&(C=s.decoder.write(C)),!(s.objectMode&&C==null)&&!(!s.objectMode&&(!C||!C.length))){var H=t.push(C);H||(v=!0,e.pause())}});for(var W in e)this[W]===void 0&&typeof e[W]=="function"&&(this[W]=function(H){return function(){return e[H].apply(e,arguments)}}(W));for(var N=0;N<P.length;N++)e.on(P[N],this.emit.bind(this,P[N]));return this._read=function(C){f("wrapped _read",C),v&&(v=!1,e.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=at()),g(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),A._fromList=r,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function r(e,t){if(t.length===0)return null;var s;return t.objectMode?s=t.buffer.shift():!e||e>=t.length?(t.decoder?s=t.buffer.join(""):t.buffer.length===1?s=t.buffer.first():s=t.buffer.concat(t.length),t.buffer.clear()):s=t.buffer.consume(e,t.decoder),s}function c(e){var t=e._readableState;f("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){if(f("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var s=t._writableState;(!s||s.autoDestroy&&s.finished)&&t.destroy()}}typeof Symbol=="function"&&(A.from=function(e,t){return m===void 0&&(m=ot()),m(A,e,t)});function q(e,t){for(var s=0,v=e.length;s<v;s++)if(e[s]===t)return s;return-1}return Ee}var Se,He;function tt(){if(He)return Se;He=1,Se=u;var S=K().codes,E=S.ERR_METHOD_NOT_IMPLEMENTED,T=S.ERR_MULTIPLE_CALLBACK,D=S.ERR_TRANSFORM_ALREADY_TRANSFORMING,L=S.ERR_TRANSFORM_WITH_LENGTH_0,h=Y();J()(u,h);function y(R,p){var a=this._transformState;a.transforming=!1;var _=a.writecb;if(_===null)return this.emit("error",new T);a.writechunk=null,a.writecb=null,p!=null&&this.push(p),_(R);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function u(R){if(!(this instanceof u))return new u(R);h.call(this,R),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,R&&(typeof R.transform=="function"&&(this._transform=R.transform),typeof R.flush=="function"&&(this._flush=R.flush)),this.on("prefinish",f)}function f(){var R=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,a){b(R,p,a)}):b(this,null,null)}u.prototype.push=function(R,p){return this._transformState.needTransform=!1,h.prototype.push.call(this,R,p)},u.prototype._transform=function(R,p,a){a(new E("_transform()"))},u.prototype._write=function(R,p,a){var _=this._transformState;if(_.writecb=a,_.writechunk=R,_.writeencoding=p,!_.transforming){var l=this._readableState;(_.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}},u.prototype._read=function(R){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},u.prototype._destroy=function(R,p){h.prototype._destroy.call(this,R,function(a){p(a)})};function b(R,p,a){if(p)return R.emit("error",p);if(a!=null&&R.push(a),R._writableState.length)throw new L;if(R._transformState.transforming)throw new D;return R.push(null)}return Se}var me,Ge;function ft(){if(Ge)return me;Ge=1,me=E;var S=tt();J()(E,S);function E(T){if(!(this instanceof E))return new E(T);S.call(this,T)}return E.prototype._transform=function(T,D,L){L(null,T)},me}var Te,Ve;function lt(){if(Ve)return Te;Ve=1;var S;function E(a){var _=!1;return function(){_||(_=!0,a.apply(void 0,arguments))}}var T=K().codes,D=T.ERR_MISSING_ARGS,L=T.ERR_STREAM_DESTROYED;function h(a){if(a)throw a}function y(a){return a.setHeader&&typeof a.abort=="function"}function u(a,_,l,d){d=E(d);var n=!1;a.on("close",function(){n=!0}),S===void 0&&(S=Pe()),S(a,{readable:_,writable:l},function(w){if(w)return d(w);n=!0,d()});var o=!1;return function(w){if(!n&&!o){if(o=!0,y(a))return a.abort();if(typeof a.destroy=="function")return a.destroy();d(w||new L("pipe"))}}}function f(a){a()}function b(a,_){return a.pipe(_)}function R(a){return!a.length||typeof a[a.length-1]!="function"?h:a.pop()}function p(){for(var a=arguments.length,_=new Array(a),l=0;l<a;l++)_[l]=arguments[l];var d=R(_);if(Array.isArray(_[0])&&(_=_[0]),_.length<2)throw new D("streams");var n,o=_.map(function(w,g){var m=g<_.length-1,O=g>0;return u(w,m,O,function(P){n||(n=P),P&&o.forEach(f),!m&&(o.forEach(f),d(n))})});return _.reduce(b)}return Te=p,Te}var Ye;function ut(){return Ye||(Ye=1,function(S,E){E=S.exports=et(),E.Stream=E,E.Readable=E,E.Writable=Ze(),E.Duplex=Y(),E.Transform=tt(),E.PassThrough=ft(),E.finished=Pe(),E.pipeline=lt()}(re,re.exports)),re.exports}var Me,Ke;function ct(){if(Ke)return Me;Ke=1;const S=ut();class E extends S.Readable{constructor(a={}){if(super(a),a.iterator)throw new Error("readable stream iterator shortcut not yet implemented")}until(a,_){return new Promise((l,d)=>{this.on("error",n=>{d(n)}),_?this.once(a,(...n)=>{l(this,...n)}):this.once(a,l)})}bucket(a="utf8"){if(this._readableState.objectMode)return new Promise((l,d)=>{let n=[];this.pipe(new S.Writable({write(o,w,g){n.push(o),g()},writev(o,w){n.push(...o),w()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})});if(a==="utf8"||a==="utf-8")return new Promise((l,d)=>{let n="";this.setEncoding(a),this.pipe(new S.Writable({decodeStrings:!1,write(o,w,g){n+=o,g()},writev(o,w){n+=o.join(""),w()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})});if(a==="buffer")return new Promise((l,d)=>{let n=Buffer.from([]);this.pipe(new S.Writable({decodeStrings:!0,write(o,w,g){n=Buffer.concat([n,o],n.length+o.length),g()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})})}}class T extends S.Writable{until(a,_){return new Promise((l,d)=>{this.on("error",n=>{d(n)}),_?this.once(a,(...n)=>{l(this,...n)}):this.once(a,l)})}import(a){return a.on("data",_=>this.write(_)).on("end",()=>this.end()).on("error",_=>this.emit("error",_)),this}}class D extends S.Duplex{until(a,_){return new Promise((l,d)=>{this.on("error",n=>{d(n)}),_?this.once(a,(...n)=>{l(this,...n)}):this.once(a,l)})}bucket(a="utf8"){if(this._readableState.objectMode)return new Promise((l,d)=>{let n=[];this.pipe(new S.Writable({write(o,w,g){n.push(o),g()},writev(o,w){n.push(...o),w()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})});if(a==="utf8"||a==="utf-8")return new Promise((l,d)=>{let n="";this.setEncoding(a),this.pipe(new S.Writable({decodeStrings:!1,write(o,w,g){n+=o,g()},writev(o,w){n+=o.join(""),w()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})});if(a==="buffer")return new Promise((l,d)=>{let n=Buffer.from([]);this.pipe(new S.Writable({decodeStrings:!0,write(o,w,g){n=Buffer.concat([n,o],n.length+o.length),g()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})})}}class L extends S.Transform{until(a,_){return new Promise((l,d)=>{this.on("error",n=>{d(n)}),_?this.once(a,(...n)=>{l(this,...n)}):this.once(a,l)})}bucket(a="utf8"){if(this._readableState.objectMode)return new Promise((l,d)=>{let n=[];this.pipe(new S.Writable({write(o,w,g){n.push(o),g()},writev(o,w){n.push(...o),w()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})});if(a==="utf8"||a==="utf-8")return new Promise((l,d)=>{let n="";this.setEncoding(a),this.pipe(new S.Writable({decodeStrings:!1,write(o,w,g){n+=o,g()},writev(o,w){n+=o.join(""),w()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})});if(a==="buffer")return new Promise((l,d)=>{let n=Buffer.from([]);this.pipe(new S.Writable({decodeStrings:!0,write(o,w,g){n=Buffer.concat([n,o],n.length+o.length),g()}})).on("error",o=>{d(o)}).on("finish",()=>{l(n)})})}import(a){return a.on("data",_=>this.write(_)).on("end",()=>this.end()).on("error",_=>this.emit("error",_)),this}demolish(a){if(this.push=_=>{if(_!==null)throw new Error("[ERR_STREAM_DESTROYED]: Cannot push after stream was destroyed")},this.emit=function(_,...l){_!=="end"&&Object.getPrototypeOf(this).emit.apply(this,[_,...l])},a)return S.Transform.prototype.destroy.call(this,a)}}const h=new Function("try {return this===global;}catch(e){return false;}")(),[y,u]=typeof process>"u"?[!0,!1]:process.browser?[!0,!0]:process.versions==="undefined"||process.versions.node==="undefined"?[!0,!1]:[!1,!1];(u||h&&+/^v(\d+)/.exec(process.version)[1]<10)&&(L.prototype.destroy=D.prototype.destroy=function(p,a){this._readableState.destroyed=!0,this._writableState.destroyed=!0;let _=()=>{this._writableState.emitClose&&this._readableState.emitClose&&this.emit("close")};return this._destroy(p||null,l=>{!a&&l?(process.nextTick(()=>{this.emit("error",l),_()}),this._writableState.errorEmitted=!0):(process.nextTick(_),a&&a(l))}),this},L.prototype._destroy=D.prototype._destroy=(p,a)=>a(p));class f extends L{constructor(a={}){super({...a,writableObjectMode:!0,readableObjectMode:!0}),this._as_inputs=new Set,this.on("pipe",_=>{this._as_inputs.add(_),_.on("prefix",(...l)=>{this.emit("prefix",...l)}).on("comment",(...l)=>{this.emit("comment",...l)})}),this.on("unpipe",_=>{this._as_inputs.delete(_)})}_destroy(){for(let a of this._as_inputs)a.destroy()}}class b extends f{_transform(a,_,l){l(null,JSON.stringify(a.isolate())+`
`)}}class R extends f{_transform(a,_,l){l(null,{type:"quad",value:a})}}return L.QuadsToOther=f,Me={...S,Readable:E,Writable:T,Duplex:D,Transform:L,QuadsToOther:f,quads_to_json(){return new b},quads_to_writable(){return new R},source(p,a=null){return!a&&typeof p=="string"&&(a="utf8"),new E({objectMode:!a&&typeof p!="string"&&!Buffer.isBuffer(p),read(){this.push(p,a),this.push(null)}})}},Me}export{ct as r};
